!function(t,e){for(var r in e)t[r]=e[r]}(exports,function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=32)}([function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e,r){t.exports=d,d.Minimatch=f;var n={sep:"/"};try{n=r(1)}catch(t){}var i=d.GLOBSTAR=f.GLOBSTAR={},s=r(15),$={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},o="[^/]",a=o+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",c="(?:(?!(?:\\/|^)\\.).)*?",u="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var h=/\/+/;function _(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function d(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new f(e,r).match(t))}function f(t,e){if(!(this instanceof f))return new f(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==n.sep&&(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(t,e){if(e||(e=this instanceof f?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}d.filter=function(t,e){return e=e||{},function(r,n,i){return d(r,t,e)}},d.defaults=function(t){if(!t||!Object.keys(t).length)return d;var e=d,r=function(r,n,i){return e.minimatch(r,n,_(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,_(t,n))},r},f.defaults=function(t){return t&&Object.keys(t).length?d.defaults(t).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map(function(t){return t.split(h)}),this.debug(this.pattern,r),r=r.map(function(t,e,r){return t.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,r),this.set=r},f.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,s=t.length;i<s&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},d.braceExpand=function(t,e){return p(t,e)},f.prototype.braceExpand=p,f.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return i;if(""===t)return"";var n,s="",l=!!r.nocase,c=!1,h=[],_=[],d=!1,f=-1,p=-1,y="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function b(){if(n){switch(n){case"*":s+=a,l=!0;break;case"?":s+=o,l=!0;break;default:s+="\\"+n}g.debug("clearStateChar %j %j",n,s),n=!1}}for(var v,x=0,w=t.length;x<w&&(v=t.charAt(x));x++)if(this.debug("%s\t%s %s %j",t,x,s,v),c&&u[v])s+="\\"+v,c=!1;else switch(v){case"/":return!1;case"\\":b(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,x,s,v),d){this.debug("  in class"),"!"===v&&x===p+1&&(v="^"),s+=v;continue}g.debug("call clearStateChar %j",n),b(),n=v,r.noext&&b();continue;case"(":if(d){s+="(";continue}if(!n){s+="\\(";continue}h.push({type:n,start:x-1,reStart:s.length,open:$[n].open,close:$[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(d||!h.length){s+="\\)";continue}b(),l=!0;var k=h.pop();s+=k.close,"!"===k.type&&_.push(k),k.reEnd=s.length;continue;case"|":if(d||!h.length||c){s+="\\|",c=!1;continue}b(),s+="|";continue;case"[":if(b(),d){s+="\\"+v;continue}d=!0,p=x,f=s.length,s+=v;continue;case"]":if(x===p+1||!d){s+="\\"+v,c=!1;continue}if(d){var E=t.substring(p+1,x);try{RegExp("["+E+"]")}catch(t){var A=this.parse(E,m);s=s.substr(0,f)+"\\["+A[0]+"\\]",l=l||A[1],d=!1;continue}}l=!0,d=!1,s+=v;continue;default:b(),c?c=!1:!u[v]||"^"===v&&d||(s+="\\"),s+=v}d&&(E=t.substr(p+1),A=this.parse(E,m),s=s.substr(0,f)+"\\["+A[0],l=l||A[1]);for(k=h.pop();k;k=h.pop()){var O=s.slice(k.reStart+k.open.length);this.debug("setting tail",s,k),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){return r||(r="\\"),e+e+r+"|"}),this.debug("tail=%j\n   %s",O,O,k,s);var S="*"===k.type?a:"?"===k.type?o:"\\"+k.type;l=!0,s=s.slice(0,k.reStart)+S+"\\("+O}b(),c&&(s+="\\\\");var R=!1;switch(s.charAt(0)){case".":case"[":case"(":R=!0}for(var C=_.length-1;C>-1;C--){var T=_[C],M=s.slice(0,T.reStart),I=s.slice(T.reStart,T.reEnd-8),N=s.slice(T.reEnd-8,T.reEnd),P=s.slice(T.reEnd);N+=P;var L=M.split("(").length-1,D=P;for(x=0;x<L;x++)D=D.replace(/\)[+*?]?/,"");var F="";""===(P=D)&&e!==m&&(F="$");var z=M+I+P+F+N;s=z}""!==s&&l&&(s="(?=.)"+s);R&&(s=y+s);if(e===m)return[s,l];if(!l)return t.replace(/\\(.)/g,"$1");var B=r.nocase?"i":"";try{var q=new RegExp("^"+s+"$",B)}catch(t){return new RegExp("$.")}return q._glob=t,q._src=s,q};var m={};d.makeRe=function(t,e){return new f(t,e||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?a:e.dot?l:c,n=e.nocase?"i":"",s=t.map(function(t){return t.map(function(t){return t===i?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=!1}return this.regexp},d.match=function(t,e,r){var n=new f(e,r=r||{});return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},f.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/"));t=t.split(h),this.debug(this.pattern,"split",t);var i,s,$=this.set;for(this.debug(this.pattern,"set",$),s=t.length-1;s>=0&&!(i=t[s]);s--);for(s=0;s<$.length;s++){var o=$[s],a=t;r.matchBase&&1===o.length&&(a=[i]);var l=this.matchOne(a,o,e);if(l)return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,$=0,o=t.length,a=e.length;s<o&&$<a;s++,$++){this.debug("matchOne loop");var l,c=e[$],u=t[s];if(this.debug(e,c,u),!1===c)return!1;if(c===i){this.debug("GLOBSTAR",[e,c,u]);var h=s,_=$+1;if(_===a){for(this.debug("** at the end");s<o;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<o;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,_,d),this.matchOne(t.slice(h),e.slice(_),r))return this.debug("globstar found match!",h,o,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,_);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,_),h!==o))}if("string"==typeof c?(l=n.nocase?u.toLowerCase()===c.toLowerCase():u===c,this.debug("string match",c,u,l)):(l=u.match(c),this.debug("pattern match",c,u,l)),!l)return!1}if(s===o&&$===a)return!0;if(s===o)return r;if($===a)return s===o-1&&""===t[s];throw new Error("wtf?")}},function(t,e){t.exports=require("util")},function(t,e,r){"use strict";function n(t){return"/"===t.charAt(0)}function i(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||n)}t.exports="win32"===process.platform?i:n,t.exports.posix=n,t.exports.win32=i},function(t,e,r){t.exports=y;var n=r(0),i=r(2),s=(i.Minimatch,r(18)),$=r(20).EventEmitter,o=r(1),a=r(6),l=r(4),c=r(21),u=r(7),h=(u.alphasort,u.alphasorti,u.setopts),_=u.ownProp,d=r(22),f=(r(3),u.childrenIgnored),p=u.isIgnored,m=r(9);function y(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return c(t,e)}return new b(t,e,r)}y.sync=c;var g=y.GlobSync=c.GlobSync;function b(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new g(t,e)}if(!(this instanceof b))return new b(t,e,r);h(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=m(r),this.on("error",r),this.on("end",function(t){r(null,t)}));var i=this;n=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(n),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return $();for(var s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,$);function $(){--i._processing,i._processing<=0&&i._finish()}}y.glob=y,y.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new b(t,r).minimatch.set;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},y.Glob=b,s(b,$),b.prototype._finish=function(){if(a(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();u.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},b.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),s=this,$=i.length;if(0===$)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(r,i){r=s._makeAbs(r),n.realpath(r,s.realpathCache,function(n,i){n?"stat"===n.syscall?o[r]=!0:s.emit("error",n):o[i]=!0,0==--$&&(s.matches[t]=o,e())})})},b.prototype._mark=function(t){return u.mark(this,t)},b.prototype._makeAbs=function(t){return u.makeAbs(this,t)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},b.prototype._process=function(t,e,r,n){if(a(this instanceof b),a("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,n]);else{for(var s,$=0;"string"==typeof t[$];)$++;switch($){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,$).join("/")}var o,c=t.slice($);null===s?o=".":l(s)||l(t.join("/"))?(s&&l(s)||(s="/"+s),o=s):o=s;var u=this._makeAbs(o);if(f(this,o))return n();c[0]===i.GLOBSTAR?this._processGlobStar(s,o,u,c,e,r,n):this._processReaddir(s,o,u,c,e,r,n)}},b.prototype._processReaddir=function(t,e,r,n,i,s,$){var o=this;this._readdir(r,s,function(a,l){return o._processReaddir2(t,e,r,n,i,s,l,$)})},b.prototype._processReaddir2=function(t,e,r,n,i,s,$,a){if(!$)return a();for(var l=n[0],c=!!this.minimatch.negate,u=l._glob,h=this.dot||"."===u.charAt(0),_=[],d=0;d<$.length;d++){if("."!==(p=$[d]).charAt(0)||h)(c&&!t?!p.match(l):p.match(l))&&_.push(p)}var f=_.length;if(0===f)return a();if(1===n.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<f;d++){var p=_[d];t&&(p="/"!==t?t+"/"+p:t+p),"/"!==p.charAt(0)||this.nomount||(p=o.join(this.root,p)),this._emitMatch(i,p)}return a()}n.shift();for(d=0;d<f;d++){p=_[d];t&&(p="/"!==t?t+"/"+p:t+p),this._process([p].concat(n),i,s,a)}a()},b.prototype._emitMatch=function(t,e){if(!this.aborted&&!this.matches[t][e]&&!p(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=this._makeAbs(e);if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.mark&&(e=this._mark(e)),this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}},b.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,i=d("lstat\0"+t,function(n,i){if(n)return e();var s=i.isSymbolicLink();r.symlinks[t]=s,s||i.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())});i&&n.lstat(t,i)}},b.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d("readdir\0"+t+"\0"+e,r))){if(e&&!_(this.symlinks,t))return this._readdirInGlobStar(t,r);if(_(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}n.readdir(t,function(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}(this,t,r))}},b.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},b.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(t)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},b.prototype._processGlobStar=function(t,e,r,n,i,s,$){var o=this;this._readdir(r,s,function(a,l){o._processGlobStar2(t,e,r,n,i,s,l,$)})},b.prototype._processGlobStar2=function(t,e,r,n,i,s,$,o){if(!$)return o();var a=n.slice(1),l=t?[t]:[],c=l.concat(a);this._process(c,i,!1,o);var u=this.symlinks[r],h=$.length;if(u&&s)return o();for(var _=0;_<h;_++){if("."!==$[_].charAt(0)||this.dot){var d=l.concat($[_],a);this._process(d,i,!0,o);var f=l.concat($[_],n);this._process(f,i,!0,o)}}o()},b.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})},b.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&l(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=o.join(this.root,t):(t=o.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},b.prototype._stat=function(t,e){var r=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&_(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!i||"DIR"===s)return e(null,s);if(i&&"FILE"===s)return e()}var $=this.statCache[r];if(void 0!==$){if(!1===$)return e(null,$);var o=$.isDirectory()?"DIR":"FILE";return i&&"FILE"===o?e():e(null,o,$)}var a=this,l=d("stat\0"+r,function(i,s){if(s&&s.isSymbolicLink())return n.stat(r,function(n,i){n?a._stat2(t,r,null,s,e):a._stat2(t,r,n,i,e)});a._stat2(t,r,i,s,e)});l&&n.lstat(r,l)},b.prototype._stat2=function(t,e,r,n,i){if(r)return this.statCache[e]=!1,i();var s="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&!n.isDirectory())return i(null,!1,n);var $=n.isDirectory()?"DIR":"FILE";return this.cache[e]=this.cache[e]||$,s&&"DIR"!==$?i():i(null,$,n)}},function(t,e){t.exports=require("assert")},function(t,e,r){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.alphasort=l,e.alphasorti=a,e.setopts=function(t,e,r){r||(r={});if(r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0);t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(c))}(t,r),t.changedCwd=!1;var s=process.cwd();n(r,"cwd")?(t.cwd=r.cwd,t.changedCwd=i.resolve(r.cwd)!==s):t.cwd=s;t.root=r.root||i.resolve(t.cwd,"/"),t.root=i.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new o(e,r),t.options=t.minimatch.options},e.ownProp=n,e.makeAbs=u,e.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(s&&0!==Object.keys(s).length){var $=Object.keys(s);e?r.push.apply(r,$):$.forEach(function(t){r[t]=!0})}else if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}e||(r=Object.keys(r));t.nosort||(r=r.sort(t.nocase?a:l));if(t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(t){return!/\/$/.test(t)}))}t.ignore.length&&(r=r.filter(function(e){return!h(t,e)}));t.found=r},e.mark=function(t,e){var r=u(t,e),n=t.cache[r],i=e;if(n){var s="DIR"===n||Array.isArray(n),$="/"===e.slice(-1);if(s&&!$?i+="/":!s&&$&&(i=i.slice(0,-1)),i!==e){var o=u(t,i);t.statCache[o]=t.statCache[r],t.cache[o]=t.cache[r]}}return i},e.isIgnored=h,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return!(!t.gmatcher||!t.gmatcher.match(e))})};var i=r(1),s=r(2),$=r(4),o=s.Minimatch;function a(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function l(t,e){return t.localeCompare(e)}function c(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new o(r,{dot:!0})}return{matcher:new o(t,{dot:!0}),gmatcher:e}}function u(t,e){return"/"===e.charAt(0)?i.join(t.root,e):$(e)||""===e?e:t.changedCwd?i.resolve(t.cwd,e):i.resolve(e)}function h(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))})}},function(t,e){t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){n[t]=e[t]});return n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}}},function(t,e,r){var n=r(8);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function s(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(s),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},function(t,e,r){(function(e){const n=Function.call,i=r(11).Opal;Function.call=n,t.exports=function(t){i.modules["asciidoctor/js/opal_ext/electron/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.send),i=t.gvars,s=r;return null==i.stdout&&(i.stdout=r),null==i.stderr&&(i.stderr=r),t.add_stubs(["$write_proc=","$-"]),s=[function(t){console.log(t)}],n(i.stdout,"write_proc=",t.to_a(s)),s[e(s.length,1)],s=[function(t){console.error(t)}],n(i.stderr,"write_proc=",t.to_a(s)),s[e(s.length,1)]},i.modules["asciidoctor/js/opal_ext/node"]=function(e){var r=e.top,n=[],i=(e.nil,e.const_get_qualified,e.const_get_relative);e.breaker,e.slice,e.add_stubs(["$==","$require"]);var s,$,o,a,l="object"==typeof navigator&&"string"==typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron");if("object"==typeof t&&"object"==typeof t.runtime){var c=t.runtime;s=c.platform,$=c.engine,o=c.framework,a=c.ioModule}a=a||"node",s=s||"node",$=$||"v8",o=l?o||"electron":o||"",e.const_set(n[0],"JAVASCRIPT_IO_MODULE",a),e.const_set(n[0],"JAVASCRIPT_PLATFORM",s),e.const_set(n[0],"JAVASCRIPT_ENGINE",$),e.const_set(n[0],"JAVASCRIPT_FRAMEWORK",o),i(n,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&r.$require("asciidoctor/js/opal_ext/electron/io"),e.load("pathname"),e.load("base64"),e.load("open-uri"),e.load("nodejs")},i.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.hash2,l=t.truthy,c=t.send,u=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,u,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j=_=o(i,null,"Set",_),U=j.prototype,H=[j].concat(h);U.hash=s,j.$include($(H,"Enumerable")),t.defs(j,"$[]",d=function(e){var r,n;return r=t.slice.call(arguments,0,arguments.length),n=r,this.$new(n)},d.$$arity=-1),t.def(j,"$initialize",f=function(e){var r,n=f.$$p,i=n||s;return n&&(f.$$p=null),n&&(f.$$p=null),null==e&&(e=s),this.hash=a([],{}),l(e["$nil?"]())?s:(l($(H,"Enumerable")["$==="](e))||this.$raise($(H,"ArgumentError"),"value must be enumerable"),l(i)?c(e,"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$add(t.yield1(i,e))}).$$s=this,r.$$arity=1,r)):this.$merge(e))},f.$$arity=-1),t.def(j,"$dup",p=function(){return this.$class().$new().$merge(this)},p.$$arity=0),t.def(j,"$-",m=function(t){return l(t["$respond_to?"]("each"))||this.$raise($(H,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},m.$$arity=1),t.alias(j,"difference","-"),t.def(j,"$inspect",y=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},y.$$arity=0),t.def(j,"$==",g=function(t){var e,r;return!!l(this["$equal?"](t))||(l(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!l(l(e=t["$is_a?"]($(H,"Set")))?this.$size()["$=="](t.$size()):e)&&c(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=s),null==t&&(t=s),e.hash["$include?"](t)}).$$s=this,r.$$arity=1,r)))},g.$$arity=1),t.def(j,"$add",b=function(r){var n=s;return n=[r,!0],c(this.hash,"[]=",t.to_a(n)),e(n.length,1),this},b.$$arity=1),t.alias(j,"<<","add"),t.def(j,"$classify",v=function(){var r,n,i=v.$$p,o=i||s,a=s;return i&&(v.$$p=null),i&&(v.$$p=null),o===s?this.$enum_for("classify"):(a=c($(H,"Hash"),"new",[],((r=function(n,i){var $=r.$$s||this,o=s;return null==n&&(n=s),null==i&&(i=s),o=[i,$.$class().$new()],c(n,"[]=",t.to_a(o)),o[e(o.length,1)]}).$$s=this,r.$$arity=2,r)),c(this,"each",[],((n=function(e){return n.$$s,null==e&&(e=s),a["$[]"](t.yield1(o,e)).$add(e)}).$$s=this,n.$$arity=1,n)),a)},v.$$arity=0),t.def(j,"$collect!",x=function(){var e,r=x.$$p,n=r||s,i=s;return r&&(x.$$p=null),r&&(x.$$p=null),n===s?this.$enum_for("collect!"):(i=this.$class().$new(),c(this,"each",[],((e=function(r){return e.$$s,null==r&&(r=s),i["$<<"](t.yield1(n,r))}).$$s=this,e.$$arity=1,e)),this.$replace(i))},x.$$arity=0),t.alias(j,"map!","collect!"),t.def(j,"$delete",w=function(t){return this.hash.$delete(t),this},w.$$arity=1),t.def(j,"$delete?",k=function(t){return l(this["$include?"](t))?(this.$delete(t),this):s},k.$$arity=1),t.def(j,"$delete_if",E=function(){var e,r,n=E.$$p,i=n||s;return n&&(E.$$p=null),i===s?this.$enum_for("delete_if"):(c(c(this,"select",[],((e=function(r){return e.$$s,null==r&&(r=s),t.yield1(i,r)}).$$s=this,e.$$arity=1,e)),"each",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=s),null==t&&(t=s),e.hash.$delete(t)}).$$s=this,r.$$arity=1,r)),this)},E.$$arity=0),t.def(j,"$add?",A=function(t){return l(this["$include?"](t))?s:this.$add(t)},A.$$arity=1),t.def(j,"$each",O=function(){var t=O.$$p,e=t||s;return t&&(O.$$p=null),t&&(O.$$p=null),e===s?this.$enum_for("each"):(c(this.hash,"each_key",[],e.$to_proc()),this)},O.$$arity=0),t.def(j,"$empty?",S=function(){return this.hash["$empty?"]()},S.$$arity=0),t.def(j,"$eql?",R=function(t){var e;return this.hash["$eql?"](c(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=s),t.hash}).$$s=this,e.$$arity=0,e)))},R.$$arity=1),t.def(j,"$clear",C=function(){return this.hash.$clear(),this},C.$$arity=0),t.def(j,"$include?",T=function(t){return this.hash["$include?"](t)},T.$$arity=1),t.alias(j,"member?","include?"),t.def(j,"$merge",M=function(t){var e;return c(t,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$add(t)}).$$s=this,e.$$arity=1,e)),this},M.$$arity=1),t.def(j,"$replace",I=function(t){return this.$clear(),this.$merge(t),this},I.$$arity=1),t.def(j,"$size",N=function(){return this.hash.$size()},N.$$arity=0),t.alias(j,"length","size"),t.def(j,"$subtract",P=function(t){var e;return c(t,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$delete(t)}).$$s=this,e.$$arity=1,e)),this},P.$$arity=1),t.def(j,"$|",L=function(t){return l(t["$respond_to?"]("each"))||this.$raise($(H,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},L.$$arity=1),t.def(j,"$superset?",D=function(t){var e;return l(t["$is_a?"]($(H,"Set")))||this.$raise($(H,"ArgumentError"),"value must be a set"),!l(r(this.$size(),t.$size()))&&c(t,"all?",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=s),r["$include?"](t)}).$$s=this,e.$$arity=1,e))},D.$$arity=1),t.alias(j,">=","superset?"),t.def(j,"$proper_superset?",F=function(t){var e;return l(t["$is_a?"]($(H,"Set")))||this.$raise($(H,"ArgumentError"),"value must be a set"),!l(n(this.$size(),t.$size()))&&c(t,"all?",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=s),r["$include?"](t)}).$$s=this,e.$$arity=1,e))},F.$$arity=1),t.alias(j,">","proper_superset?"),t.def(j,"$subset?",z=function(t){var e;return l(t["$is_a?"]($(H,"Set")))||this.$raise($(H,"ArgumentError"),"value must be a set"),!l(r(t.$size(),this.$size()))&&c(this,"all?",[],((e=function(r){return e.$$s,null==r&&(r=s),t["$include?"](r)}).$$s=this,e.$$arity=1,e))},z.$$arity=1),t.alias(j,"<=","subset?"),t.def(j,"$proper_subset?",B=function(t){var e;return l(t["$is_a?"]($(H,"Set")))||this.$raise($(H,"ArgumentError"),"value must be a set"),!l(n(t.$size(),this.$size()))&&c(this,"all?",[],((e=function(r){return e.$$s,null==r&&(r=s),t["$include?"](r)}).$$s=this,e.$$arity=1,e))},B.$$arity=1),t.alias(j,"<","proper_subset?"),t.alias(j,"+","|"),t.alias(j,"union","|"),t.def(j,"$to_a",q=function(){return this.hash.$keys()},q.$$arity=0)}(i[0],0,i),function(e,r){function n(){}var i,o=n=u(e,"Enumerable",n),a=(o.prototype,[o].concat(r));t.def(o,"$to_set",i=function(e,r){var n,o,l,u=i.$$p,h=u||s,_=this;return u&&(i.$$p=null),u&&(i.$$p=null),(n=t.slice.call(arguments,0,arguments.length)).length>0&&(o=n[0],n.splice(0,1)),null==o&&(o=$(a,"Set")),l=n,c(o,"new",[_].concat(t.to_a(l)),h.$to_proc())},i.$$arity=-1)}(i[0],i)},i.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.send,$=t.klass,o=t.truthy,a=t.gvars;return t.add_stubs(["$new","$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(e,$){function o(){}var a,l=o=i(e,"Kernel",o),c=(l.prototype,[l].concat($));t.def(l,"$open",a=function(e,i){var $,o,l=a.$$p,u=l||r,h=r;return l&&(a.$$p=null),$=t.slice.call(arguments,1,arguments.length),o=$,h=s(n(c,"File"),"new",[e].concat(t.to_a(o))),u!==r?t.yield1(u,h):h},a.$$arity=-2)}(e[0],e),function(e,i,s){function l(){}var c,u,h,_,d=l=$(e,null,"File",l),f=d.prototype,p=[d].concat(s);f.eof=f.path=r,d.$attr_reader("eof"),d.$attr_reader("lineno"),d.$attr_reader("path"),t.def(d,"$initialize",c=function(t,e){var n=r;return null==e&&(e="r"),this.path=t,this.contents=r,this.eof=!1,this.lineno=0,e=e.$delete("b"),n=/:(.*)/,e=e.$gsub(n,""),this.flags=e},c.$$arity=-2),t.def(d,"$read",u=function(){var t=r;return o(this.eof)?"":(t=n(p,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},u.$$arity=0),t.def(d,"$each_line",h=function(e){var i=h.$$p,s=i||r,$=this,l=r;if(null==a["/"]&&(a["/"]=r),i&&(h.$$p=null),i&&(h.$$p=null),null==e&&(e=a["/"]),o($.eof))return s!==r?$:[].$to_enum();if(s!==r){l=n(p,"File").$read($.path),$.eof=!1,$.lineno=0;for(var c=l.$chomp(),u=l.length!=c.length,_=c.split(e),d=0,f=_.length;d<f;d++)$.lineno+=1,d<f-1||u?t.yield1(s,_[d]+e):t.yield1(s,_[d]);return $.eof=!0,$}return $.$read().$each_line()},h.$$arity=-1),t.def(d,"$readlines",_=function(){return n(p,"File").$readlines(this.path)},_.$$arity=0),function(e,i){e.prototype;var s,$,o,l,c=[e].concat(i);t.def(e,"$readlines",s=function(t,e){return null==a["/"]&&(a["/"]=r),null==e&&(e=a["/"]),n(c,"File").$read(t).$split(e)},s.$$arity=-2),t.def(e,"$file?",$=function(t){return!0},$.$$arity=1),t.def(e,"$readable?",o=function(t){return!0},o.$$arity=1),t.def(e,"$read",l=function(t){return""},l.$$arity=1)}(t.get_singleton_class(d),p)}(e[0],0,e),function(e,i,s){function o(){}var a,l=o=$(e,null,"IO",o),c=(l.prototype,[l].concat(s));return t.defs(l,"$read",a=function(t){return n(c,"File").$read(t)},a.$$arity=1),r&&"read"}(e[0],0,e)},i.modules["asciidoctor/js/opal_ext/match_data"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$[]=","$-"]),function(e,s,$){function o(){}var a,l=o=n(e,null,"MatchData",o),c=l.prototype;return[l].concat($),c.matches=r,t.def(l,"$[]=",a=function(e,n){var s,$,o=r;return o=[e,n],i(this.matches,"[]=",t.to_a(o)),o[(s=o.length,$=1,"number"==typeof s&&"number"==typeof $?s-$:s["$-"]($))]},a.$$arity=2),r&&"[]="}(e[0],0,e)},i.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){function i(){}var s,$=i=r(e,"Kernel",i);$.prototype,[$].concat(n),t.def($,"$freeze",s=function(){return this},s.$$arity=0)}(e[0],e)},i.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified),n=(t.const_get_relative,t.breaker,t.slice,t.module),i=t.klass;return function(t,e){function s(){}var $=s=n(t,"ThreadSafe",s),o=($.prototype,[$].concat(e));!function(t,e,r){function n(){}var s=n=i(t,e,"Cache",n);s.prototype,[s].concat(r)}(o[0],r("::","Hash"),o)}(e[0],e)},i.modules["asciidoctor/js/opal_ext/string"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy,s=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(e,$,o){function a(){}var l,c,u=a=n(e,null,"String",a);return u.prototype,[u].concat(o),i(u["$method_defined?"]("limit_bytesize"))||t.def(u,"$limit_bytesize",l=function(t){var e,r;return i((e=t,r=this.$bytes().$length(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?this.$byteslice(0,t).$to_s():this.$to_s()},l.$$arity=1),i(u["$method_defined?"]("limit"))||t.alias(u,"limit","limit_bytesize"),t.alias(u,"_original_unpack","unpack"),t.def(u,"$unpack",c=function(t){var e;return t["$=="]("C3")?s(this["$[]"](0,3).$bytes().$select(),"with_index",[],((e=function(t,n){return e.$$s,null==t&&(t=r),null==n&&(n=r),n["$even?"]()}).$$s=this,e.$$arity=2,e)):this.$_original_unpack(t)},c.$$arity=1),r&&"unpack"}(e[0],0,e)},i.modules["asciidoctor/js/opal_ext/uri"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative),n=(t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),function(e,i){function s(){}var $,o,a=s=n(e,"URI",s),l=(a.prototype,[a].concat(i));t.defs(a,"$parse",$=function(t){return t.$extend(r(l,"URI"))},$.$$arity=1),t.def(a,"$path",o=function(){return this},o.$$arity=0)}(e[0],e)},i.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/node")},i.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module),$=t.send,o=t.gvars,a=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(r,l){function c(){}var u,h=c=s(r,"Asciidoctor",c),_=(h.prototype,[h].concat(l));t.const_set(_[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(h,"$unpack_hex_range",u=function(t){var e;return $(t,"gsub",[i(_,"HEX_RANGE_RX")],((e=function(){var t,r;return e.$$s,"\\u"+((t=o["~"])===n?n:t["$[]"](1))+(a(t=(r=o["~"])===n?n:r["$[]"](2))?"-\\u"+((r=o["~"])===n?n:r["$[]"](2)):t)}).$$s=this,e.$$arity=0,e))},u.$$arity=1),t.const_set(_[0],"P_L",e("A-Za-z",h.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set(_[0],"P_Nl",h.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set(_[0],"P_Nd",e("0-9",h.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set(_[0],"P_Pc",h.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set(_[0],"CC_ALPHA",""+i(_,"P_L")+i(_,"P_Nl")),t.const_set(_[0],"CG_ALPHA","["+i(_,"CC_ALPHA")+"]"),t.const_set(_[0],"CC_ALNUM",""+i(_,"CC_ALPHA")+i(_,"P_Nd")),t.const_set(_[0],"CG_ALNUM","["+i(_,"CC_ALNUM")+"]"),t.const_set(_[0],"CC_WORD",""+i(_,"CC_ALNUM")+i(_,"P_Pc")),t.const_set(_[0],"CG_WORD","["+i(_,"CC_WORD")+"]"),t.const_set(_[0],"CG_BLANK","[ \\t]"),t.const_set(_[0],"CC_EOL","(?=\\n|$)"),t.const_set(_[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set(_[0],"CC_ALL","[\\s\\S]"),t.const_set(_[0],"CC_ANY","[^\\n]")}(r[0],r)},i.modules.strscan=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(e,s,$){function o(){}var a,l,c,u,h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I=o=n(e,null,"StringScanner",o),N=I.prototype;return[I].concat($),N.pos=N.string=N.working=N.matched=N.prev_pos=N.match=r,I.$attr_reader("pos"),I.$attr_reader("matched"),t.def(I,"$initialize",a=function(t){return this.string=t,this.pos=0,this.matched=r,this.working=t,this.match=[]},a.$$arity=1),I.$attr_reader("string"),t.def(I,"$beginning_of_line?",l=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},l.$$arity=0),t.alias(I,"bol?","beginning_of_line?"),t.def(I,"$scan",c=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?this.matched=r:"object"==typeof e?(this.prev_pos=this.pos,this.pos+=e[0].length,this.working=this.working.substring(e[0].length),this.matched=e[0],this.match=e,e[0]):"string"==typeof e?(this.pos+=e.length,this.working=this.working.substring(e.length),e):r},c.$$arity=1),t.def(I,"$scan_until",u=function(t){t=this.$anchor(t);for(var e,n=this.pos,i=this.working;;){if(e=t.exec(i),n+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,n-this.pos-1+e[0].length),this.prev_pos=n-1,this.pos=n,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.matched=r}},u.$$arity=1),t.def(I,"$[]",h=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?r:null==e[t]?r:e[t]},h.$$arity=1),t.def(I,"$check",_=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?r:e[0]},_.$$arity=1),t.def(I,"$check_until",d=function(t){var e=this.prev_pos,n=this.pos,i=this.$scan_until(t);return i!==r&&(this.matched=i.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,i},d.$$arity=1),t.def(I,"$peek",f=function(t){return this.working.substring(0,t)},f.$$arity=1),t.def(I,"$eos?",p=function(){return 0===this.working.length},p.$$arity=0),t.def(I,"$exist?",m=function(t){var e=t.exec(this.working);return null==e?r:0==e.index?0:e.index+1},m.$$arity=1),t.def(I,"$skip",y=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=r;var n=e[0],i=n.length;return this.matched=n,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},y.$$arity=1),t.def(I,"$skip_until",g=function(t){var e=this.$scan_until(t);return e===r?r:(this.matched=e.substr(-1),e.length)},g.$$arity=1),t.def(I,"$get_byte",b=function(){var t=r;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=r,t},b.$$arity=0),t.alias(I,"getch","get_byte"),t.def(I,"$match?",v=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?r:(this.prev_pos=this.pos,e[0].length)},v.$$arity=1),t.def(I,"$pos=",x=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},x.$$arity=1),t.def(I,"$matched_size",w=function(){return this.matched===r?r:this.matched.length},w.$$arity=0),t.def(I,"$post_match",k=function(){return this.matched===r?r:this.string.substr(this.pos)},k.$$arity=0),t.def(I,"$pre_match",E=function(){return this.matched===r?r:this.string.substr(0,this.prev_pos)},E.$$arity=0),t.def(I,"$reset",A=function(){return this.working=this.string,this.matched=r,this.pos=0},A.$$arity=0),t.def(I,"$rest",O=function(){return this.working},O.$$arity=0),t.def(I,"$rest?",S=function(){return 0!==this.working.length},S.$$arity=0),t.def(I,"$rest_size",R=function(){return this.$rest().$size()},R.$$arity=0),t.def(I,"$terminate",C=function(){var e,n,s=r;return this.match=r,s=[this.string.$length()],i(this,"pos=",t.to_a(s)),s[(e=s.length,n=1,"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n))]},C.$$arity=0),t.def(I,"$unscan",T=function(){return this.pos=this.prev_pos,this.prev_pos=r,this.match=r,this},T.$$arity=0),I.$private(),t.def(I,"$anchor",M=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},M.$$arity=1),r&&"anchor"}(e[0],0,e)},i.modules["asciidoctor/js"]=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},i.modules.logger=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.klass),o=t.module,a=t.send,l=t.truthy;return t.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),function(r,c,u){function h(){}var _,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S=h=$(r,null,"Logger",h),R=S.prototype,C=[S].concat(u);return R.level=R.progname=R.pipe=R.formatter=n,function(e,r){function n(){}var i=n=o(e,"Severity",n),s=(i.prototype,[i].concat(r));t.const_set(s[0],"DEBUG",0),t.const_set(s[0],"INFO",1),t.const_set(s[0],"WARN",2),t.const_set(s[0],"ERROR",3),t.const_set(s[0],"FATAL",4),t.const_set(s[0],"UNKNOWN",5)}(C[0],C),S.$include(s(C,"Severity")),t.const_set(C[0],"SEVERITY_LABELS",a(s(C,"Severity").$constants(),"map",[],(_=function(t){return _.$$s,null==t&&(t=n),[s(C,"Severity").$const_get(t),t.$to_s()]},_.$$s=S,_.$$arity=1,_)).$to_h()),function(e,r,o){function a(){}var c,u,h=a=$(e,null,"Formatter",a),_=(h.prototype,[h].concat(o));t.const_set(_[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),t.const_set(_[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),t.def(h,"$call",c=function(t,e,r,n){return this.$format(s(_,"MESSAGE_FORMAT"),t.$chr(),e.$strftime(s(_,"DATE_TIME_FORMAT")),t,r,this.$message_as_string(n))},c.$$arity=4),t.def(h,"$message_as_string",u=function(t){var e,r,s,$=n;return $=t,i("::","String")["$==="]($)?t:i("::","Exception")["$==="]($)?(r=t.$message()+" ("+t.$class()+")\n",s=(l(e=t.$backtrace())?e:[]).$join("\n"),"number"==typeof r&&"number"==typeof s?r+s:r["$+"](s)):t.$inspect()},u.$$arity=1)}(C[0],0,C),S.$attr_reader("level"),S.$attr_accessor("progname"),S.$attr_accessor("formatter"),t.def(S,"$initialize",d=function(t){return this.pipe=t,this.level=s(C,"DEBUG"),this.formatter=s(C,"Formatter").$new()},d.$$arity=1),t.def(S,"$level=",f=function(t){var e=n;return l(i("::","Integer")["$==="](t))?this.level=t:l(e=s(C,"SEVERITY_LABELS").$key(t.$to_s().$upcase()))?this.level=e:this.$raise(s(C,"ArgumentError"),"invalid log level: "+t)},f.$$arity=1),t.def(S,"$info",p=function(t){var e=p.$$p,r=e||n;return e&&(p.$$p=null),e&&(p.$$p=null),null==t&&(t=n),a(this,"add",[s(C,"INFO"),n,t],r.$to_proc())},p.$$arity=-1),t.def(S,"$debug",m=function(t){var e=m.$$p,r=e||n;return e&&(m.$$p=null),e&&(m.$$p=null),null==t&&(t=n),a(this,"add",[s(C,"DEBUG"),n,t],r.$to_proc())},m.$$arity=-1),t.def(S,"$warn",y=function(t){var e=y.$$p,r=e||n;return e&&(y.$$p=null),e&&(y.$$p=null),null==t&&(t=n),a(this,"add",[s(C,"WARN"),n,t],r.$to_proc())},y.$$arity=-1),t.def(S,"$error",g=function(t){var e=g.$$p,r=e||n;return e&&(g.$$p=null),e&&(g.$$p=null),null==t&&(t=n),a(this,"add",[s(C,"ERROR"),n,t],r.$to_proc())},g.$$arity=-1),t.def(S,"$fatal",b=function(t){var e=b.$$p,r=e||n;return e&&(b.$$p=null),e&&(b.$$p=null),null==t&&(t=n),a(this,"add",[s(C,"FATAL"),n,t],r.$to_proc())},b.$$arity=-1),t.def(S,"$unknown",v=function(t){var e=v.$$p,r=e||n;return e&&(v.$$p=null),e&&(v.$$p=null),null==t&&(t=n),a(this,"add",[s(C,"UNKNOWN"),n,t],r.$to_proc())},v.$$arity=-1),t.def(S,"$info?",x=function(){return e(this.level,s(C,"INFO"))},x.$$arity=0),t.def(S,"$debug?",w=function(){return e(this.level,s(C,"DEBUG"))},w.$$arity=0),t.def(S,"$warn?",k=function(){return e(this.level,s(C,"WARN"))},k.$$arity=0),t.def(S,"$error?",E=function(){return e(this.level,s(C,"ERROR"))},E.$$arity=0),t.def(S,"$fatal?",A=function(){return e(this.level,s(C,"FATAL"))},A.$$arity=0),t.def(S,"$add",O=function(e,r,$){var o,a,c,u=O.$$p,h=u||n;return u&&(O.$$p=null),u&&(O.$$p=null),null==r&&(r=n),null==$&&($=n),!!l((a=e=l(o=e)?o:s(C,"UNKNOWN"),c=this.level,"number"==typeof a&&"number"==typeof c?a<c:a["$<"](c)))||($=l(o=$)?o:this.progname,l(r)||(h!==n?r=t.yieldX(h,[]):(r=$,$=this.progname)),this.pipe.$write(this.formatter.$call(l(o=s(C,"SEVERITY_LABELS")["$[]"](e))?o:"ANY",i("::","Time").$now(),$,r)),!0)},O.$$arity=-2),n&&"add"}(r[0],0,r)},i.modules["asciidoctor/logging"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=t.top,i=[],s=t.nil,$=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),l=t.klass,c=t.send,u=t.truthy,h=t.hash2,_=t.gvars;return t.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$map","$constants","$const_get","$to_sym","$<<","$clear","$empty?","$max","$attr_accessor","$memoize_logger","$private","$alias_method","$==","$define_method","$extend","$logger","$merge"]),n.$require("logger"),function(n,i){function d(){}var f=d=a(n,"Asciidoctor",d),p=(f.prototype,[f].concat(i));!function(n,i,_){function d(){}var f,p,m=d=l(n,i,"Logger",d),y=m.prototype,g=[m].concat(_);y.max_severity=s,m.$attr_reader("max_severity"),t.def(m,"$initialize",f=function(r){var n=f.$$p,i=s,$=s,a=s,l=s;for(n&&(f.$$p=null),a=0,l=arguments.length,$=new Array(l);a<l;a++)$[a]=arguments[a];return t.slice.call(arguments,0,arguments.length),c(this,t.find_super_dispatcher(this,"initialize",f,!1),$,n),i=["asciidoctor"],c(this,"progname=",t.to_a(i)),i[e(i.length,1)],i=[o(g,"BasicFormatter").$new()],c(this,"formatter=",t.to_a(i)),i[e(i.length,1)],i=[o(g,"WARN")],c(this,"level=",t.to_a(i)),i[e(i.length,1)]},f.$$arity=-1),t.def(m,"$add",p=function(e,n,i){var $,a=p.$$p,l=s,h=s,_=s;for(a&&(p.$$p=null),h=0,_=arguments.length,l=new Array(_);h<_;h++)l[h]=arguments[h];return null==n&&(n=s),null==i&&(i=s),u(r(e=u($=e)?$:o(g,"UNKNOWN"),this.max_severity=u($=this.max_severity)?$:e))&&(this.max_severity=e),c(this,t.find_super_dispatcher(this,"add",p,!1),l,a)},p.$$arity=-2),function(e,r,n){function i(){}var s,a=i=l(e,r,"BasicFormatter",i),c=(a.prototype,[a].concat(n));t.const_set(c[0],"SEVERITY_LABELS",h(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),t.def(a,"$call",s=function(t,e,r,n){var i;return r+": "+(u(i=o(c,"SEVERITY_LABELS")["$[]"](t))?i:t)+": "+(u($("::","String")["$==="](n))?n:n.$inspect())+"\n"},s.$$arity=4)}(g[0],o(g,"Formatter"),g),function(e,r){function n(){}var i,$=n=a(e,"AutoFormattingMessage",n);$.prototype,[$].concat(r),t.def($,"$inspect",i=function(){var t=s;return u(t=this["$[]"]("source_location"))?t+": "+this["$[]"]("text"):this["$[]"]("text")},i.$$arity=0)}(g[0],g)}(p[0],$("::","Logger"),p),function(r,n,i){function a(){}var _,d,f,p,m,y,g=a=l(r,n,"MemoryLogger",a),b=g.prototype,v=[g].concat(i);b.messages=s,t.const_set(v[0],"SEVERITY_LABELS",$("::","Hash")["$[]"](c(o(v,"Severity").$constants(),"map",[],((_=function(t){return _.$$s,null==t&&(t=s),[o(v,"Severity").$const_get(t),t.$to_sym()]}).$$s=g,_.$$arity=1,_)))),g.$attr_reader("messages"),t.def(g,"$initialize",d=function(){var r=s;return r=[o(v,"WARN")],c(this,"level=",t.to_a(r)),e(r.length,1),this.messages=[]},d.$$arity=0),t.def(g,"$add",f=function(e,r,n){var i,$=f.$$p,a=$||s;return $&&(f.$$p=null),null==r&&(r=s),null==n&&(n=s),u(r)||(r=a!==s?t.yieldX(a,[]):n),this.messages["$<<"](h(["severity","message"],{severity:o(v,"SEVERITY_LABELS")["$[]"](u(i=e)?i:o(v,"UNKNOWN")),message:r})),!0},f.$$arity=-2),t.def(g,"$clear",p=function(){return this.messages.$clear()},p.$$arity=0),t.def(g,"$empty?",m=function(){return this.messages["$empty?"]()},m.$$arity=0),t.def(g,"$max_severity",y=function(){var t;return u(this["$empty?"]())?s:c(this.messages,"map",[],(t=function(e){return t.$$s,null==e&&(e=s),o(v,"Severity").$const_get(e["$[]"]("severity"))},t.$$s=this,t.$$arity=1,t)).$max()},y.$$arity=0)}(p[0],$("::","Logger"),p),function(e,n,i){function $(){}var a,c,h=$=l(e,n,"NullLogger",$),_=h.prototype,d=[h].concat(i);_.max_severity=s,h.$attr_reader("max_severity"),t.def(h,"$initialize",a=function(){return s},a.$$arity=0),t.def(h,"$add",c=function(t,e,n){var i;return null==e&&(e=s),null==n&&(n=s),u(r(t=u(i=t)?i:o(d,"UNKNOWN"),this.max_severity=u(i=this.max_severity)?i:t))&&(this.max_severity=t),!0},c.$$arity=-2)}(p[0],$("::","Logger"),p),function(e,r){function n(){}var i=n=a(e,"LoggerManager",n),$=(i.prototype,[i].concat(r));i.logger_class=o($,"Logger"),function(e,r){e.prototype;var n,i,$,a=[e].concat(r);e.$attr_accessor("logger_class"),t.def(e,"$logger",n=function(t){var e;return null==this.logger&&(this.logger=s),null==this.logger_class&&(this.logger_class=s),null==_.stderr&&(_.stderr=s),null==t&&(t=_.stderr),this.$memoize_logger(),this.logger=u(e=this.logger)?e:this.logger_class.$new(t)},n.$$arity=-1),t.def(e,"$logger=",i=function(t){var e;return null==this.logger_class&&(this.logger_class=s),null==_.stderr&&(_.stderr=s),this.logger=u(e=t)?e:this.logger_class.$new(_.stderr)},i.$$arity=1),e.$private(),t.def(e,"$memoize_logger",$=function(){return function(t,e){t.prototype;var r,n=[t].concat(e);return t.$alias_method("logger","logger"),o(n,"RUBY_ENGINE")["$=="]("opal")?c(t,"define_method",["logger"],((r=function(){var t=r.$$s||this;return null==t.logger&&(t.logger=s),t.logger}).$$s=t,r.$$arity=0,r)):s}(t.get_singleton_class(this),a)},$.$$arity=0)}(t.get_singleton_class(i),$)}(p[0],p),function(e,r){function n(){}var i,s,l,c=n=a(e,"Logging",n),u=(c.prototype,[c].concat(r));t.defs(c,"$included",i=function(t){return t.$extend(o(u,"Logging"))},i.$$arity=1),c.$private(),t.def(c,"$logger",s=function(){return o(u,"LoggerManager").$logger()},s.$$arity=0),t.def(c,"$message_with_context",l=function(t,e){return null==e&&(e=h([],{})),h(["text"],{text:t}).$merge(e).$extend($(o(u,"Logger"),"AutoFormattingMessage"))},l.$$arity=-2)}(p[0],p)}(i[0],i)},i.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,a=t.hash2,l=t.send,c=t.truthy,u=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert","$const_defined?","$respond_to?","$clock_gettime"]),function(r,h){function _(){}var d=_=$(r,"Asciidoctor",_),f=(d.prototype,[d].concat(h));!function(r,$,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R=_=o(r,null,"Timings",_),C=R.prototype,T=[R].concat(h);C.timers=C.log=n,t.def(R,"$initialize",d=function(){return this.log=a([],{}),this.timers=a([],{})},d.$$arity=0),t.def(R,"$start",f=function(r){var i=n;return i=[r,this.$now()],l(this.timers,"[]=",t.to_a(i)),i[e(i.length,1)]},f.$$arity=1),t.def(R,"$record",p=function(r){var i=n;return i=[r,e(this.$now(),this.timers.$delete(r))],l(this.log,"[]=",t.to_a(i)),i[e(i.length,1)]},p.$$arity=1),t.def(R,"$time",m=function(e){var r,i,s,$,o=n;return r=t.slice.call(arguments,0,arguments.length),o=l(r,"reduce",[0],((i=function(t,e){var r,s,$,o=i.$$s||this;return null==o.log&&(o.log=n),null==t&&(t=n),null==e&&(e=n),s=t,$=c(r=o.log["$[]"](e))?r:0,"number"==typeof s&&"number"==typeof $?s+$:s["$+"]($)}).$$s=this,i.$$arity=2,i)),c(($=0,"number"==typeof(s=o)&&"number"==typeof $?s>$:s["$>"]($)))?o:n},m.$$arity=-1),t.def(R,"$read",y=function(){return this.$time("read")},y.$$arity=0),t.def(R,"$parse",g=function(){return this.$time("parse")},g.$$arity=0),t.def(R,"$read_parse",b=function(){return this.$time("read","parse")},b.$$arity=0),t.def(R,"$convert",v=function(){return this.$time("convert")},v.$$arity=0),t.def(R,"$read_parse_convert",x=function(){return this.$time("read","parse","convert")},x.$$arity=0),t.def(R,"$write",w=function(){return this.$time("write")},w.$$arity=0),t.def(R,"$total",k=function(){return this.$time("read","parse","convert","write")},k.$$arity=0),t.def(R,"$print_report",E=function(t,e){return null==u.stdout&&(u.stdout=n),null==t&&(t=u.stdout),null==e&&(e=n),c(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},E.$$arity=-1),c(c(A=i("::","Process")["$const_defined?"]("CLOCK_MONOTONIC"))?i("::","Process")["$respond_to?"]("clock_gettime"):A)?(t.const_set(T[0],"CLOCK_ID",i(i("::","Process"),"CLOCK_MONOTONIC")),t.def(R,"$now",O=function(){return i("::","Process").$clock_gettime(s(T,"CLOCK_ID"))},O.$$arity=0)):t.def(R,"$now",S=function(){return i("::","Time").$now()},S.$$arity=0)}(f[0],0,f)}(r[0],r)},i.modules["asciidoctor/version"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){function i(){}var s=i=r(e,"Asciidoctor",i),$=(s.prototype,[s].concat(n));t.const_set($[0],"VERSION","1.5.8")}(e[0],e)},i.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,r,s){function $(){}var o=$=n(e,null,"NilClass",$);o.prototype,[o].concat(s),i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","nil?")}(e[0],0,e),function(e,r,s){function $(){}var o=$=n(e,null,"String",$);o.prototype,[o].concat(s),i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,r,s){function $(){}var o=$=n(e,null,"Array",$);o.prototype,[o].concat(s),i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,r,s){function $(){}var o=$=n(e,null,"Hash",$);o.prototype,[o].concat(s),i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,s,$){function o(){}var a=o=n(e,null,"Numeric",o);return a.prototype,[a].concat($),i(a["$method_defined?"]("nil_or_empty?"))?r:t.alias(a,"nil_or_empty?","nil?")}(e[0],0,e)},i.modules["asciidoctor/core_ext/regexp/is_match"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,s,$){function o(){}var a=o=n(e,null,"Regexp",o);return a.prototype,[a].concat($),i(a["$method_defined?"]("match?"))?r:t.alias(a,"match?","===")}(e[0],0,e)},i.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=(t.const_get_relative,t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(r,o,a){function l(){}var c,u=l=s(r,null,"String",l);return u.prototype,[u].concat(a),$(u["$method_defined?"]("limit_bytesize"))?n:(t.def(u,"$limit_bytesize",c=function(t){var r,s,o=n;if(!$((r=t,s=this.$bytesize(),"number"==typeof r&&"number"==typeof s?r<s:r["$<"](s))))return this;for(;!$((o=this.$byteslice(0,t)).$force_encoding(i(i("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)t=e(t,1);return o},c.$$arity=1),n&&"limit_bytesize")}(r[0],0,r)},i.modules["asciidoctor/core_ext/1.8.7/io/binread"]=function(t){t.top;var e,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.truthy),$=t.send;return t.add_stubs(["$respond_to?","$open","$==","$seek","$read"]),s(i(r,"IO")["$respond_to?"]("binread"))?n:(t.defs(i(r,"IO"),"$binread",e=function(t,e,o){var a;return null==e&&(e=n),null==o&&(o=0),$(i(r,"File"),"open",[t,"rb"],((a=function(t){return a.$$s,null==t&&(t=n),o["$=="](0)||t.$seek(o),s(e)?t.$read(e):t.$read()}).$$s=this,a.$$arity=1,a))},e.$$arity=-2),n&&"binread")},i.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){t.top;var e,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.truthy),$=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),s(i(r,"IO")["$respond_to?"]("write"))?n:(t.defs(i(r,"IO"),"$write",e=function(t,e,s,o){var a;return null==s&&(s=0),null==o&&(o=n),$(i(r,"File"),"open",[t,"w"],((a=function(t){return a.$$s,null==t&&(t=n),t.$write(e)}).$$s=this,a.$$arity=1,a))},e.$$arity=-3),n&&"write")},i.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),s(i(r,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),i(r,"RUBY_ENGINE")["$=="]("opal")?(e.$require("asciidoctor/core_ext/1.8.7/io/binread"),e.$require("asciidoctor/core_ext/1.8.7/io/write")):n):(s(i(r,"RUBY_ENGINE")["$!="]("opal")),n)},i.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.truthy,a=t.send,l=t.gvars,c=t.hash2;return t.add_stubs(["$require","$include?","$include","$==","$===","$raise","$warn","$logger","$chomp","$message","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$join","$map","$each_line","$encode","$force_encoding","$length","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$basename","$extname","$directory?","$dirname","$mkdir_p","$mkdir","$divmod","$*"]),function(r,u){function h(){}var _=h=$(r,"Asciidoctor",h),d=(_.prototype,[_].concat(u));!function(r,u){function h(){}var _,d,f,p,m,y,g,b,v,x,w,k=h=$(r,"Helpers",h),E=(k.prototype,[k].concat(u));t.defs(k,"$require_library",_=function(e,r,$){var a=n,l=n;null==r&&(r=!0),null==$&&($="abort");try{return this.$require(e)}catch(c){if(!t.rescue(c,[i("::","LoadError")]))throw c;a=c;try{return o(this["$include?"](s(E,"Logging")))||this.$include(s(E,"Logging")),o(r)?(r["$=="](!0)&&(r=e),"abort"["$==="](l=$)?this.$raise(i("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not installed. Processing aborted."):"warn"["$==="](l)&&this.$logger().$warn("optional gem '"+r+"' is not installed. Functionality disabled.")):"abort"["$==="](l=$)?this.$raise(i("::","LoadError"),"asciidoctor: FAILED: "+a.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](l)&&this.$logger().$warn(a.$message().$chomp(".")+". Functionality disabled."),n}finally{t.pop_exception()}}},_.$$arity=-2),t.defs(k,"$normalize_lines",d=function(t){return o(i("::","String")["$==="](t))?this.$normalize_lines_from_string(t):this.$normalize_lines_array(t)},d.$$arity=1),t.defs(k,"$normalize_lines_array",f=function(r){var $,l,c,u,h=n,_=n,d=n,f=n,p=n;return o(r["$empty?"]())?r:(h=(_=r["$[]"](0)).$unpack("C3"),o(s(E,"COERCE_ENCODING"))?(d=i(i("::","Encoding"),"UTF_8"),(f=h.$slice(0,2))["$=="](s(E,"BOM_BYTES_UTF_16LE"))?(r=r.$join(),a(r.$force_encoding(i(i("::","Encoding"),"UTF_16LE")).$slice(1,r.$length()).$encode(d).$each_line(),"map",[],(($=function(t){return $.$$s,null==t&&(t=n),t.$rstrip()}).$$s=this,$.$$arity=1,$))):f["$=="](s(E,"BOM_BYTES_UTF_16BE"))?(p=[0,_.$force_encoding(i(i("::","Encoding"),"UTF_16BE")).$slice(1,_.$length())],a(r,"[]=",t.to_a(p)),p[e(p.length,1)],a(r,"map",[],((l=function(t){return l.$$s,null==t&&(t=n),t.$force_encoding(i(i("::","Encoding"),"UTF_16BE")).$encode(d).$rstrip()}).$$s=this,l.$$arity=1,l))):(h["$=="](s(E,"BOM_BYTES_UTF_8"))&&(p=[0,_.$force_encoding(d).$slice(1,_.$length())],a(r,"[]=",t.to_a(p)),p[e(p.length,1)]),a(r,"map",[],((c=function(t){return c.$$s,null==t&&(t=n),t.$encoding()["$=="](d)?t.$rstrip():t.$force_encoding(d).$rstrip()}).$$s=this,c.$$arity=1,c)))):(h["$=="](s(E,"BOM_BYTES_UTF_8"))&&(p=[0,_.$slice(3,_.$length())],a(r,"[]=",t.to_a(p)),p[e(p.length,1)]),a(r,"map",[],((u=function(t){return u.$$s,null==t&&(t=n),t.$rstrip()}).$$s=this,u.$$arity=1,u))))},f.$$arity=1),t.defs(k,"$normalize_lines_from_string",p=function(t){var e,r=n,$=n,l=n;return o(t["$nil_or_empty?"]())?[]:(r=t.$unpack("C3"),o(s(E,"COERCE_ENCODING"))?($=i(i("::","Encoding"),"UTF_8"),(l=r.$slice(0,2))["$=="](s(E,"BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(i(i("::","Encoding"),"UTF_16LE")).$slice(1,t.$length()).$encode($):l["$=="](s(E,"BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(i(i("::","Encoding"),"UTF_16BE")).$slice(1,t.$length()).$encode($):r["$=="](s(E,"BOM_BYTES_UTF_8"))?t=t.$encoding()["$=="]($)?t.$slice(1,t.$length()):t.$force_encoding($).$slice(1,t.$length()):t.$encoding()["$=="]($)||(t=t.$force_encoding($))):r["$=="](s(E,"BOM_BYTES_UTF_8"))&&(t=t.$slice(3,t.$length())),a(t.$each_line(),"map",[],((e=function(t){return e.$$s,null==t&&(t=n),t.$rstrip()}).$$s=this,e.$$arity=1,e)))},p.$$arity=1),t.defs(k,"$uriish?",m=function(t){var e;return o(e=t["$include?"](":"))?s(E,"UriSniffRx")["$match?"](t):e},m.$$arity=1),t.defs(k,"$uri_prefix",y=function(t){var e;return o(o(e=t["$include?"](":"))?s(E,"UriSniffRx")["$=~"](t):e)?(e=l["~"])===n?n:e["$[]"](0):n},y.$$arity=1),t.const_set(E[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(k,"$uri_encode",g=function(t){var e;return a(t,"gsub",[s(E,"REGEXP_ENCODE_URI_CHARS")],((e=function(){var t,r,i=e.$$s||this;return a(((t=l["~"])===n?n:t["$[]"](0)).$each_byte(),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$sprintf("%%%02X",t)},r.$$s=i,r.$$arity=1,r)).$join()}).$$s=this,e.$$arity=0,e))},g.$$arity=1),t.defs(k,"$rootname",b=function(t){var e;return t.$slice(0,o(e=t.$rindex("."))?e:t.$length())},b.$$arity=1),t.defs(k,"$basename",v=function(t,e){return null==e&&(e=n),o(e)?i("::","File").$basename(t,e["$=="](!0)?i("::","File").$extname(t):e):i("::","File").$basename(t)},v.$$arity=-2),t.defs(k,"$mkdir_p",x=function(e){var r=n;if(o(i("::","File")["$directory?"](e)))return n;(r=i("::","File").$dirname(e))["$=="](".")||this.$mkdir_p(r);try{return i("::","Dir").$mkdir(e)}catch(r){if(!t.rescue(r,[i("::","SystemCallError")]))throw r;try{return o(i("::","File")["$directory?"](e))?n:this.$raise()}finally{t.pop_exception()}}},x.$$arity=1),t.const_set(E[0],"ROMAN_NUMERALS",c(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),t.defs(k,"$int_to_roman",w=function(e){var r;return a(s(E,"ROMAN_NUMERALS"),"map",[],(r=function(i,s){r.$$s;var $,o,a,l,c=n;return null==i&&(i=n),null==s&&(s=n),o=e.$divmod(s),$=t.to_ary(o),c=null==$[0]?n:$[0],e=null==$[1]?n:$[1],l=c,"number"==typeof(a=i)&&"number"==typeof l?a*l:a["$*"](l)},r.$$s=this,r.$$arity=2,r)).$join()},w.$$arity=1)}(d[0],d)}(r[0],r)},i.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var $=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice),u=t.module,h=t.hash2,_=t.hash,d=t.truthy,f=t.send,p=t.gvars;return t.add_stubs(["$freeze","$+","$keys","$chr","$attr_reader","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$split","$apply_subs","$compat_mode","$gsub","$==","$length","$>","$*","$-","$end_with?","$slice","$parse_quoted_text_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$extract_inner_passthrough","$to_sym","$attributes","$basebackend?","$=~","$to_i","$convert","$new","$clear","$match?","$convert_quoted_text","$do_replacement","$sub","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$tr_s","$delete","$reject","$strip","$index","$min","$compact","$map","$chop","$unescape_bracketed_text","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$nil_or_empty?","$parse_attributes","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$parse","$uri_encode","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$text","$style","$lstrip","$parse_into","$extname","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$key","$attr?","$attr","$to_s","$read_next_id","$callouts","$<","$<<","$shorthand_property_syntax","$concat","$each_char","$drop","$&","$resolve_subs","$nil?","$require_library","$sub_source","$resolve_lines_to_highlight","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$count","$to_a","$uniq","$sort","$resolve_block_subs"]),function($,m){function y(){}var g=y=u($,"Asciidoctor",y),b=(g.prototype,[g].concat(m));!function($,m){function y(){}var g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q=y=u($,"Substitutors",y),tt=(Q.prototype,[Q].concat(m));t.const_set(tt[0],"SpecialCharsRx",/[<&>]/),t.const_set(tt[0],"SpecialCharsTr",h([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(tt[0],"QuotedTextSniffRx",_(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(tt[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(tt[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(tt[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(tt[0],"NONE_SUBS",[]).$freeze(),t.const_set(tt[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),t.const_set(tt[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(tt[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(tt[0],"SUB_GROUPS",h(["none","normal","verbatim","specialchars"],{none:l(tt,"NONE_SUBS"),normal:l(tt,"NORMAL_SUBS"),verbatim:l(tt,"VERBATIM_SUBS"),specialchars:l(tt,"BASIC_SUBS")})),t.const_set(tt[0],"SUB_HINTS",h(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(tt[0],"SUB_OPTIONS",h(["block","inline"],{block:e(e(l(tt,"SUB_GROUPS").$keys(),l(tt,"NORMAL_SUBS")),["callouts"]),inline:e(l(tt,"SUB_GROUPS").$keys(),l(tt,"NORMAL_SUBS"))})),t.const_set(tt[0],"SUB_HIGHLIGHT",["coderay","pygments"]),d(a("::","RUBY_MIN_VERSION_1_9"))?(t.const_set(tt[0],"CAN",""),t.const_set(tt[0],"DEL",""),t.const_set(tt[0],"PASS_START",""),t.const_set(tt[0],"PASS_END","")):(t.const_set(tt[0],"CAN",24..$chr()),t.const_set(tt[0],"DEL",127..$chr()),t.const_set(tt[0],"PASS_START",150..$chr()),t.const_set(tt[0],"PASS_END",151..$chr())),t.const_set(tt[0],"PassSlotRx",new RegExp(l(tt,"PASS_START")+"(\\d+)"+l(tt,"PASS_END"))),t.const_set(tt[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+l(tt,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+l(tt,"PASS_END")+"</span>")),t.const_set(tt[0],"RS","\\"),t.const_set(tt[0],"R_SB","]"),t.const_set(tt[0],"ESC_R_SB","\\]"),t.const_set(tt[0],"PLUS","+"),t.const_set(tt[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),t.const_set(tt[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),Q.$attr_reader("passthroughs"),t.def(Q,"$apply_subs",g=function(t,e){var r,n,i=o,s=o;return null==this.passthroughs&&(this.passthroughs=o),null==e&&(e=l(tt,"NORMAL_SUBS")),d(d(r=t["$empty?"]())?r:e["$!"]())?t:(d(i=a("::","Array")["$==="](t))&&(t=d(t["$[]"](1))?t.$join(l(tt,"LF")):t["$[]"](0)),d(s=e["$include?"]("macros"))&&(t=this.$extract_passthroughs(t),d(this.passthroughs["$empty?"]())&&(s=!1)),f(e,"each",[],((n=function(r){var i=n.$$s||this,s=o;return null==r&&(r=o),"specialcharacters"["$==="](s=r)?t=i.$sub_specialchars(t):"quotes"["$==="](s)?t=i.$sub_quotes(t):"attributes"["$==="](s)?d(t["$include?"](l(tt,"ATTR_REF_HEAD")))?t=i.$sub_attributes(t):o:"replacements"["$==="](s)?t=i.$sub_replacements(t):"macros"["$==="](s)?t=i.$sub_macros(t):"highlight"["$==="](s)?t=i.$highlight_source(t,e["$include?"]("callouts")):"callouts"["$==="](s)?d(e["$include?"]("highlight"))?o:t=i.$sub_callouts(t):"post_replacements"["$==="](s)?t=i.$sub_post_replacements(t):i.$logger().$warn("unknown substitution type "+r)}).$$s=this,n.$$arity=1,n)),d(s)&&(t=this.$restore_passthroughs(t)),d(i)?t.$split(l(tt,"LF"),-1):t)},g.$$arity=-2),t.def(Q,"$apply_normal_subs",b=function(t){return this.$apply_subs(t)},b.$$arity=1),t.def(Q,"$apply_title_subs",v=function(t){return this.$apply_subs(t,l(tt,"TITLE_SUBS"))},v.$$arity=1),t.def(Q,"$apply_reftext_subs",x=function(t){return this.$apply_subs(t,l(tt,"REFTEXT_SUBS"))},x.$$arity=1),t.def(Q,"$apply_header_subs",w=function(t){return this.$apply_subs(t,l(tt,"HEADER_SUBS"))},w.$$arity=1),t.def(Q,"$extract_passthroughs",k=function(e){var s,$,a,c,u,_=o,m=o,y=o,g=o,b=o;return null==this.document&&(this.document=o),null==this.passthroughs&&(this.passthroughs=o),_=this.document.$compat_mode(),m=this.passthroughs,d(d(s=d($=e["$include?"]("++"))?$:e["$include?"]("$$"))?s:e["$include?"]("ss:"))&&(e=f(e,"gsub",[l(tt,"InlinePassMacroRx")],((a=function(){var e,s=a.$$s||this,$=o,c=o,u=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o;if(null==p["~"]&&(p["~"]=o),$=p["~"],c=o,d(u=$["$[]"](4))){if(d(d(e=_)?u["$=="]("++"):e))return d($["$[]"](2))?$["$[]"](1)+"["+$["$[]"](2)+"]"+$["$[]"](3)+"++"+s.$extract_passthroughs($["$[]"](5))+"++":""+$["$[]"](1)+$["$[]"](3)+"++"+s.$extract_passthroughs($["$[]"](5))+"++";if(y=$["$[]"](2),g=$["$[]"](3).$length(),b=$["$[]"](5),v=!1,d(y)){if(d(r(g,0)))return $["$[]"](1)+"["+y+"]"+n(l(tt,"RS"),i(g,1))+u+$["$[]"](5)+u;$["$[]"](1)["$=="](l(tt,"RS"))?(c="["+y+"]",y=o):(d((e=u["$=="]("++"))?y["$end_with?"]("x-"):u["$=="]("++"))&&(v=!0,y=y.$slice(0,i(y.$length(),2))),y=s.$parse_quoted_text_attributes(y))}else if(d(r(g,0)))return""+n(l(tt,"RS"),i(g,1))+u+$["$[]"](5)+u;x=u["$=="]("+++")?[]:l(tt,"BASIC_SUBS"),w=m.$size(),d(y)?d(v)?(k=[w,h(["text","subs","type","attributes"],{text:b,subs:l(tt,"NORMAL_SUBS"),type:"monospaced",attributes:y})],f(m,"[]=",t.to_a(k)),k[i(k.length,1)]):(k=[w,h(["text","subs","type","attributes"],{text:b,subs:x,type:"unquoted",attributes:y})],f(m,"[]=",t.to_a(k)),k[i(k.length,1)]):(k=[w,h(["text","subs"],{text:b,subs:x})],f(m,"[]=",t.to_a(k)),k[i(k.length,1)])}else{if($["$[]"](6)["$=="](l(tt,"RS")))return $["$[]"](0).$slice(1,$["$[]"](0).$length());k=[w=m.$size(),h(["text","subs"],{text:s.$unescape_brackets($["$[]"](8)),subs:d($["$[]"](7))?s.$resolve_pass_subs($["$[]"](7)):o})],f(m,"[]=",t.to_a(k)),k[i(k.length,1)]}return""+c+l(tt,"PASS_START")+w+l(tt,"PASS_END")}).$$s=this,a.$$arity=0,a))),$=l(tt,"InlinePassRx")["$[]"](_),s=t.to_ary($),y=null==s[0]?o:s[0],g=null==s[1]?o:s[1],b=null==s[2]?o:s[2],d(d(s=e["$include?"](y))?s:d($=g)?e["$include?"](g):$)&&(e=f(e,"gsub",[b],((c=function(){var e,r=c.$$s||this,n=o,s=o,$=o,a=o,u=o,y=o,g=o,b=o,v=o,x=o,w=o;if(null==p["~"]&&(p["~"]=o),n=p["~"],s=n["$[]"](1),$=n["$[]"](2),d((a=n["$[]"](3))["$start_with?"](l(tt,"RS")))&&(u=l(tt,"RS")),y=n["$[]"](4),g=n["$[]"](5),d(_)?b=!0:d(b=d(e=$)?$["$end_with?"]("x-"):e)&&($=$.$slice(0,i($.$length(),2))),d($)){if(d((e=y["$=="]("`"))?b["$!"]():y["$=="]("`")))return r.$extract_inner_passthrough(g,s+"["+$+"]"+u,$);if(d(u))return s+"["+$+"]"+a.$slice(1,a.$length());s["$=="](l(tt,"RS"))?(s="["+$+"]",$=o):$=r.$parse_quoted_text_attributes($)}else{if(d((e=y["$=="]("`"))?b["$!"]():y["$=="]("`")))return r.$extract_inner_passthrough(g,""+s+u);if(d(u))return""+s+a.$slice(1,a.$length())}return v=m.$size(),d(_)?(x=[v,h(["text","subs","attributes","type"],{text:g,subs:l(tt,"BASIC_SUBS"),attributes:$,type:"monospaced"})],f(m,"[]=",t.to_a(x)),x[i(x.length,1)]):d($)?d(b)?(w=y["$=="]("`")?l(tt,"BASIC_SUBS"):l(tt,"NORMAL_SUBS"),x=[v,h(["text","subs","attributes","type"],{text:g,subs:w,attributes:$,type:"monospaced"})],f(m,"[]=",t.to_a(x)),x[i(x.length,1)]):(x=[v,h(["text","subs","attributes","type"],{text:g,subs:l(tt,"BASIC_SUBS"),attributes:$,type:"unquoted"})],f(m,"[]=",t.to_a(x)),x[i(x.length,1)]):(x=[v,h(["text","subs"],{text:g,subs:l(tt,"BASIC_SUBS")})],f(m,"[]=",t.to_a(x)),x[i(x.length,1)]),""+s+l(tt,"PASS_START")+v+l(tt,"PASS_END")}).$$s=this,c.$$arity=0,c))),d(d(s=e["$include?"](":"))?d($=e["$include?"]("stem:"))?$:e["$include?"]("math:"):s)&&(e=f(e,"gsub",[l(tt,"InlineStemMacroRx")],((u=function(){var e,r=u.$$s||this,n=o,s=o,$=o,a=o,c=o,_=o;return null==r.document&&(r.document=o),null==p["~"]&&(p["~"]=o),n=p["~"],d(((e=p["~"])===o?o:e["$[]"](0))["$start_with?"](l(tt,"RS")))?n["$[]"](0).$slice(1,n["$[]"](0).$length()):((s=n["$[]"](1).$to_sym())["$=="]("stem")&&(s=l(tt,"STEM_TYPE_ALIASES")["$[]"](r.document.$attributes()["$[]"]("stem")).$to_sym()),$=r.$unescape_brackets(n["$[]"](3)),a=d(n["$[]"](2))?r.$resolve_pass_subs(n["$[]"](2)):d(r.document["$basebackend?"]("html"))?l(tt,"BASIC_SUBS"):o,c=[_=m.$size(),h(["text","subs","type"],{text:$,subs:a,type:s})],f(m,"[]=",t.to_a(c)),i(c.length,1),""+l(tt,"PASS_START")+_+l(tt,"PASS_END"))}).$$s=this,u.$$arity=0,u))),e},k.$$arity=1),t.def(Q,"$extract_inner_passthrough",E=function(e,r,n){var s,$,a=o,c=o;return null==this.passthroughs&&(this.passthroughs=o),null==n&&(n=o),d(d(s=d($=e["$end_with?"]("+"))?e["$start_with?"]("+","\\+"):$)?l(tt,"SinglePlusInlinePassRx")["$=~"](e):s)?d((s=p["~"])===o?o:s["$[]"](1))?r+"`+"+((s=p["~"])===o?o:s["$[]"](2))+"+`":(a=[c=this.passthroughs.$size(),d(n)?h(["text","subs","attributes","type"],{text:(s=p["~"])===o?o:s["$[]"](2),subs:l(tt,"BASIC_SUBS"),attributes:n,type:"unquoted"}):h(["text","subs"],{text:(s=p["~"])===o?o:s["$[]"](2),subs:l(tt,"BASIC_SUBS")})],f(this.passthroughs,"[]=",t.to_a(a)),a[i(a.length,1)],r+"`"+l(tt,"PASS_START")+c+l(tt,"PASS_END")+"`"):r+"`"+e+"`"},E.$$arity=-3),t.def(Q,"$restore_passthroughs",A=function(t,e){var r,n=this,i=o;return null==n.passthroughs&&(n.passthroughs=o),null==e&&(e=!0),function(){try{return i=n.passthroughs,f(t,"gsub",[l(tt,"PassSlotRx")],((r=function(){var t,e=r.$$s||this,n=o,s=o,$=o;return n=i["$[]"](((t=p["~"])===o?o:t["$[]"](1)).$to_i()),s=e.$apply_subs(n["$[]"]("text"),n["$[]"]("subs")),d($=n["$[]"]("type"))&&(s=l(tt,"Inline").$new(e,"quoted",s,h(["type","attributes"],{type:$,attributes:n["$[]"]("attributes")})).$convert()),d(s["$include?"](l(tt,"PASS_START")))?e.$restore_passthroughs(s,!1):s}).$$s=n,r.$$arity=0,r))}finally{d(e)&&i.$clear()}}()},A.$$arity=-2),l(tt,"RUBY_ENGINE")["$=="]("opal")&&(t.def(Q,"$sub_quotes",O=function(t){var e,r=o;return null==this.document&&(this.document=o),d(l(tt,"QuotedTextSniffRx")["$[]"](r=this.document.$compat_mode())["$match?"](t))&&f(l(tt,"QUOTE_SUBS")["$[]"](r),"each",[],((e=function(r,n,i){var s,$=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=f(t,"gsub",[i],((s=function(){var t=s.$$s||this;return null==p["~"]&&(p["~"]=o),t.$convert_quoted_text(p["~"],r,n)}).$$s=$,s.$$arity=0,s))}).$$s=this,e.$$arity=3,e)),t},O.$$arity=1),t.def(Q,"$sub_replacements",S=function(t){var e;return d(l(tt,"ReplaceableTextRx")["$match?"](t))&&f(l(tt,"REPLACEMENTS"),"each",[],((e=function(r,n,i){var s,$=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=f(t,"gsub",[r],((s=function(){var t=s.$$s||this;return null==p["~"]&&(p["~"]=o),t.$do_replacement(p["~"],n,i)}).$$s=$,s.$$arity=0,s))}).$$s=this,e.$$arity=3,e)),t},S.$$arity=1)),d(a("::","RUBY_MIN_VERSION_1_9"))?t.def(Q,"$sub_specialchars",R=function(t){var e,r;return d(d(e=d(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?t.$gsub(l(tt,"SpecialCharsRx"),l(tt,"SpecialCharsTr")):t},R.$$arity=1):t.def(Q,"$sub_specialchars",C=function(t){var e,r,n;return d(d(e=d(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?f(t,"gsub",[l(tt,"SpecialCharsRx")],((n=function(){var t;return n.$$s,l(tt,"SpecialCharsTr")["$[]"]((t=p["~"])===o?o:t["$[]"](0))}).$$s=this,n.$$arity=0,n)):t},C.$$arity=1),t.alias(Q,"sub_specialcharacters","sub_specialchars"),t.def(Q,"$do_replacement",T=function(t,e,r){var n=o,i=o;return d((n=t["$[]"](0))["$include?"](l(tt,"RS")))?n.$sub(l(tt,"RS"),""):"none"["$==="](i=r)?e:"bounding"["$==="](i)?""+t["$[]"](1)+e+t["$[]"](2):""+t["$[]"](1)+e},T.$$arity=3),t.def(Q,"$sub_attributes",M=function(e,r){var n,i,s,$,a=o,c=o,u=o,_=o,m=o,y=o,g=o;return null==this.document&&(this.document=o),null==r&&(r=h([],{})),a=this.document.$attributes(),c=u=_=m=y=o,e=f(e,"gsub",[l(tt,"AttributeReferenceRx")],((n=function(){var e,i,s,$=n.$$s||this,h=o,g=o,b=o,v=o;return null==$.document&&($.document=o),d(d(e=((i=p["~"])===o?o:i["$[]"](1))["$=="](l(tt,"RS")))?e:((i=p["~"])===o?o:i["$[]"](4))["$=="](l(tt,"RS")))?"{"+((e=p["~"])===o?o:e["$[]"](2))+"}":d((e=p["~"])===o?o:e["$[]"](3))?(h=(g=((e=p["~"])===o?o:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](h)?(i=l(tt,"Parser").$store_attribute(g["$[]"](0),d(s=g["$[]"](1))?s:"",$.document),null==(e=t.to_ary(i))[0]||e[0],b=null==e[1]?o:e[1],c=d(d(e=b)?e:(m=d(i=m)?i:d(s=a["$[]"]("attribute-undefined"))?s:l(tt,"Compliance").$attribute_undefined())["$!="]("drop-line"))?_=l(tt,"DEL"):u=l(tt,"CAN")):"counter2"["$==="](h)?(f($.document,"counter",t.to_a(g)),c=_=l(tt,"DEL")):f($.document,"counter",t.to_a(g))):d(a["$key?"](v=((e=p["~"])===o?o:e["$[]"](2)).$downcase()))?a["$[]"](v):d(b=l(tt,"INTRINSIC_ATTRIBUTES")["$[]"](v))?b:(h=y=d(e=y)?e:d(i=d(s=r["$[]"]("attribute_missing"))?s:a["$[]"]("attribute-missing"))?i:l(tt,"Compliance").$attribute_missing(),"drop"["$==="](h)?c=_=l(tt,"DEL"):"drop-line"["$==="](h)?($.$logger().$warn("dropping line containing reference to missing attribute: "+v),c=u=l(tt,"CAN")):"warn"["$==="](h)?($.$logger().$warn("skipping reference to missing attribute: "+v),(e=p["~"])===o?o:e["$[]"](0)):(e=p["~"])===o?o:e["$[]"](0))}).$$s=this,n.$$arity=0,n)),d(c)?d(_)?(g=e.$tr_s(l(tt,"DEL"),l(tt,"DEL")).$split(l(tt,"LF"),-1),d(u)?f(g,"reject",[],(i=function(t){var e,r,n;return i.$$s,null==t&&(t=o),d(e=d(r=d(n=t["$=="](l(tt,"DEL")))?n:t["$=="](l(tt,"CAN")))?r:t["$start_with?"](l(tt,"CAN")))?e:t["$include?"](l(tt,"CAN"))},i.$$s=this,i.$$arity=1,i)).$join(l(tt,"LF")).$delete(l(tt,"DEL")):f(g,"reject",[],(s=function(t){return s.$$s,null==t&&(t=o),t["$=="](l(tt,"DEL"))},s.$$s=this,s.$$arity=1,s)).$join(l(tt,"LF")).$delete(l(tt,"DEL"))):d(e["$include?"](l(tt,"LF")))?f(e.$split(l(tt,"LF"),-1),"reject",[],($=function(t){var e,r;return $.$$s,null==t&&(t=o),d(e=d(r=t["$=="](l(tt,"CAN")))?r:t["$start_with?"](l(tt,"CAN")))?e:t["$include?"](l(tt,"CAN"))},$.$$s=this,$.$$arity=1,$)).$join(l(tt,"LF")):"":e},M.$$arity=-2),t.def(Q,"$sub_macros",I=function(e){try{var n,s,$,u,_,m,y,g,b,v,x,w,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o;return null==this.document&&(this.document=o),k=h([],{}),A=["square_bracket",e["$include?"]("[")],f(k,"[]=",t.to_a(A)),E=A[i(A.length,1)],O=e["$include?"](":"),A=["macroish",d(n=E)?O:n],f(k,"[]=",t.to_a(A)),S=A[i(A.length,1)],R=d(n=S)?e["$include?"](":["):n,C=(T=this.document).$attributes(),d(C["$key?"]("experimental"))&&(d(d(n=R)?d(s=e["$include?"]("kbd:"))?s:e["$include?"]("btn:"):n)&&(e=f(e,"gsub",[l(tt,"InlineKbdBtnMacroRx")],(($=function(){var e,n,s,a=$.$$s||this,c=o,u=o,_=o;return d((e=p["~"])===o?o:e["$[]"](1))?((e=p["~"])===o?o:e["$[]"](0)).$slice(1,((e=p["~"])===o?o:e["$[]"](0)).$length()):((e=p["~"])===o?o:e["$[]"](2))["$=="]("kbd")?(d((c=((e=p["~"])===o?o:e["$[]"](3)).$strip())["$include?"](l(tt,"R_SB")))&&(c=c.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),d(d(e=r(c.$length(),1))?u=d(u=c.$index(",",1))?[u,c.$index("+",1)].$compact().$min():c.$index("+",1):e)?(_=c.$slice(u,1),d(c["$end_with?"](_))?(c=f(c.$chop().$split(_,-1),"map",[],((n=function(t){return n.$$s,null==t&&(t=o),t.$strip()}).$$s=a,n.$$arity=1,n)),A=[-1,""+c["$[]"](-1)+_],f(c,"[]=",t.to_a(A)),A[i(A.length,1)]):c=f(c.$split(_),"map",[],((s=function(t){return s.$$s,null==t&&(t=o),t.$strip()}).$$s=a,s.$$arity=1,s))):c=[c],l(tt,"Inline").$new(a,"kbd",o,h(["attributes"],{attributes:h(["keys"],{keys:c})})).$convert()):l(tt,"Inline").$new(a,"button",a.$unescape_bracketed_text((e=p["~"])===o?o:e["$[]"](3))).$convert()}).$$s=this,$.$$arity=0,$))),d(d(n=S)?e["$include?"]("menu:"):n)&&(e=f(e,"gsub",[l(tt,"InlineMenuMacroRx")],((u=function(){var t,e,r=u.$$s||this,n=o,i=o,s=o,$=o,a=o,c=o;return null==p["~"]&&(p["~"]=o),n=p["~"],d(((t=p["~"])===o?o:t["$[]"](0))["$start_with?"](l(tt,"RS")))?n["$[]"](0).$slice(1,n["$[]"](0).$length()):(t=[n["$[]"](1),n["$[]"](2)],i=t[0],s=t[1],d(s)?(d(s["$include?"](l(tt,"R_SB")))&&(s=s.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),d($=d(s["$include?"]("&gt;"))?"&gt;":d(s["$include?"](","))?",":o)?(a=f(s.$split($),"map",[],((e=function(t){return e.$$s,null==t&&(t=o),t.$strip()}).$$s=r,e.$$arity=1,e)),c=a.$pop()):(t=[[],s.$rstrip()],a=t[0],c=t[1])):(a=(t=[[],o])[0],c=t[1]),l(tt,"Inline").$new(r,"menu",o,h(["attributes"],{attributes:h(["menu","submenus","menuitem"],{menu:i,submenus:a,menuitem:c})})).$convert())}).$$s=this,u.$$arity=0,u))),d(d(n=e["$include?"]('"'))?e["$include?"]("&gt;"):n)&&(e=f(e,"gsub",[l(tt,"InlineMenuRx")],((_=function(){var e,r,n,i=_.$$s||this,s=o,$=o,a=o,u=o,m=o;return null==p["~"]&&(p["~"]=o),s=p["~"],d(((e=p["~"])===o?o:e["$[]"](0))["$start_with?"](l(tt,"RS")))?s["$[]"](0).$slice(1,s["$[]"](0).$length()):($=s["$[]"](1),r=f($.$split("&gt;"),"map",[],((n=function(t){return n.$$s,null==t&&(t=o),t.$strip()}).$$s=i,n.$$arity=1,n)),e=t.to_ary(r),a=null==e[0]?o:e[0],u=c.call(e,1),m=u.$pop(),l(tt,"Inline").$new(i,"menu",o,h(["attributes"],{attributes:h(["menu","submenus","menuitem"],{menu:a,submenus:u,menuitem:m})})).$convert())}).$$s=this,_.$$arity=0,_)))),d(d(n=M=T.$extensions())?M["$inline_macros?"]():n)&&f(M.$inline_macros(),"each",[],((m=function(r){var n,s=m.$$s||this;return null==r&&(r=o),e=f(e,"gsub",[r.$instance().$regexp()],((n=function(){var e,s=n.$$s||this,$=o,a=o,c=o,u=o,_=o,m=o;return null==p["~"]&&(p["~"]=o),$=p["~"],d(((e=p["~"])===o?o:e["$[]"](0))["$start_with?"](l(tt,"RS")))?$["$[]"](0).$slice(1,$["$[]"](0).$length()):(d(function(){try{return $.$names()}catch(e){if(!t.rescue(e,[l(tt,"StandardError")]))throw e;try{return[]}finally{t.pop_exception()}}}()["$empty?"]())?(e=[$["$[]"](1),$["$[]"](2),r.$config()],a=e[0],c=e[1],u=e[2]):(e=[function(){try{return $["$[]"]("target")}catch(e){if(!t.rescue(e,[l(tt,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),function(){try{return $["$[]"]("content")}catch(e){if(!t.rescue(e,[l(tt,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),r.$config()],a=e[0],c=e[1],u=e[2]),_=d(_=u["$[]"]("default_attrs"))?_.$dup():h([],{}),d(c["$nil_or_empty?"]())?d(d(e=c)?u["$[]"]("content_model")["$!="]("attributes"):e)&&(A=["text",c],f(_,"[]=",t.to_a(A)),A[i(A.length,1)]):(c=s.$unescape_bracketed_text(c),u["$[]"]("content_model")["$=="]("attributes")?s.$parse_attributes(c,d(e=u["$[]"]("pos_attrs"))?e:[],h(["into"],{into:_})):(A=["text",c],f(_,"[]=",t.to_a(A)),A[i(A.length,1)])),m=r.$process_method()["$[]"](s,d(e=a)?e:c,_),d(l(tt,"Inline")["$==="](m))?m.$convert():m)}).$$s=s,n.$$arity=0,n))}).$$s=this,m.$$arity=1,m)),d(d(n=S)?d(s=e["$include?"]("image:"))?s:e["$include?"]("icon:"):n)&&(e=f(e,"gsub",[l(tt,"InlineImageMacroRx")],((y=function(){var e,r=y.$$s||this,n=o,s=o,$=o,a=o,c=o,u=o;return null==p["~"]&&(p["~"]=o),n=p["~"],d((s=(e=p["~"])===o?o:e["$[]"](0))["$start_with?"](l(tt,"RS")))?s.$slice(1,s.$length()):(d(s["$start_with?"]("icon:"))?($=(e=["icon",["size"]])[0],a=e[1]):($=(e=["image",["alt","width","height"]])[0],a=e[1]),d((c=n["$[]"](1))["$include?"](l(tt,"ATTR_REF_HEAD")))&&(c=r.$sub_attributes(c)),u=r.$parse_attributes(n["$[]"](2),a,h(["unescape_input"],{unescape_input:!0})),$["$=="]("icon")||T.$register("images",[c,(A=["imagesdir",C["$[]"]("imagesdir")],f(u,"[]=",t.to_a(A)),A[i(A.length,1)])]),d(e=u["$[]"]("alt"))||(A=["alt",(A=["default-alt",l(tt,"Helpers").$basename(c,!0).$tr("_-"," ")],f(u,"[]=",t.to_a(A)),A[i(A.length,1)])],f(u,"[]=",t.to_a(A)),A[i(A.length,1)]),l(tt,"Inline").$new(r,"image",o,h(["type","target","attributes"],{type:$,target:c,attributes:u})).$convert())}).$$s=this,y.$$arity=0,y))),d(d(n=d(s=e["$include?"]("(("))?e["$include?"]("))"):s)?n:d(s=R)?e["$include?"]("dexterm"):s)&&(e=f(e,"gsub",[l(tt,"InlineIndextermMacroRx")],((g=function(){var t,r=g.$$s||this,n=o,s=o,$=o,a=o,c=o,u=o,_=o,f=o;return n=(t=p["~"])===o?o:t["$[]"](0),function(){if(s=(t=p["~"])===o?o:t["$[]"](1),"indexterm"["$==="](s))return e=(t=p["~"])===o?o:t["$[]"](2),d(n["$start_with?"](l(tt,"RS")))?n.$slice(1,n.$length()):($=r.$split_simple_csv(r.$normalize_string(e,!0)),T.$register("indexterms",$),l(tt,"Inline").$new(r,"indexterm",o,h(["attributes"],{attributes:h(["terms"],{terms:$})})).$convert());if("indexterm2"["$==="](s))return e=(t=p["~"])===o?o:t["$[]"](2),d(n["$start_with?"](l(tt,"RS")))?n.$slice(1,n.$length()):(a=r.$normalize_string(e,!0),T.$register("indexterms",[a]),l(tt,"Inline").$new(r,"indexterm",a,h(["type"],{type:"visible"})).$convert());if(e=(t=p["~"])===o?o:t["$[]"](3),d(n["$start_with?"](l(tt,"RS")))){if(!d(d(t=e["$start_with?"]("("))?e["$end_with?"](")"):t))return n.$slice(1,n.$length());e=e.$slice(1,i(e.$length(),2)),c=(t=[!0,"(",")"])[0],u=t[1],_=t[2]}else c=!0,d(e["$start_with?"]("("))?d(e["$end_with?"](")"))?(t=[e.$slice(1,i(e.$length(),2)),!1],e=t[0],c=t[1]):(t=[e.$slice(1,e.$length()),"(",""],e=t[0],u=t[1],_=t[2]):d(e["$end_with?"](")"))&&(t=[e.$slice(0,i(e.$length(),1)),"",")"],e=t[0],u=t[1],_=t[2]);return d(c)?(a=r.$normalize_string(e),T.$register("indexterms",[a]),f=l(tt,"Inline").$new(r,"indexterm",a,h(["type"],{type:"visible"})).$convert()):($=r.$split_simple_csv(r.$normalize_string(e)),T.$register("indexterms",$),f=l(tt,"Inline").$new(r,"indexterm",o,h(["attributes"],{attributes:h(["terms"],{terms:$})})).$convert()),d(u)?""+u+f+_:f}()}).$$s=this,g.$$arity=0,g))),d(d(n=O)?e["$include?"]("://"):n)&&(e=f(e,"gsub",[l(tt,"InlineLinkRx")],((b=function(){var r,n,s=b.$$s||this,$=o,a=o,c=o,u=o,_=o,m=o,y=o,g=o;if(null==p["~"]&&(p["~"]=o),$=p["~"],d((a=(r=p["~"])===o?o:r["$[]"](2))["$start_with?"](l(tt,"RS"))))return""+$["$[]"](1)+a.$slice(1,a.$length())+$["$[]"](3);if(r=[$["$[]"](1),d(n=c=$["$[]"](3))?n:"",""],u=r[0],e=r[1],_=r[2],u["$=="]("link:")){if(!d(c))return $["$[]"](0);u=""}return d(d(r=c)?r:l(tt,"UriTerminatorRx")["$!~"](a))||(m=(r=p["~"])===o?o:r["$[]"](0),")"["$==="](m)?(a=a.$chop(),_=")"):";"["$==="](m)?d(d(r=u["$start_with?"]("&lt;"))?a["$end_with?"]("&gt;"):r)?(u=u.$slice(4,u.$length()),a=a.$slice(0,i(a.$length(),4))):d((a=a.$chop())["$end_with?"](")"))?(a=a.$chop(),_=");"):_=";":":"["$==="](m)&&(d((a=a.$chop())["$end_with?"](")"))?(a=a.$chop(),_="):"):_=":"),d(a["$end_with?"]("://"))&&t.ret($["$[]"](0))),r=[o,h(["type"],{type:"link"})],y=r[0],g=r[1],d(e["$empty?"]())||(d(e["$include?"](l(tt,"R_SB")))&&(e=e.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),d(d(r=T.$compat_mode()["$!"]())?e["$include?"]("="):r)&&(e=d(r=(y=l(tt,"AttributeList").$new(e,s).$parse())["$[]"](1))?r:"",d(y["$key?"]("id"))&&(A=["id",y.$delete("id")],f(g,"[]=",t.to_a(A)),A[i(A.length,1)])),d(e["$end_with?"]("^"))&&(e=e.$chop(),d(y)?d(r=y["$[]"]("window"))||(A=["window","_blank"],f(y,"[]=",t.to_a(A)),A[i(A.length,1)]):y=h(["window"],{window:"_blank"}))),d(e["$empty?"]())&&(e=d(C["$key?"]("hide-uri-scheme"))?a.$sub(l(tt,"UriSniffRx"),""):a,d(y)?(A=["role",d(y["$key?"]("role"))?"bare "+y["$[]"]("role"):"bare"],f(y,"[]=",t.to_a(A)),A[i(A.length,1)]):y=h(["role"],{role:"bare"})),T.$register("links",(A=["target",a],f(g,"[]=",t.to_a(A)),A[i(A.length,1)])),d(y)&&(A=["attributes",y],f(g,"[]=",t.to_a(A)),A[i(A.length,1)]),""+u+l(tt,"Inline").$new(s,"anchor",e,g).$convert()+_}).$$s=this,b.$$arity=0,b))),d(d(n=S)?d(s=e["$include?"]("link:"))?s:e["$include?"]("mailto:"):n)&&(e=f(e,"gsub",[l(tt,"InlineLinkMacroRx")],((v=function(){var r,n=v.$$s||this,s=o,$=o,a=o,c=o,u=o;return null==p["~"]&&(p["~"]=o),s=p["~"],d(((r=p["~"])===o?o:r["$[]"](0))["$start_with?"](l(tt,"RS")))?s["$[]"](0).$slice(1,s["$[]"](0).$length()):($=d(a=s["$[]"](1))?"mailto:"+s["$[]"](2):s["$[]"](2),r=[o,h(["type"],{type:"link"})],c=r[0],u=r[1],d((e=s["$[]"](3))["$empty?"]())||(d(e["$include?"](l(tt,"R_SB")))&&(e=e.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),d(a)?d(d(r=T.$compat_mode()["$!"]())?e["$include?"](","):r)&&(e=d(r=(c=l(tt,"AttributeList").$new(e,n).$parse())["$[]"](1))?r:"",d(c["$key?"]("id"))&&(A=["id",c.$delete("id")],f(u,"[]=",t.to_a(A)),A[i(A.length,1)]),d(c["$key?"](2))&&($=d(c["$key?"](3))?$+"?subject="+l(tt,"Helpers").$uri_encode(c["$[]"](2))+"&amp;body="+l(tt,"Helpers").$uri_encode(c["$[]"](3)):$+"?subject="+l(tt,"Helpers").$uri_encode(c["$[]"](2)))):d(d(r=T.$compat_mode()["$!"]())?e["$include?"]("="):r)&&(e=d(r=(c=l(tt,"AttributeList").$new(e,n).$parse())["$[]"](1))?r:"",d(c["$key?"]("id"))&&(A=["id",c.$delete("id")],f(u,"[]=",t.to_a(A)),A[i(A.length,1)])),d(e["$end_with?"]("^"))&&(e=e.$chop(),d(c)?d(r=c["$[]"]("window"))||(A=["window","_blank"],f(c,"[]=",t.to_a(A)),A[i(A.length,1)]):c=h(["window"],{window:"_blank"}))),d(e["$empty?"]())&&(d(a)?e=s["$[]"](2):(d(C["$key?"]("hide-uri-scheme"))?d((e=$.$sub(l(tt,"UriSniffRx"),""))["$empty?"]())&&(e=$):e=$,d(c)?(A=["role",d(c["$key?"]("role"))?"bare "+c["$[]"]("role"):"bare"],f(c,"[]=",t.to_a(A)),A[i(A.length,1)]):c=h(["role"],{role:"bare"}))),T.$register("links",(A=["target",$],f(u,"[]=",t.to_a(A)),A[i(A.length,1)])),d(c)&&(A=["attributes",c],f(u,"[]=",t.to_a(A)),A[i(A.length,1)]),l(tt,"Inline").$new(n,"anchor",e,u).$convert())}).$$s=this,v.$$arity=0,v))),d(e["$include?"]("@"))&&(e=f(e,"gsub",[l(tt,"InlineEmailRx")],((x=function(){var t,e,r=x.$$s||this,n=o,i=o,s=o;return t=[(e=p["~"])===o?o:e["$[]"](0),(e=p["~"])===o?o:e["$[]"](1)],n=t[0],d(i=t[1])?i["$=="](l(tt,"RS"))?n.$slice(1,n.$length()):n:(s="mailto:"+n,T.$register("links",s),l(tt,"Inline").$new(r,"anchor",n,h(["type","target"],{type:"link",target:s})).$convert())}).$$s=this,x.$$arity=0,x))),d(d(n=S)?e["$include?"]("tnote"):n)&&(e=f(e,"gsub",[l(tt,"InlineFootnoteMacroRx")],((w=function(){var r,n,i,s,$=w.$$s||this,c=o,u=o,_=o,m=o,y=o,g=o;if(null==p["~"]&&(p["~"]=o),c=p["~"],d(((r=p["~"])===o?o:r["$[]"](0))["$start_with?"](l(tt,"RS"))))return c["$[]"](0).$slice(1,c["$[]"](0).$length());if(d(c["$[]"](1))?(n=(d(i=c["$[]"](3))?i:"").$split(",",2),r=t.to_ary(n),u=null==r[0]?o:r[0],e=null==r[1]?o:r[1]):(r=[c["$[]"](2),c["$[]"](3)],u=r[0],e=r[1]),d(u))d(e)?(e=$.$restore_passthroughs($.$sub_inline_xrefs($.$sub_inline_anchors($.$normalize_string(e,!0))),!1),_=T.$counter("footnote-number"),T.$register("footnotes",a(l(tt,"Document"),"Footnote").$new(_,u,e)),m=(r=["ref",o])[0],y=r[1]):(d(g=f(T.$footnotes(),"find",[],((s=function(t){return s.$$s,null==t&&(t=o),t.$id()["$=="](u)}).$$s=$,s.$$arity=1,s)))?(r=[g.$index(),g.$text()],_=r[0],e=r[1]):($.$logger().$warn("invalid footnote reference: "+u),_=(r=[o,u])[0],e=r[1]),m=(r=["xref",u,o])[0],y=r[1],u=r[2]);else{if(!d(e))return c["$[]"](0);e=$.$restore_passthroughs($.$sub_inline_xrefs($.$sub_inline_anchors($.$normalize_string(e,!0))),!1),_=T.$counter("footnote-number"),T.$register("footnotes",a(l(tt,"Document"),"Footnote").$new(_,u,e)),m=y=o}return l(tt,"Inline").$new($,"footnote",e,h(["attributes","id","target","type"],{attributes:h(["index"],{index:_}),id:u,target:y,type:m})).$convert()}).$$s=this,w.$$arity=0,w))),this.$sub_inline_xrefs(this.$sub_inline_anchors(e,k),k)}catch(e){if(e===t.returner)return e.$v;throw e}},I.$$arity=1),t.def(Q,"$sub_inline_anchors",N=function(t,e){var r,n,i,s,$;return null==this.context&&(this.context=o),null==this.parent&&(this.parent=o),null==e&&(e=o),d((r=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(t=f(t,"sub",[l(tt,"InlineBiblioAnchorRx")],((n=function(){var t,e,r=n.$$s||this;return l(tt,"Inline").$new(r,"anchor","["+(d(t=(e=p["~"])===o?o:e["$[]"](2))?t:(e=p["~"])===o?o:e["$[]"](1))+"]",h(["type","id","target"],{type:"bibref",id:(t=p["~"])===o?o:t["$[]"](1),target:(t=p["~"])===o?o:t["$[]"](1)})).$convert()}).$$s=this,n.$$arity=0,n))),d(d(r=d(i=d(s=e["$!"]())?s:e["$[]"]("square_bracket"))?t["$include?"]("[["):i)?r:d(i=d(s=e["$!"]())?s:e["$[]"]("macroish"))?t["$include?"]("or:"):i)&&(t=f(t,"gsub",[l(tt,"InlineAnchorRx")],(($=function(){var t,e,r=$.$$s||this,n=o,i=o;return d((t=p["~"])===o?o:t["$[]"](1))?((t=p["~"])===o?o:t["$[]"](0)).$slice(1,((t=p["~"])===o?o:t["$[]"](0)).$length()):(d(n=(t=p["~"])===o?o:t["$[]"](2))?i=(t=p["~"])===o?o:t["$[]"](3):(n=(t=p["~"])===o?o:t["$[]"](4),d(d(t=i=(e=p["~"])===o?o:e["$[]"](5))?i["$include?"](l(tt,"R_SB")):t)&&(i=i.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB")))),l(tt,"Inline").$new(r,"anchor",i,h(["type","id","target"],{type:"ref",id:n,target:n})).$convert())}).$$s=this,$.$$arity=0,$))),t},N.$$arity=-2),t.def(Q,"$sub_inline_xrefs",P=function(n,s){var $,c,u;return null==s&&(s=o),d(d($=d(c=d(s)?s["$[]"]("macroish"):n["$include?"]("["))?n["$include?"]("xref:"):c)?$:d(c=n["$include?"]("&"))?n["$include?"]("lt;&"):c)&&(n=f(n,"gsub",[l(tt,"InlineXrefMacroRx")],((u=function(){var n,s,$=u.$$s||this,c=o,_=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o;return null==$.document&&($.document=o),null==p["~"]&&(p["~"]=o),null==p.VERBOSE&&(p.VERBOSE=o),c=p["~"],d(((n=p["~"])===o?o:n["$[]"](0))["$start_with?"](l(tt,"RS")))?c["$[]"](0).$slice(1,c["$[]"](0).$length()):(n=[h([],{}),$.document],_=n[0],f=n[1],d(m=c["$[]"](1))?(s=m.$split(",",2),n=t.to_ary(s),m=null==n[0]?o:n[0],y=null==n[1]?o:n[1],d(y)&&(y=y.$lstrip())):(g=!0,m=c["$[]"](2),d(y=c["$[]"](3))&&(d(y["$include?"](l(tt,"R_SB")))&&(y=y.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),d(d(n=f.$compat_mode()["$!"]())?y["$include?"]("="):n)&&(y=l(tt,"AttributeList").$new(y,$).$parse_into(_)["$[]"](1)))),d(f.$compat_mode())?b=m:d(v=m.$index("#"))?d(r(v,0))?(d(r(x=i(i(m.$length(),v),1),0))?(n=[m.$slice(0,v),m.$slice(e(v,1),x)],w=n[0],b=n[1]):w=m.$slice(0,v),d((k=a("::","File").$extname(w))["$empty?"]())?E=w:d(l(tt,"ASCIIDOC_EXTENSIONS")["$[]"](k))&&(E=w=w.$slice(0,i(w.$length(),k.$length())))):(n=[m,m.$slice(1,m.$length())],A=n[0],b=n[1]):d(d(n=g)?m["$end_with?"](".adoc"):n)?E=w=m.$slice(0,i(m.$length(),5)):b=m,d(A)?(m=b,d(d(n=p.VERBOSE)?f.$catalog()["$[]"]("ids")["$key?"](m)["$!"]():n)&&$.$logger().$warn("invalid reference: "+m)):d(w)?d(d(n=E)?d(s=f.$attributes()["$[]"]("docname")["$=="](w))?s:f.$catalog()["$[]"]("includes")["$[]"](w):n)?d(b)?(m=(n=[b,o,"#"+b])[0],w=n[1],A=n[2],d(d(n=p.VERBOSE)?f.$catalog()["$[]"]("ids")["$key?"](m)["$!"]():n)&&$.$logger().$warn("invalid reference: "+m)):(m=(n=[o,o,"#"])[0],w=n[1],A=n[2]):(n=[w,""+f.$attributes()["$[]"]("relfileprefix")+w+(d(E)?f.$attributes().$fetch("relfilesuffix",f.$outfilesuffix()):"")],m=n[0],w=n[1],d(b)?(m=(n=[m+"#"+b,w+"#"+b])[0],A=n[1]):A=w):d(d(n=f.$compat_mode())?n:l(tt,"Compliance").$natural_xrefs()["$!"]())?(m=(n=[b,"#"+b])[0],A=n[1],d(d(n=p.VERBOSE)?f.$catalog()["$[]"]("ids")["$key?"](m)["$!"]():n)&&$.$logger().$warn("invalid reference: "+m)):d(f.$catalog()["$[]"]("ids")["$key?"](b))?(m=(n=[b,"#"+b])[0],A=n[1]):d(d(n=m=f.$catalog()["$[]"]("ids").$key(b))?d(s=b["$include?"](" "))?s:b.$downcase()["$!="](b):n)?(b=(n=[m,"#"+m])[0],A=n[1]):(m=(n=[b,"#"+b])[0],A=n[1],d(p.VERBOSE)&&$.$logger().$warn("invalid reference: "+m)),n=[w,b,m],_["$[]="]("path",n[0]),_["$[]="]("fragment",n[1]),_["$[]="]("refid",n[2]),l(tt,"Inline").$new($,"anchor",y,h(["type","target","attributes"],{type:"xref",target:A,attributes:_})).$convert())}).$$s=this,u.$$arity=0,u))),n},P.$$arity=-2),t.def(Q,"$sub_callouts",L=function(t){var r,n=this,i=o,s=o;return i=d(n["$attr?"]("line-comment"))?l(tt,"CalloutSourceRxMap")["$[]"](n.$attr("line-comment")):l(tt,"CalloutSourceRx"),s=0,f(t,"gsub",[i],((r=function(){var t,n=r.$$s||this;return null==n.document&&(n.document=o),d((t=p["~"])===o?o:t["$[]"](2))?((t=p["~"])===o?o:t["$[]"](0)).$sub(l(tt,"RS"),""):l(tt,"Inline").$new(n,"callout",((t=p["~"])===o?o:t["$[]"](4))["$=="](".")?(s=e(s,1)).$to_s():(t=p["~"])===o?o:t["$[]"](4),h(["id","attributes"],{id:n.document.$callouts().$read_next_id(),attributes:h(["guard"],{guard:(t=p["~"])===o?o:t["$[]"](1)})})).$convert()}).$$s=n,r.$$arity=0,r))},L.$$arity=1),t.def(Q,"$sub_post_replacements",D=function(t){var e,r,n,$=o,a=o;return null==this.document&&(this.document=o),null==this.attributes&&(this.attributes=o),d(d(e=this.document.$attributes()["$key?"]("hardbreaks"))?e:this.attributes["$key?"]("hardbreaks-option"))?($=t.$split(l(tt,"LF"),-1),d(s($.$size(),2))?t:(a=$.$pop(),f($,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=o),l(tt,"Inline").$new(e,"break",d(t["$end_with?"](l(tt,"HARD_LINE_BREAK")))?t.$slice(0,i(t.$length(),2)):t,h(["type"],{type:"line"})).$convert()},r.$$s=this,r.$$arity=1,r))["$<<"](a).$join(l(tt,"LF")))):d(d(e=t["$include?"](l(tt,"PLUS")))?t["$include?"](l(tt,"HARD_LINE_BREAK")):e)?f(t,"gsub",[l(tt,"HardLineBreakRx")],((n=function(){var t,e=n.$$s||this;return l(tt,"Inline").$new(e,"break",(t=p["~"])===o?o:t["$[]"](1),h(["type"],{type:"line"})).$convert()}).$$s=this,n.$$arity=0,n)):t},D.$$arity=1),t.def(Q,"$convert_quoted_text",F=function(t,e,r){var n=o,i=o,s=o,$=o,a=o;if(d(t["$[]"](0)["$start_with?"](l(tt,"RS")))){if(!d(r["$=="]("constrained")?n=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0).$slice(1,t["$[]"](0).$length());i="["+n+"]"}return r["$=="]("constrained")?d(i)?""+i+l(tt,"Inline").$new(this,"quoted",t["$[]"](3),h(["type"],{type:e})).$convert():(d(s=t["$[]"](2))&&($=(a=this.$parse_quoted_text_attributes(s)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+l(tt,"Inline").$new(this,"quoted",t["$[]"](3),h(["type","id","attributes"],{type:e,id:$,attributes:a})).$convert()):(d(s=t["$[]"](1))&&($=(a=this.$parse_quoted_text_attributes(s)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),l(tt,"Inline").$new(this,"quoted",t["$[]"](2),h(["type","id","attributes"],{type:e,id:$,attributes:a})).$convert())},F.$$arity=3),t.def(Q,"$parse_quoted_text_attributes",z=function(e){var n,s,$=o,a=o,u=o,_=o,p=o,m=o;return d(e["$include?"](l(tt,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),d(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),d((e=e.$strip())["$empty?"]())?h([],{}):d(d(n=e["$start_with?"](".","#"))?l(tt,"Compliance").$shorthand_property_syntax():n)?($=e.$split("#",2),d(r($.$size(),1))?(s=$["$[]"](1).$split("."),n=t.to_ary(s),a=null==n[0]?o:n[0],u=c.call(n,1)):(a=o,u=[]),_=d($["$[]"](0)["$empty?"]())?[]:$["$[]"](0).$split("."),d(r(_.$size(),1))&&_.$shift(),d(r(u.$size(),0))&&_.$concat(u),p=h([],{}),d(a)&&(m=["id",a],f(p,"[]=",t.to_a(m)),m[i(m.length,1)]),d(_["$empty?"]())||(m=["role",_.$join(" ")],f(p,"[]=",t.to_a(m)),m[i(m.length,1)]),p):h(["role"],{role:e})},z.$$arity=1),t.def(Q,"$parse_attributes",B=function(t,e,r){var n,i=o,s=o;return null==this.document&&(this.document=o),null==e&&(e=[]),null==r&&(r=h([],{})),d(d(n=t)?t["$empty?"]()["$!"]():n)?(d(d(n=r["$[]"]("sub_input"))?t["$include?"](l(tt,"ATTR_REF_HEAD")):n)&&(t=this.document.$sub_attributes(t)),d(r["$[]"]("unescape_input"))&&(t=this.$unescape_bracketed_text(t)),d(r["$[]"]("sub_result"))&&(i=this),d(s=r["$[]"]("into"))?l(tt,"AttributeList").$new(t,i).$parse_into(s,e):l(tt,"AttributeList").$new(t,i).$parse(e)):h([],{})},B.$$arity=-2),t.def(Q,"$expand_subs",q=function(t){var r,n,i=o;return d(a("::","Symbol")["$==="](t))?t["$=="]("none")?o:d(r=l(tt,"SUB_GROUPS")["$[]"](t))?r:[t]:(i=[],f(t,"each",[],((n=function(t){n.$$s;var r=o;return null==t&&(t=o),t["$=="]("none")?o:d(r=l(tt,"SUB_GROUPS")["$[]"](t))?i=e(i,r):i["$<<"](t)}).$$s=this,n.$$arity=1,n)),d(i["$empty?"]())?o:i)},q.$$arity=1),t.def(Q,"$unescape_bracketed_text",j=function(t){return d(t["$empty?"]())||d((t=t.$strip().$tr(l(tt,"LF")," "))["$include?"](l(tt,"R_SB")))&&(t=t.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),t},j.$$arity=1),t.def(Q,"$normalize_string",U=function(t,e){var r;return null==e&&(e=!1),d(t["$empty?"]())||(t=t.$strip().$tr(l(tt,"LF")," "),d(d(r=e)?t["$include?"](l(tt,"R_SB")):r)&&(t=t.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB")))),t},U.$$arity=-2),t.def(Q,"$unescape_brackets",H=function(t){return d(t["$empty?"]())||d(t["$include?"](l(tt,"RS")))&&(t=t.$gsub(l(tt,"ESC_R_SB"),l(tt,"R_SB"))),t},H.$$arity=1),t.def(Q,"$split_simple_csv",Y=function(t){var e,r,n=o,i=o,s=o;return d(t["$empty?"]())?n=[]:d(t["$include?"]('"'))?(n=[],i=[],s=!1,f(t,"each_char",[],((e=function(t){e.$$s;var r=o;return null==t&&(t=o),","["$==="](r=t)?d(s)?i["$<<"](t):(n["$<<"](i.$join().$strip()),i=[]):'"'["$==="](r)?s=s["$!"]():i["$<<"](t)}).$$s=this,e.$$arity=1,e)),n["$<<"](i.$join().$strip())):n=f(t.$split(","),"map",[],((r=function(t){return r.$$s,null==t&&(t=o),t.$strip()}).$$s=this,r.$$arity=1,r)),n},Y.$$arity=1),t.def(Q,"$resolve_subs",G=function(t,n,s,$){var a,c=o,u=o,h=o,_=o;return null==n&&(n="block"),null==s&&(s=o),null==$&&($=o),d(t["$nil_or_empty?"]())?o:(c=o,d(t["$include?"](" "))&&(t=t.$delete(" ")),u=l(tt,"SubModifierSniffRx")["$match?"](t),f(t.$split(","),"each",[],((a=function(t){a.$$s;var r,$,h=o,_=o,f=o,p=o,m=o,y=o;return null==t&&(t=o),h=o,d(u)&&((_=t.$chr())["$=="]("+")?(h="append",t=t.$slice(1,t.$length())):_["$=="]("-")?(h="remove",t=t.$slice(1,t.$length())):d(t["$end_with?"]("+"))&&(h="prepend",t=t.$chop())),t=t.$to_sym(),d((r=n["$=="]("inline"))?d($=t["$=="]("verbatim"))?$:t["$=="]("v"):n["$=="]("inline"))?f=l(tt,"BASIC_SUBS"):d(l(tt,"SUB_GROUPS")["$key?"](t))?f=l(tt,"SUB_GROUPS")["$[]"](t):d(d(r=($=n["$=="]("inline"))?t.$length()["$=="](1):n["$=="]("inline"))?l(tt,"SUB_HINTS")["$key?"](t):r)?(p=l(tt,"SUB_HINTS")["$[]"](t),f=d(m=l(tt,"SUB_GROUPS")["$[]"](p))?m:[p]):f=[t],d(h)?(c=d(r=c)?r:d(s)?s.$drop(0):[],"append"["$==="](y=h)?c=e(c,f):"prepend"["$==="](y)?c=e(f,c):"remove"["$==="](y)?c=i(c,f):o):c=e(c=d(r=c)?r:[],f)}).$$s=this,a.$$arity=1,a)),d(c)?(h=c["$&"](l(tt,"SUB_OPTIONS")["$[]"](n)),d(i(c,h)["$empty?"]())||(_=i(c,h),this.$logger().$warn("invalid substitution type"+(d(r(_.$size(),1))?"s":"")+(d($)?" for ":"")+$+": "+_.$join(", "))),h):o)},G.$$arity=-2),t.def(Q,"$resolve_block_subs",W=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},W.$$arity=3),t.def(Q,"$resolve_pass_subs",V=function(t){return this.$resolve_subs(t,"inline",o,"passthrough macro")},V.$$arity=1),t.def(Q,"$highlight_source",K=function(r,n,$){var c,u,_,m,g=this,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o,I=o,N=o,P=o;return null==g.document&&(g.document=o),null==g.passthroughs&&(g.passthroughs=o),null==$&&($=o),b=$=d(c=$)?c:g.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](b)?d(d(c=d(u=v=a("::","CodeRay","skip_raise")?"constant":o)?u:null!=y.$$cvars["@@coderay_unavailable"]?"class variable":o)?c:g.document.$attributes()["$[]"]("coderay-unavailable"))||(d(l(tt,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?t.class_variable_set(y,"@@coderay_unavailable",!0):v=!0):"pygments"["$==="](b)?d(d(c=d(u=v=a("::","Pygments","skip_raise")?"constant":o)?u:null!=y.$$cvars["@@pygments_unavailable"]?"class variable":o)?c:g.document.$attributes()["$[]"]("pygments-unavailable"))||(d(l(tt,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?t.class_variable_set(y,"@@pygments_unavailable",!0):v=!0):v=!1,d(v)?(x=0,w=!1,d(n)?(k=h([],{}),E=-1,A=d(g["$attr?"]("line-comment"))?l(tt,"CalloutExtractRxMap")["$[]"](g.$attr("line-comment")):l(tt,"CalloutExtractRx"),r=f(r.$split(l(tt,"LF"),-1),"map",[],(_=function(r){var n,s=_.$$s||this;return null==r&&(r=o),x=e(x,1),f(r,"gsub",[A],((n=function(){n.$$s;var e,r=o;return d((e=p["~"])===o?o:e["$[]"](2))?((e=p["~"])===o?o:e["$[]"](0)).$sub(l(tt,"RS"),""):((d(e=k["$[]"](x))?e:(r=[x,[]],f(k,"[]=",t.to_a(r)),r[i(r.length,1)]))["$<<"]([(e=p["~"])===o?o:e["$[]"](1),(e=p["~"])===o?o:e["$[]"](4)]),E=x,o)}).$$s=s,n.$$arity=0,n))},_.$$s=g,_.$$arity=1,_)).$join(l(tt,"LF")),w=E["$=="](x),d(k["$empty?"]())&&(k=o)):k=o,O=o,S=o,"coderay"["$==="](b=$)?(d(O=d(g["$attr?"]("linenums",o,!1))?(d(c=g.document.$attributes()["$[]"]("coderay-linenums-mode"))?c:"table").$to_sym():o)&&(d(s(R=g.$attr("start",o,1).$to_i(),1))&&(R=1),d(g["$attr?"]("highlight",o,!1))&&(S=g.$resolve_lines_to_highlight(r,g.$attr("highlight",o,!1)))),C=a(a("::","CodeRay"),"Duo")["$[]"](g.$attr("language","text",!1).$to_sym(),"html",h(["css","line_numbers","line_number_start","line_number_anchors","highlight_lines","bold_every"],{css:(d(c=g.document.$attributes()["$[]"]("coderay-css"))?c:"class").$to_sym(),line_numbers:O,line_number_start:R,line_number_anchors:!1,highlight_lines:S,bold_every:!1})).$highlight(r)):"pygments"["$==="](b)&&(T=d(c=a(a("::","Pygments"),"Lexer").$find_by_alias(g.$attr("language","text",!1)))?c:a(a("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),M=h(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),T.$name()["$=="]("PHP")&&(I=["startinline",g["$option?"]("mixed")["$!"]()],f(M,"[]=",t.to_a(I)),I[i(I.length,1)]),(d(c=g.document.$attributes()["$[]"]("pygments-css"))?c:"class")["$=="]("class")||(I=["noclasses",!0],f(M,"[]=",t.to_a(I)),I[i(I.length,1)],I=["style",d(c=g.document.$attributes()["$[]"]("pygments-style"))?c:a(l(tt,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],f(M,"[]=",t.to_a(I)),I[i(I.length,1)]),d(g["$attr?"]("highlight",o,!1))&&(d((S=g.$resolve_lines_to_highlight(r,g.$attr("highlight",o,!1)))["$empty?"]())||(I=["hl_lines",S.$join(" ")],f(M,"[]=",t.to_a(I)),I[i(I.length,1)])),d(d(c=d(u=g["$attr?"]("linenums",o,!1))?(I=["linenostart",d(s((R=g.$attr("start",1,!1)).$to_i(),1))?1:R],f(M,"[]=",t.to_a(I)),I[i(I.length,1)]):u)?(I=["linenos",d(u=g.document.$attributes()["$[]"]("pygments-linenums-mode"))?u:"table"],f(M,"[]=",t.to_a(I)),I[i(I.length,1)])["$=="]("table"):c)?(O="table",C=d(C=T.$highlight(r,h(["options"],{options:M})))?C.$sub(l(tt,"PygmentsWrapperDivRx"),"\\1").$gsub(l(tt,"PygmentsWrapperPreRx"),"\\1"):g.$sub_specialchars(r)):d(C=T.$highlight(r,h(["options"],{options:M})))?d(l(tt,"PygmentsWrapperPreRx")["$=~"](C))&&(C=(c=p["~"])===o?o:c["$[]"](1)):C=g.$sub_specialchars(r)),d(g.passthroughs["$empty?"]())||(C=C.$gsub(l(tt,"HighlightedPassSlotRx"),l(tt,"PASS_START")+"\\1"+l(tt,"PASS_END"))),d(d(c=n)?k:c)?(x=0,N=0,P=O["$!="]("table"),f(C.$split(l(tt,"LF"),-1),"map",[],(m=function(r){var n,i,s,a=m.$$s||this,c=o,u=o,_=o,p=o,y=o,g=o;if(null==a.document&&(a.document=o),null==r&&(r=o),d(P));else{if(!d(r["$include?"]('<td class="code">')))return r;P=!0}return x=e(x,1),d(c=k.$delete(x))?(u=o,d(d(n=d(i=w)?k["$empty?"]():i)?O["$=="]("table"):n)&&(d((n=$["$=="]("coderay"))?_=r.$index("</pre>"):$["$=="]("coderay"))?(n=[r.$slice(0,_),r.$slice(_,r.$length())],r=n[0],u=n[1]):d((n=$["$=="]("pygments"))?_=r["$start_with?"]("</td>"):$["$=="]("pygments"))&&(r=(n=["",r])[0],u=n[1])),c.$size()["$=="](1)?(i=c["$[]"](0),n=t.to_ary(i),p=null==n[0]?o:n[0],y=null==n[1]?o:n[1],""+r+l(tt,"Inline").$new(a,"callout",y["$=="](".")?(N=e(N,1)).$to_s():y,h(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:h(["guard"],{guard:p})})).$convert()+u):(g=f(c,"map",[],(s=function(t,r){var n=s.$$s||this;return null==n.document&&(n.document=o),null==t&&(t=o),null==r&&(r=o),l(tt,"Inline").$new(n,"callout",r["$=="](".")?(N=e(N,1)).$to_s():r,h(["id","attributes"],{id:n.document.$callouts().$read_next_id(),attributes:h(["guard"],{guard:t})})).$convert()},s.$$s=a,s.$$arity=2,s)).$join(" "),""+r+g+u)):r},m.$$s=g,m.$$arity=1,m)).$join(l(tt,"LF"))):C):g.$sub_source(r,n)},K.$$arity=-3),t.def(Q,"$resolve_lines_to_highlight",X=function(r,n){var $,c=o;return c=[],d(n["$include?"](" "))&&(n=n.$delete(" ")),f(d(n["$include?"](","))?n.$split(","):n.$split(";"),"map",[],(($=function(n){$.$$s;var u,h,_=o,f=o,p=o,m=o,y=o;return null==n&&(n=o),_=!1,d(n["$start_with?"]("!"))&&(n=n.$slice(1,n.$length()),_=!0),d(f=d(n["$include?"](".."))?"..":d(n["$include?"]("-"))?"-":o)?(h=n.$split(f,2),u=t.to_ary(h),p=null==u[0]?o:u[0],m=null==u[1]?o:u[1],d(d(u=m["$empty?"]())?u:s(m=m.$to_i(),0))&&(m=e(r.$count(l(tt,"LF")),1)),y=a("::","Range").$new(p.$to_i(),m).$to_a(),d(_)?c=i(c,y):c.$concat(y)):d(_)?c.$delete(n.$to_i()):c["$<<"](n.$to_i())}).$$s=this,$.$$arity=1,$)),c.$sort().$uniq()},X.$$arity=2),t.def(Q,"$sub_source",J=function(t,e){return d(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},J.$$arity=2),t.def(Q,"$lock_in_subs",Z=function(){var e,r,n,s,$=this,a=o,c=o,u=o,h=o,_=o;if(null==$.default_subs&&($.default_subs=o),null==$.content_model&&($.content_model=o),null==$.context&&($.context=o),null==$.subs&&($.subs=o),null==$.attributes&&($.attributes=o),null==$.style&&($.style=o),null==$.document&&($.document=o),d(a=$.default_subs));else if(c=$.content_model,"simple"["$==="](c))a=l(tt,"NORMAL_SUBS");else if("verbatim"["$==="](c))a=d(d(e=$.context["$=="]("listing"))?e:(r=$.context["$=="]("literal"))?$["$option?"]("listparagraph")["$!"]():$.context["$=="]("literal"))?l(tt,"VERBATIM_SUBS"):$.context["$=="]("verse")?l(tt,"NORMAL_SUBS"):l(tt,"BASIC_SUBS");else{if(!"raw"["$==="](c))return $.subs;a=$.context["$=="]("stem")?l(tt,"BASIC_SUBS"):l(tt,"NONE_SUBS")}return d(u=$.attributes["$[]"]("subs"))?$.subs=d(e=$.$resolve_block_subs(u,a,$.context))?e:[]:$.subs=a.$drop(0),d(d(e=d(r=d(n=d(s=$.context["$=="]("listing")?$.style["$=="]("source"):$.context["$=="]("listing"))?$.attributes["$key?"]("language"):s)?$.document["$basebackend?"]("html"):n)?l(tt,"SUB_HIGHLIGHT")["$include?"]($.document.$attributes()["$[]"]("source-highlighter")):r)?h=$.subs.$index("specialcharacters"):e)&&(_=[h,"highlight"],f($.subs,"[]=",t.to_a(_)),_[i(_.length,1)]),$.subs},Z.$$arity=0)}(b[0],b)}($[0],$)},i.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,l=t.hash2,c=t.truthy,u=t.send;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$converter","$attributes","$nil?","$[]=","$-","$delete","$+","$update","$nil_or_empty?","$split","$include?","$empty?","$join","$apply_reftext_subs","$attr?","$extname","$attr","$image_uri","$<","$safe","$uriish?","$uri_encode_spaces","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$slice","$length","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$===","$!=","$normalize_lines_array","$to_a","$each_line","$open_uri","$fetch","$read_asset","$gsub"]),function(n,h){function _(){}var d=_=o(n,"Asciidoctor",_),f=(d.prototype,[d].concat(h));!function(n,o,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G=_=a(n,null,"AbstractNode",_),W=G.prototype,V=[G].concat(h);W.document=W.attributes=W.parent=i,G.$include($(V,"Logging")),G.$include($(V,"Substitutors")),G.$attr_reader("attributes"),G.$attr_reader("context"),G.$attr_reader("document"),G.$attr_accessor("id"),G.$attr_reader("node_name"),G.$attr_reader("parent"),t.def(G,"$initialize",d=function(t,e,r){var n;return null==r&&(r=l([],{})),e["$=="]("document")?(n=[this,i],this.document=n[0],this.parent=n[1]):c(t)?(n=[t.$document(),t],this.document=n[0],this.parent=n[1]):this.document=this.parent=i,this.node_name=(this.context=e).$to_s(),this.attributes=c(r["$key?"]("attributes"))?r["$[]"]("attributes").$dup():l([],{}),this.passthroughs=l([],{})},d.$$arity=-3),t.def(G,"$block?",f=function(){return this.$raise(s("::","NotImplementedError"))},f.$$arity=0),t.def(G,"$inline?",p=function(){return this.$raise(s("::","NotImplementedError"))},p.$$arity=0),t.def(G,"$converter",m=function(){return this.document.$converter()},m.$$arity=0),t.def(G,"$parent=",y=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],e},y.$$arity=1),t.def(G,"$attr",g=function(t,e,r){var n,s,$=this;return null==e&&(e=i),null==r&&(r=!0),t=t.$to_s(),c(n=$.attributes["$[]"](t))?n:c(c(s=r)?$.parent:s)&&c(s=$.document.$attributes()["$[]"](t))?s:e},g.$$arity=-2),t.def(G,"$attr?",b=function(t,e,r){var n,s,$,o=this;return null==e&&(e=i),null==r&&(r=!0),t=t.$to_s(),c(e["$nil?"]())?c(n=o.attributes["$key?"](t))?n:c(s=c($=r)?o.parent:$)?o.document.$attributes()["$key?"](t):s:e["$=="](c(n=o.attributes["$[]"](t))?n:c(c(s=r)?o.parent:s)?o.document.$attributes()["$[]"](t):i)},b.$$arity=-2),t.def(G,"$set_attr",v=function(r,n,s){var $=i;return null==n&&(n=""),null==s&&(s=!0),!c(s["$=="](!1)?this.attributes["$key?"](r):s["$=="](!1))&&($=[r,n],u(this.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0)},v.$$arity=-2),t.def(G,"$remove_attr",x=function(t){return this.attributes.$delete(t)},x.$$arity=1),t.def(G,"$option?",w=function(t){return this.attributes["$key?"](t+"-option")},w.$$arity=1),t.def(G,"$set_option",k=function(r){var n,s,$=i,o=i,a=i;return c(($=this.attributes)["$[]"]("options"))?c($["$[]"](o=r+"-option"))?i:(a=["options",(n=$["$[]"]("options"),s=","+r,"number"==typeof n&&"number"==typeof s?n+s:n["$+"](s))],u($,"[]=",t.to_a(a)),a[e(a.length,1)],a=[o,""],u($,"[]=",t.to_a(a)),a[e(a.length,1)]):(a=["options",r],u($,"[]=",t.to_a(a)),a[e(a.length,1)],a=[r+"-option",""],u($,"[]=",t.to_a(a)),a[e(a.length,1)])},k.$$arity=1),t.def(G,"$update_attributes",E=function(t){return this.attributes.$update(t),i},E.$$arity=1),t.def(G,"$role",A=function(){var t;return c(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role")},A.$$arity=0),t.def(G,"$roles",O=function(){var t,e=i;return c((e=c(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:e.$split()},O.$$arity=0),t.def(G,"$role?",S=function(t){var e;return null==t&&(t=i),c(t)?t["$=="](c(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role")):c(e=this.attributes["$key?"]("role"))?e:this.document.$attributes()["$key?"]("role")},S.$$arity=-1),t.def(G,"$has_role?",R=function(t){var e,r=i;return!!c(r=c(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role"))&&(" "+r+" ")["$include?"](" "+t+" ")},R.$$arity=1),t.def(G,"$add_role",C=function(r){var n=i,s=i;return c((n=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?(s=["role",r],u(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],!0):!c((" "+n+" ")["$include?"](" "+r+" "))&&(s=["role",n+" "+r],u(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],!0)},C.$$arity=1),t.def(G,"$remove_role",T=function(r){var n=i,s=i;return!c((n=this.attributes["$[]"]("role"))["$nil_or_empty?"]())&&!!c((n=n.$split()).$delete(r))&&(c(n["$empty?"]())?this.attributes.$delete("role"):(s=["role",n.$join(" ")],u(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),!0)},T.$$arity=1),t.def(G,"$reftext",M=function(){var t=i;return c(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):i},M.$$arity=0),t.def(G,"$reftext?",I=function(){return this.attributes["$key?"]("reftext")},I.$$arity=0),t.def(G,"$icon_uri",N=function(t){var e=i;return c(this["$attr?"]("icon"))?c(s("::","File").$extname(e=this.$attr("icon"))["$empty?"]())&&(e=e+"."+this.document.$attr("icontype","png")):e=t+"."+this.document.$attr("icontype","png"),this.$image_uri(e,"iconsdir")},N.$$arity=1),t.def(G,"$image_uri",P=function(t,e){var n,o,a,l,u=i,h=i;return null==e&&(e="imagesdir"),c(c(n=r((u=this.document).$safe(),s($(V,"SafeMode"),"SECURE")))?u["$attr?"]("data-uri"):n)?c(c(n=c(o=$(V,"Helpers")["$uriish?"](t))?t=this.$uri_encode_spaces(t):o)?n:c(o=c(a=c(l=e)?h=u.$attr(e):l)?$(V,"Helpers")["$uriish?"](h):a)?t=this.$normalize_web_path(t,h,!1):o)?c(u["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,u["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,c(e)?u.$attr(e):i)},P.$$arity=-2),t.def(G,"$media_uri",L=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,c(e)?r.document.$attr(e):i)},L.$$arity=-2),t.def(G,"$generate_data_uri",D=function(t,e){var r=i,n=i,$=i;return null==e&&(e=i),r=s("::","File").$extname(t),n=r["$=="](".svg")?"image/svg+xml":"image/"+r.$slice(1,r.$length()),$=c(e)?this.$normalize_system_path(t,this.document.$attr(e),i,l(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),c(s("::","File")["$readable?"]($))?"data:"+n+";base64,"+s("::","Base64").$strict_encode64(s("::","IO").$binread($)):(this.$logger().$warn("image to embed not found or not readable: "+$),"data:"+n+";base64,")},D.$$arity=-2),t.def(G,"$generate_data_uri_from_uri",F=function(e,r){var n,o=i,a=i;null==r&&(r=!1),c(r)?$(V,"Helpers").$require_library("open-uri/cached","open-uri-cached"):c(s("::","RUBY_ENGINE_OPAL")["$!"]())&&s("::","OpenURI");try{return o=i,a=u(this,"open",[e,"rb"],((n=function(t){return n.$$s,null==t&&(t=i),o=t.$content_type(),t.$read()}).$$s=this,n.$$arity=1,n)),"data:"+o+";base64,"+s("::","Base64").$strict_encode64(a)}catch(r){if(!t.rescue(r,[$(V,"StandardError")]))throw r;try{return this.$logger().$warn("could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},F.$$arity=-2),t.def(G,"$normalize_asset_path",z=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),i,l(["target_name","recover"],{target_name:e,recover:r}))},z.$$arity=-2),t.def(G,"$normalize_system_path",B=function(t,e,n,o){var a=i;return null==e&&(e=i),null==n&&(n=i),null==o&&(o=l([],{})),c(r((a=this.document).$safe(),s($(V,"SafeMode"),"SAFE")))?c(e)?c(a.$path_resolver()["$root?"](e))||(e=s("::","File").$join(a.$base_dir(),e)):e=a.$base_dir():(c(e)||(e=a.$base_dir()),c(n)||(n=a.$base_dir())),a.$path_resolver().$system_path(t,e,n,o)},B.$$arity=-2),t.def(G,"$normalize_web_path",q=function(t,e,r){var n;return null==e&&(e=i),null==r&&(r=!0),c(c(n=r)?$(V,"Helpers")["$uriish?"](t):n)?this.$uri_encode_spaces(t):this.document.$path_resolver().$web_path(t,e)},q.$$arity=-2),t.def(G,"$read_asset",j=function(t,e){var r,n;return null==e&&(e=l([],{})),c(s("::","Hash")["$==="](e))||(e=l(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),c(s("::","File")["$readable?"](t))?c(e["$[]"]("normalize"))?$(V,"Helpers").$normalize_lines_array(u(s("::","File"),"open",[t,"rb"],(r=function(t){return r.$$s,null==t&&(t=i),t.$each_line().$to_a()},r.$$s=this,r.$$arity=1,r))).$join($(V,"LF")):s("::","IO").$read(t):c(e["$[]"]("warn_on_failure"))?(this.$logger().$warn((c(n=this.$attr("docfile"))?n:"<stdin>")+": "+(c(n=e["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+t),i):i},j.$$arity=-2),t.def(G,"$read_contents",U=function(e,r){var n,o,a,h,_,d=i,f=i;if(null==r&&(r=l([],{})),d=this.document,!c(c(n=$(V,"Helpers")["$uriish?"](e))?n:c(o=c(a=f=r["$[]"]("start"))?$(V,"Helpers")["$uriish?"](f):a)?e=d.$path_resolver().$web_path(e,f):o))return e=this.$normalize_system_path(e,r["$[]"]("start"),i,l(["target_name"],{target_name:c(n=r["$[]"]("label"))?n:"asset"})),this.$read_asset(e,l(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));if(!c(d["$attr?"]("allow-uri-read")))return c(r.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),i;c(d["$attr?"]("cache-uri"))&&$(V,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return c(r["$[]"]("normalize"))?$(V,"Helpers").$normalize_lines_array(u(s("::","OpenURI"),"open_uri",[e],(h=function(t){return h.$$s,null==t&&(t=i),t.$each_line().$to_a()},h.$$s=this,h.$$arity=1,h))).$join($(V,"LF")):u(s("::","OpenURI"),"open_uri",[e],((_=function(t){return _.$$s,null==t&&(t=i),t.$read()}).$$s=this,_.$$arity=1,_))}catch(s){if(!t.rescue(s,[$(V,"StandardError")]))throw s;try{return c(r.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e),i}finally{t.pop_exception()}}},U.$$arity=-2),t.def(G,"$uri_encode_spaces",H=function(t){return c(t["$include?"](" "))?t.$gsub(" ","%20"):t},H.$$arity=1),t.def(G,"$is_uri?",Y=function(t){return $(V,"Helpers")["$uriish?"](t)},Y.$$arity=1)}(f[0],0,f)}(n[0],n)},i.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,l=t.hash2,c=t.send,u=t.truthy;return t.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$!=","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$!","$empty?","$>","$find_by_internal","$to_proc","$[]","$has_role?","$replace","$raise","$===","$header?","$each","$flatten","$context","$blocks","$+","$find_index","$next_adjacent_block","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$include?","$delete","$reftext","$sprintf","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$assign_numeral","$reindex_sections"]),function(n,h){function _(){}var d=_=o(n,"Asciidoctor",_),f=(d.prototype,[d].concat(h));!function(n,o,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j=_=a(n,o,"AbstractBlock",_),U=j.prototype,H=[j].concat(h);U.source_location=U.document=U.attributes=U.blocks=U.next_section_index=U.context=U.style=U.id=U.header=U.caption=U.title_converted=U.converted_title=U.title=U.subs=U.numeral=U.next_section_ordinal=i,j.$attr_reader("blocks"),j.$attr_writer("caption"),j.$attr_accessor("content_model"),j.$attr_accessor("level"),j.$attr_accessor("numeral"),t.alias(j,"number","numeral"),t.alias(j,"number=","numeral="),j.$attr_accessor("source_location"),j.$attr_accessor("style"),j.$attr_reader("subs"),t.def(j,"$initialize",d=function(e,r,n){var s,$=d.$$p,o=i,a=i,h=i;for($&&(d.$$p=null),a=0,h=arguments.length,o=new Array(h);a<h;a++)o[a]=arguments[a];return null==n&&(n=l([],{})),c(this,t.find_super_dispatcher(this,"initialize",d,!1),o,$),this.content_model="compound",this.blocks=[],this.subs=[],this.id=this.title=this.title_converted=this.caption=this.numeral=this.style=this.default_subs=this.source_location=i,r["$=="]("document")?this.level=0:u(u(s=e)?r["$!="]("section"):s)?this.level=e.$level():this.level=i,this.next_section_index=0,this.next_section_ordinal=1},d.$$arity=-3),t.def(j,"$block?",f=function(){return!0},f.$$arity=0),t.def(j,"$inline?",p=function(){return!1},p.$$arity=0),t.def(j,"$file",m=function(){var t;return u(t=this.source_location)?this.source_location.$file():t},m.$$arity=0),t.def(j,"$lineno",y=function(){var t;return u(t=this.source_location)?this.source_location.$lineno():t},y.$$arity=0),t.def(j,"$convert",g=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},g.$$arity=0),t.alias(j,"render","convert"),t.def(j,"$content",b=function(){var t;return c(this.blocks,"map",[],(t=function(e){return t.$$s,null==e&&(e=i),e.$convert()},t.$$s=this,t.$$arity=1,t)).$join($(H,"LF"))},b.$$arity=0),t.def(j,"$context=",v=function(t){return this.node_name=(this.context=t).$to_s()},v.$$arity=1),t.def(j,"$<<",x=function(r){var n=i;return r.$parent()["$=="](this)||(n=[this],c(r,"parent=",t.to_a(n)),n[e(n.length,1)]),this.blocks["$<<"](r),this},x.$$arity=1),t.alias(j,"append","<<"),t.def(j,"$blocks?",w=function(){return this.blocks["$empty?"]()["$!"]()},w.$$arity=0),t.def(j,"$sections?",k=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)},k.$$arity=0),t.def(j,"$find_by",E=function(e){var r=E.$$p,n=r||i,$=i;r&&(E.$$p=null),r&&(E.$$p=null),null==e&&(e=l([],{}));try{return c(this,"find_by_internal",[e,$=[]],n.$to_proc())}catch(e){if(!t.rescue(e,[s("::","StopIteration")]))throw e;try{return $}finally{t.pop_exception()}}},E.$$arity=-1),t.alias(j,"query","find_by"),t.def(j,"$find_by_internal",A=function(e,r){var n,$,o,a,h,_,d=A.$$p,f=d||i,p=this,m=i,y=i,g=i,b=i,v=i,x=i,w=i;if(d&&(A.$$p=null),d&&(A.$$p=null),null==e&&(e=l([],{})),null==r&&(r=[]),u(u(n=u($=u(o=u(a=m=(y=e["$[]"]("context"))["$!"]())?a:y["$=="](p.context))?u(a=(g=e["$[]"]("style"))["$!"]())?a:g["$=="](p.style):o)?u(o=(b=e["$[]"]("role"))["$!"]())?o:p["$has_role?"](b):$)?u($=(v=e["$[]"]("id"))["$!"]())?$:v["$=="](p.id):n))if(u(v))r.$replace(f!==i?u(t.yield1(f,p))?[p]:[]:[p]),p.$raise(s("::","StopIteration"));else if(f!==i){if(u(x=t.yield1(f,p))){if("skip_children"["$==="](w=x))return r["$<<"](p),r;if("skip"["$==="](w))return r;r["$<<"](p)}}else r["$<<"](p);return u(u(n=($=p.context["$=="]("document"))?u(o=m)?o:y["$=="]("section"):p.context["$=="]("document"))?p["$header?"]():n)&&c(p.header,"find_by_internal",[e,r],f.$to_proc()),y["$=="]("document")||(p.context["$=="]("dlist")?u(u(n=m)?n:y["$!="]("section"))&&c(p.blocks.$flatten(),"each",[],((h=function(t){return h.$$s,null==t&&(t=i),u(t)?c(t,"find_by_internal",[e,r],f.$to_proc()):i}).$$s=p,h.$$arity=1,h)):u(c(p.blocks,"each",[],((_=function(t){return _.$$s,null==t&&(t=i),u(y["$=="]("section")?t.$context()["$!="]("section"):y["$=="]("section"))?i:c(t,"find_by_internal",[e,r],f.$to_proc())}).$$s=p,_.$$arity=1,_)))),r},A.$$arity=-1),t.def(j,"$next_adjacent_block",O=function(){var t=i,e=i;return this.context["$=="]("document")?i:u(t=(e=this.$parent()).$blocks()["$[]"](r(e.$blocks().$find_index(this),1)))?t:e.$next_adjacent_block()},O.$$arity=0),t.def(j,"$sections",S=function(){var t;return c(this.blocks,"select",[],((t=function(e){return t.$$s,null==e&&(e=i),e.$context()["$=="]("section")}).$$s=this,t.$$arity=1,t))},S.$$arity=0),t.def(j,"$alt",R=function(){var t=i;return u(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),u($(H,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):i},R.$$arity=0),t.def(j,"$caption",C=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},C.$$arity=0),t.def(j,"$captioned_title",T=function(){return""+this.caption+this.$title()},T.$$arity=0),t.def(j,"$list_marker_keyword",M=function(t){var e;return null==t&&(t=i),$(H,"ORDERED_LIST_KEYWORDS")["$[]"](u(e=t)?e:this.style)},M.$$arity=-1),t.def(j,"$title",I=function(){var t,e;return u(this.title_converted)?this.converted_title:this.converted_title=u(t=u(e=this.title_converted=!0)?this.title:e)?this.$apply_title_subs(this.title):t},I.$$arity=0),t.def(j,"$title?",N=function(){return!!u(this.title)},N.$$arity=0),t.def(j,"$title=",P=function(t){var e;return e=[t,i],this.title=e[0],this.title_converted=e[1],e},P.$$arity=1),t.def(j,"$sub?",L=function(t){return this.subs["$include?"](t)},L.$$arity=1),t.def(j,"$remove_sub",D=function(t){return this.subs.$delete(t),i},D.$$arity=1),t.def(j,"$xreftext",F=function(t){var e,r,n=this,s=i,$=i,o=i,a=i;return null==t&&(t=i),u(u(e=s=n.$reftext())?s["$empty?"]()["$!"]():e)?s:u(u(e=u(r=t)?n.title:r)?n.caption:e)?"full"["$==="]($=t)?(o=n.$sprintf(n.$sub_quotes(u(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),u(u(e=n.numeral)?a=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?a+" "+n.numeral+", "+o:n.caption.$chomp(". ")+", "+o):"short"["$==="]($)?u(u(e=n.numeral)?a=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?a+" "+n.numeral:n.caption.$chomp(". "):n.$title():n.$title()},F.$$arity=-1),t.def(j,"$assign_caption",z=function(t,e){var r,n,s=i;return null==t&&(t=i),null==e&&(e=i),u(u(r=u(n=this.caption)?n:this.title["$!"]())?r:this.caption=u(n=t)?n:this.document.$attributes()["$[]"]("caption"))?i:u(s=this.document.$attributes()["$[]"]((e=u(r=e)?r:this.context)+"-caption"))?(this.caption=s+" "+(this.numeral=this.document.$increment_and_store_counter(e+"-number",this))+". ",i):i},z.$$arity=-1),t.def(j,"$assign_numeral",B=function(n){var s,$=i,o=i,a=i,l=i;return this.next_section_index=r(($=[this.next_section_index],c(n,"index=",t.to_a($)),$[e($.length,1)]),1),u(o=n.$numbered())&&((a=n.$sectname())["$=="]("appendix")?($=[this.document.$counter("appendix-number","A")],c(n,"numeral=",t.to_a($)),$[e($.length,1)],u(l=this.document.$attributes()["$[]"]("appendix-caption"))?($=[l+" "+n.$numeral()+": "],c(n,"caption=",t.to_a($)),$[e($.length,1)]):($=[n.$numeral()+". "],c(n,"caption=",t.to_a($)),$[e($.length,1)])):u(u(s=a["$=="]("chapter"))?s:o["$=="]("chapter"))?($=[this.document.$counter("chapter-number",1)],c(n,"numeral=",t.to_a($)),$[e($.length,1)]):($=[this.next_section_ordinal],c(n,"numeral=",t.to_a($)),$[e($.length,1)],this.next_section_ordinal=r(this.next_section_ordinal,1))),i},B.$$arity=1),t.def(j,"$reindex_sections",q=function(){var t;return this.next_section_index=0,this.next_section_ordinal=1,c(this.blocks,"each",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=i),e.$context()["$=="]("section")?(r.$assign_numeral(e),e.$reindex_sections()):i}).$$s=this,t.$$arity=1,t))},q.$$arity=0)}(f[0],$(f,"AbstractNode"),f)}(n[0],n)},i.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,l=t.hash,c=t.hash2,u=t.truthy,h=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(n,_){function d(){}var f=d=o(n,"Asciidoctor",d),p=(f.prototype,[f].concat(_));!function(n,o,_){function d(){}var f,p,m,y,g,b,v,x,w,k,E,A,O=d=a(n,null,"AttributeList",d),S=O.prototype,R=[O].concat(_);S.attributes=S.scanner=S.delimiter=S.block=S.delimiter_skip_pattern=S.delimiter_boundary_pattern=i,t.const_set(R[0],"BACKSLASH","\\"),t.const_set(R[0],"APOS","'"),t.const_set(R[0],"BoundaryRxs",l('"',/.*?[^\\](?=")/,$(R,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),t.const_set(R[0],"EscapedQuotes",l('"','\\"',$(R,"APOS"),"\\'")),t.const_set(R[0],"NameRx",new RegExp($(R,"CG_WORD")+"["+$(R,"CC_WORD")+"\\-.]*")),t.const_set(R[0],"BlankRx",/[ \t]+/),t.const_set(R[0],"SkipRxs",c(["blank",","],{blank:$(R,"BlankRx"),",":/[ \t]*(,|$)/})),t.def(O,"$initialize",f=function(t,e,r){return null==e&&(e=i),null==r&&(r=","),this.scanner=s("::","StringScanner").$new(t),this.block=e,this.delimiter=r,this.delimiter_skip_pattern=$(R,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=$(R,"BoundaryRxs")["$[]"](r),this.attributes=i},f.$$arity=-2),t.def(O,"$parse_into",p=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},p.$$arity=-2),t.def(O,"$parse",m=function(t){var r=i;if(null==t&&(t=[]),u(this.attributes))return this.attributes;for(this.attributes=c([],{}),r=0;u(this.$parse_attribute(r,t))&&!u(this.scanner["$eos?"]());)this.$skip_delimiter(),r=e(r,1);return this.attributes},m.$$arity=-1),t.def(O,"$rekey",y=function(t){return $(R,"AttributeList").$rekey(this.attributes,t)},y.$$arity=1),t.defs(O,"$rekey",g=function(n,s){var $;return h(s,"each_with_index",[],(($=function(s,o){$.$$s;var a=i,l=i,c=i;return null==s&&(s=i),null==o&&(o=i),u(s)?(a=e(o,1),u(l=n["$[]"](a))?(c=[s,l],h(n,"[]=",t.to_a(c)),c[r(c.length,1)]):i):i}).$$s=this,$.$$arity=2,$)),n},g.$$arity=2),t.def(O,"$parse_attribute",b=function(n,s){var o,a,l,c,_=this,d=i,f=i,p=i,m=i,y=i,g=i,b=i,v=i,x=i,w=i;if(null==n&&(n=0),null==s&&(s=[]),d=!1,_.$skip_blank(),(f=_.scanner.$peek(1))["$=="]('"'))p=_.$parse_attribute_value(_.scanner.$get_byte()),m=i;else if(f["$=="]($(R,"APOS")))p=_.$parse_attribute_value(_.scanner.$get_byte()),m=i,u(p["$start_with?"]($(R,"APOS")))||(d=!0);else{if(p=_.$scan_name(),y=0,g=i,u(_.scanner["$eos?"]())){if(!u(p))return!1}else y=u(o=_.$skip_blank())?o:0,g=_.scanner.$get_byte();if(u(u(o=g["$!"]())?o:g["$=="](_.delimiter)))m=i;else if(u(u(o=g["$!="]("="))?o:p["$!"]()))p=""+p+(c=y,"number"==typeof(l=" ")&&"number"==typeof c?l*c:l["$*"](c))+g+_.$scan_to_delimiter(),m=i;else if(_.$skip_blank(),u(_.scanner.$peek(1)))if((g=_.scanner.$get_byte())["$=="]('"'))m=_.$parse_attribute_value(g);else if(g["$=="]($(R,"APOS")))m=_.$parse_attribute_value(g),u(m["$start_with?"]($(R,"APOS")))||(d=!0);else if(g["$=="](_.delimiter))m="";else if((m=""+g+_.$scan_to_delimiter())["$=="]("None"))return!0}return u(m)?"options"["$==="](b=p)||"opts"["$==="](b)?(u(m["$include?"](","))?(u(m["$include?"](" "))&&(m=m.$delete(" ")),h(m.$split(","),"each",[],((a=function(e){var n=a.$$s||this,s=i;return null==n.attributes&&(n.attributes=i),null==e&&(e=i),u(e["$empty?"]())?i:(s=[e+"-option",""],h(n.attributes,"[]=",t.to_a(s)),s[r(s.length,1)])}).$$s=_,a.$$arity=1,a))):(v=[(m=m.$strip())+"-option",""],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),v=["options",m],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):u(u(o=d)?_.block:o)?"title"["$==="](b=p)||"reftext"["$==="](b)?(v=[p,m],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[p,_.block.$apply_subs(m)],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[p,m],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(x=u(u(o=d)?_.block:o)?_.block.$apply_subs(p):p,u(w=s["$[]"](n))&&(v=[w,x],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),v=[e(n,1),x],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),!0},b.$$arity=-1),t.def(O,"$parse_attribute_value",v=function(t){var e=i;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):u(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),u(e["$include?"]($(R,"BACKSLASH")))?e.$gsub($(R,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},v.$$arity=1),t.def(O,"$skip_blank",x=function(){return this.scanner.$skip($(R,"BlankRx"))},x.$$arity=0),t.def(O,"$skip_delimiter",w=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},w.$$arity=0),t.def(O,"$scan_name",k=function(){return this.scanner.$scan($(R,"NameRx"))},k.$$arity=0),t.def(O,"$scan_to_delimiter",E=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},E.$$arity=0),t.def(O,"$scan_to_quote",A=function(t){return this.scanner.$scan($(R,"BoundaryRxs")["$[]"](t))},A.$$arity=1)}(p[0],0,p)}(n[0],n)},i.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,a=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$drop","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$logger","$to_s","$class","$object_id","$inspect"]),function(r,u){function h(){}var _=h=$(r,"Asciidoctor",h),d=(_.prototype,[_].concat(u));!function(r,$,u){function h(){}var _,d,f,p,m=h=o(r,$,"Block",h),y=m.prototype,g=[m].concat(u),b=n;y.attributes=y.content_model=y.lines=y.subs=y.blocks=y.context=y.style=n,b=["simple"],a(t.const_set(g[0],"DEFAULT_CONTENT_MODEL",l(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(b)),e(b.length,1),t.alias(m,"blockname","context"),m.$attr_accessor("lines"),t.def(m,"$initialize",_=function(r,$,o){var u,h=_.$$p,d=n,f=n,p=n,m=n,y=n,b=n;for(h&&(_.$$p=null),y=0,b=arguments.length,m=new Array(b);y<b;y++)m[y]=arguments[y];return null==o&&(o=l([],{})),a(this,t.find_super_dispatcher(this,"initialize",_,!1),m,h),this.content_model=c(u=o["$[]"]("content_model"))?u:s(g,"DEFAULT_CONTENT_MODEL")["$[]"]($),c(o["$key?"]("subs"))?c(d=o["$[]"]("subs"))?(d["$=="]("default")?this.default_subs=o["$[]"]("default_subs"):c(i("::","Array")["$==="](d))?(this.default_subs=d.$drop(0),this.attributes.$delete("subs")):(this.default_subs=n,f=["subs",""+d],a(this.attributes,"[]=",t.to_a(f)),f[e(f.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=n,c((p=o["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:c(i("::","String")["$==="](p))?this.lines=s(g,"Helpers").$normalize_lines_from_string(p):this.lines=p.$drop(0)},_.$$arity=-3),t.def(m,"$content",d=function(){var e,r=d.$$p,i=this,$=n,o=n,l=n,u=n,h=n,_=n,f=n;for(r&&(d.$$p=null),_=0,f=arguments.length,h=new Array(f);_<f;_++)h[_]=arguments[_];return function(){if($=i.content_model,"compound"["$==="]($))return a(i,t.find_super_dispatcher(i,"content",d,!1),h,r);if("simple"["$==="]($))return i.$apply_subs(i.lines.$join(s(g,"LF")),i.subs);if("verbatim"["$==="]($)||"raw"["$==="]($)){if(o=i.$apply_subs(i.lines,i.subs),c((_=o.$size(),f=2,"number"==typeof _&&"number"==typeof f?_<f:_["$<"](f))))return o["$[]"](0);for(;c(c(e=l=o["$[]"](0))?l.$rstrip()["$empty?"]():e);)o.$shift();for(;c(c(e=u=o["$[]"](-1))?u.$rstrip()["$empty?"]():e);)o.$pop();return o.$join(s(g,"LF"))}return i.content_model["$=="]("empty")||i.$logger().$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),n;var _,f}()},d.$$arity=0),t.def(m,"$source",f=function(){return this.lines.$join(s(g,"LF"))},f.$$arity=0),t.def(m,"$to_s",p=function(){var t=this,e=n;return e=t.content_model["$=="]("compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"},p.$$arity=0)}(d[0],s(d,"AbstractBlock"),d)}(r[0],r)},i.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],i=t.nil,s=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),$=t.klass,o=t.hash2,a=t.truthy,l=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(n,c){function u(){}var h=u=s(n,"Asciidoctor",u),_=(h.prototype,[h].concat(c));!function(n,s,c){function u(){}var h,_,d,f,p,m,y,g,b,v=u=$(n,null,"Callouts",u),x=v.prototype;[v].concat(c),x.co_index=x.lists=x.list_index=i,t.def(v,"$initialize",h=function(){return this.lists=[],this.list_index=0,this.$next_list()},h.$$arity=0),t.def(v,"$register",_=function(t){var r=i;return this.$current_list()["$<<"](o(["ordinal","id"],{ordinal:t.$to_i(),id:r=this.$generate_next_callout_id()})),this.co_index=e(this.co_index,1),r},_.$$arity=1),t.def(v,"$read_next_id",d=function(){var t,n,s=i,$=i;return s=i,$=this.$current_list(),a((t=this.co_index,n=$.$size(),"number"==typeof t&&"number"==typeof n?t<=n:t["$<="](n)))&&(s=$["$[]"](r(this.co_index,1))["$[]"]("id")),this.co_index=e(this.co_index,1),s},d.$$arity=0),t.def(v,"$callout_ids",f=function(t){var e;return l(this.$current_list(),"map",[],(e=function(r){return e.$$s,null==r&&(r=i),r["$[]"]("ordinal")["$=="](t)?r["$[]"]("id")+" ":""},e.$$s=this,e.$$arity=1,e)).$join().$chop()},f.$$arity=1),t.def(v,"$current_list",p=function(){return this.lists["$[]"](r(this.list_index,1))},p.$$arity=0),t.def(v,"$next_list",m=function(){var t,r;return this.list_index=e(this.list_index,1),a((t=this.lists.$size(),r=this.list_index,"number"==typeof t&&"number"==typeof r?t<r:t["$<"](r)))&&this.lists["$<<"]([]),this.co_index=1,i},m.$$arity=0),t.def(v,"$rewind",y=function(){return this.list_index=1,this.co_index=1,i},y.$$arity=0),t.def(v,"$generate_next_callout_id",g=function(){return this.$generate_callout_id(this.list_index,this.co_index)},g.$$arity=0),t.def(v,"$generate_callout_id",b=function(t,e){return"CO"+t+"-"+e},b.$$arity=2)}(_[0],0,_)}(n[0],n)},i.modules["asciidoctor/converter/base"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.klass,$=t.hash2,o=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(e,a){function l(){}var c=l=i(e,"Asciidoctor",l),u=(c.prototype,[c].concat(a));!function(t,e){function r(){}var n=r=i(t,"Converter",r);n.prototype,[n].concat(e)}(u[0],u),function(t,e,r){function i(){}var $=i=s(t,null,"Base",i),o=($.prototype,[$].concat(r));$.$include(n(o,"Logging")),$.$include(n(o,"Converter"))}(n(u,"Converter"),0,u),function(e,i,a){function l(){}var c,u,h,_,d=l=s(e,null,"BuiltIn",l),f=(d.prototype,[d].concat(a));d.$include(n(f,"Logging")),t.def(d,"$initialize",c=function(t,e){return null==e&&(e=$([],{})),r},c.$$arity=-2),t.def(d,"$convert",u=function(t,e,n){var i;return null==e&&(e=r),null==n&&(n=$([],{})),e=o(i=e)?i:t.$node_name(),o(n["$empty?"]())?this.$send(e,t):this.$send(e,t,n)},u.$$arity=-2),t.alias(d,"handles?","respond_to?"),t.def(d,"$content",h=function(t){return t.$content()},h.$$arity=1),t.alias(d,"pass","content"),t.def(d,"$skip",_=function(t){return r},_.$$arity=1)}(n(u,"Converter"),0,u)}(e[0],e)},i.modules["asciidoctor/converter/factory"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,s=(t.breaker,t.slice,t.module),$=t.klass,o=t.truthy,a=t.hash2,l=t.send;return t.add_stubs(["$new","$require","$include?","$include","$warn","$logger","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$supports_templates?","$to_s","$key?"]),function(e,c){function u(){}var h=u=s(e,"Asciidoctor",u),_=(h.prototype,[h].concat(c));!function(e,c){function u(){}var h=u=s(e,"Converter",u),_=(h.prototype,[h].concat(c));!function(e,s,c){function u(){}var h,_,d,f,p,m=u=$(e,null,"Factory",u),y=m.prototype,g=[m].concat(c);y.converters=y.star_converter=r,m.__default__=r,function(e,s){e.prototype;var $,l,c,u,h,_,d=[e].concat(s);t.def(e,"$default",$=function(e){var s,$,a=this;return null==a.__default__&&(a.__default__=r),null==e&&(e=!0),o(e)?a.__default__=o(s=a.__default__)?s:function(){try{return o(($=n("::","Concurrent","skip_raise"))&&n($,"Hash","skip_raise")?"constant":r)||a.$require(o(n("::","RUBY_MIN_VERSION_1_9"))?"concurrent/hash":"asciidoctor/core_ext/1.8.7/concurrent/hash"),a.$new(n(n("::","Concurrent"),"Hash").$new())}catch(e){if(!t.rescue(e,[n("::","LoadError")]))throw e;try{return o(a["$include?"](i(d,"Logging")))||a.$include(i(d,"Logging")),a.$logger().$warn("gem 'concurrent-ruby' is not installed. This gem is recommended when registering custom converters."),a.$new()}finally{t.pop_exception()}}}():o(s=a.__default__)?s:a.$new()},$.$$arity=-1),t.def(e,"$register",l=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},l.$$arity=-2),t.def(e,"$resolve",c=function(t){return this.$default().$resolve(t)},c.$$arity=1),t.def(e,"$create",u=function(t,e){return null==e&&(e=a([],{})),this.$default().$create(t,e)},u.$$arity=-2),t.def(e,"$converters",h=function(){return this.$default().$converters()},h.$$arity=0),t.def(e,"$unregister_all",_=function(){return this.$default().$unregister_all()},_.$$arity=0)}(t.get_singleton_class(m),g),m.$attr_reader("converters"),t.def(m,"$initialize",h=function(t){var e;return null==t&&(t=r),this.converters=o(e=t)?e:a([],{}),this.star_converter=r},h.$$arity=-1),t.def(m,"$register",_=function(e,n){var i;return null==n&&(n=["*"]),l(n,"each",[],((i=function(n){var s,$,o=i.$$s||this,a=r;return null==o.converters&&(o.converters=r),null==n&&(n=r),a=[n,e],l(o.converters,"[]=",t.to_a(a)),$=1,"number"==typeof(s=a.length)&&"number"==typeof $||s["$-"]($),n["$=="]("*")?o.star_converter=e:r}).$$s=this,i.$$arity=1,i)),r},_.$$arity=-2),t.def(m,"$resolve",d=function(t){var e,r;return o(e=this.converters)?o(r=this.converters["$[]"](t))?r:this.star_converter:e},d.$$arity=1),t.def(m,"$unregister_all",f=function(){return this.converters.$clear(),this.star_converter=r},f.$$arity=0),t.def(m,"$create",p=function(t,e){var s,$,l,c,u,h,_,d,f,p,m,y,b,v=r,x=r,w=r,k=r;if(null==e&&(e=a([],{})),o(v=this.$resolve(t))){if(x=o(n("::","Class")["$==="](v))?v.$new(t,e):v,!o(o(s=n(i(g,"Converter"),"BackendInfo")["$==="](x))?x["$supports_templates?"]():s))return x}else"html5"["$==="](w=t)?(o((l=n("::","Asciidoctor","skip_raise"))&&($=n(l,"Converter","skip_raise"))&&(s=n($,"Html5Converter","skip_raise"))?"constant":r)||this.$require("asciidoctor/converter/html5".$to_s()),x=i(g,"Html5Converter").$new(t,e)):"docbook5"["$==="](w)?(o((u=n("::","Asciidoctor","skip_raise"))&&(c=n(u,"Converter","skip_raise"))&&n(c,"DocBook5Converter","skip_raise")?"constant":r)||this.$require("asciidoctor/converter/docbook5".$to_s()),x=i(g,"DocBook5Converter").$new(t,e)):"docbook45"["$==="](w)?(o((_=n("::","Asciidoctor","skip_raise"))&&(h=n(_,"Converter","skip_raise"))&&n(h,"DocBook45Converter","skip_raise")?"constant":r)||this.$require("asciidoctor/converter/docbook45".$to_s()),x=i(g,"DocBook45Converter").$new(t,e)):"manpage"["$==="](w)&&(o((f=n("::","Asciidoctor","skip_raise"))&&(d=n(f,"Converter","skip_raise"))&&n(d,"ManPageConverter","skip_raise")?"constant":r)||this.$require("asciidoctor/converter/manpage".$to_s()),x=i(g,"ManPageConverter").$new(t,e));return o(e["$key?"]("template_dirs"))?(o((m=n("::","Asciidoctor","skip_raise"))&&(p=n(m,"Converter","skip_raise"))&&n(p,"TemplateConverter","skip_raise")?"constant":r)||this.$require("asciidoctor/converter/template".$to_s()),k=i(g,"TemplateConverter").$new(t,e["$[]"]("template_dirs"),e),o((b=n("::","Asciidoctor","skip_raise"))&&(y=n(b,"Converter","skip_raise"))&&n(y,"CompositeConverter","skip_raise")?"constant":r)||this.$require("asciidoctor/converter/composite".$to_s()),i(g,"CompositeConverter").$new(t,k,x)):x},p.$$arity=-2)}(_[0],0,_)}(_[0],_)}(e[0],e)},i.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.send,l=t.truthy,c=t.hash2;return t.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$slice","$length","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),function(r,n){function u(){}var h=u=o(r,"Asciidoctor",u),_=(h.prototype,[h].concat(n));!function(r,n){function u(){}var h,_,d=u=o(r,"Converter",u),f=(d.prototype,[d].concat(n));!function(e,r){function n(){}var s,l=n=o(e,"Config",n),c=(l.prototype,[l].concat(r));t.def(l,"$register_for",s=function(e){var r,n,s,o,l=i;return r=t.slice.call(arguments,0,arguments.length),n=r,$(c,"Factory").$register(this,n),l=function(t,e){return t.prototype,[t].concat(e),t}(t.get_singleton_class(this),c),n["$=="](["*"])?a(l,"send",["define_method","converts?"],((s=function(t){return s.$$s,null==t&&(t=i),!0}).$$s=this,s.$$arity=1,s)):a(l,"send",["define_method","converts?"],((o=function(t){return o.$$s,null==t&&(t=i),n["$include?"](t)}).$$s=this,o.$$arity=1,o)),i},s.$$arity=-1)}(f[0],f),function(r,n){function u(){}var h,_,d,f,p,m,y,g,b=u=o(r,"BackendInfo",u),v=(b.prototype,[b].concat(n));t.def(b,"$backend_info",h=function(){var t;return null==this.backend_info&&(this.backend_info=i),this.backend_info=l(t=this.backend_info)?t:this.$setup_backend_info()},h.$$arity=0),t.def(b,"$setup_backend_info",_=function(){var t=i,e=i,r=i,n=i;return null==this.backend&&(this.backend=i),l(this.backend)||this.$raise(s("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class()),t=this.backend.$sub($(v,"TrailingDigitsRx"),""),l(e=$(v,"DEFAULT_EXTENSIONS")["$[]"](t))?r=e.$slice(1,e.$length()):(t="html",e=".html",r="html",n="html"),c(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:t,outfilesuffix:e,filetype:r,htmlsyntax:n})},_.$$arity=0),t.def(b,"$filetype",d=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["filetype",r],a(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("filetype")},d.$$arity=-1),t.def(b,"$basebackend",f=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["basebackend",r],a(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("basebackend")},f.$$arity=-1),t.def(b,"$outfilesuffix",p=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["outfilesuffix",r],a(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},p.$$arity=-1),t.def(b,"$htmlsyntax",m=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["htmlsyntax",r],a(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},m.$$arity=-1),t.def(b,"$supports_templates",y=function(){var r=i;return r=["supports_templates",!0],a(this.$backend_info(),"[]=",t.to_a(r)),r[e(r.length,1)]},y.$$arity=0),t.def(b,"$supports_templates?",g=function(){return this.$backend_info()["$[]"]("supports_templates")},g.$$arity=0)}(f[0],f),function(e,r){e.prototype;var n,i=[e].concat(r);t.def(e,"$included",n=function(t){return t.$extend($(i,"Config"))},n.$$arity=1)}(t.get_singleton_class(d),f),d.$include($(f,"Config")),d.$include($(f,"BackendInfo")),t.def(d,"$initialize",h=function(t,e){return null==e&&(e=c([],{})),this.backend=t,this.$setup_backend_info()},h.$$arity=-2),t.def(d,"$convert",_=function(t,e,r){return null==e&&(e=i),null==r&&(r=c([],{})),this.$raise(s("::","NotImplementedError"))},_.$$arity=-2),t.alias(d,"handles?","respond_to?"),t.alias(d,"convert_with_options","convert")}(_[0],_),function(e,r){function n(){}var a,c=n=o(e,"Writer",n),u=(c.prototype,[c].concat(r));t.def(c,"$write",a=function(t,e){return l(e["$respond_to?"]("write"))?(e.$write(t.$chomp()),e.$write($(u,"LF"))):s("::","IO").$write(e,t),i},a.$$arity=2)}(_[0],_),function(e,r){function n(){}var s,a=n=o(e,"VoidWriter",n),l=(a.prototype,[a].concat(r));a.$include($(l,"Writer")),t.def(a,"$write",s=function(t,e){return i},s.$$arity=2)}(_[0],_)}(n[0],n),r.$require("asciidoctor/converter/base"),r.$require("asciidoctor/converter/factory")},i.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],$=t.nil,o=t.const_get_qualified,a=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.send,h=t.truthy,_=t.hash2,d=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$inject","$catalog","$==","$dup","$attributes","$safe","$compat_mode","$sourcemap","$path_resolver","$converter","$extensions","$each","$end_with?","$start_with?","$slice","$length","$chop","$downcase","$extname","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$fetch","$activate","$create","$to_proc","$groups","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$merge","$>","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$attribute_locked?","$rewind","$replace","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$Array","$backend","$default","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$docinfo_processors?","$compact","$join","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(s,f){function p(){}var m=p=l(s,"Asciidoctor",p),y=(m.prototype,[m].concat(f));!function(s,l,f){function p(){}var m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut=p=c(s,l,"Document",p),ht=ut.prototype,_t=[ut].concat(f);ht.attributes=ht.safe=ht.sourcemap=ht.reader=ht.base_dir=ht.parsed=ht.parent_document=ht.extensions=ht.options=ht.counters=ht.catalog=ht.header=ht.blocks=ht.attributes_modified=ht.id=ht.header_attributes=ht.max_attribute_value_size=ht.attribute_overrides=ht.backend=ht.doctype=ht.converter=ht.timings=ht.outfilesuffix=ht.docinfo_processor_extensions=ht.document=$,t.const_set(_t[0],"ImageReference",u(o("::","Struct"),"new",["target","imagesdir"],((m=function(){var e=m.$$s||this;return t.alias(e,"to_s","target")}).$$s=ut,m.$$arity=0,m))),t.const_set(_t[0],"Footnote",o("::","Struct").$new("index","id","text")),function(r,n,i){function s(){}var o,a,l=s=c(r,null,"AttributeEntry",s);l.prototype,[l].concat(i),l.$attr_reader("name","value","negate"),t.def(l,"$initialize",o=function(t,e,r){return null==r&&(r=$),this.name=t,this.value=e,this.negate=h(r["$nil?"]())?e["$nil?"]():r},o.$$arity=-3),t.def(l,"$save_to",a=function(r){var n,i=$;return(h(n=r["$[]"]("attribute_entries"))?n:(i=["attribute_entries",[]],u(r,"[]=",t.to_a(i)),i[e(i.length,1)]))["$<<"](this),this},a.$$arity=1)}(_t[0],0,_t),function(e,r,n){function i(){}var s,o,l,u,d=i=c(e,null,"Title",i),f=d.prototype,p=[d].concat(n);f.sanitized=f.subtitle=f.combined=$,d.$attr_reader("main"),t.alias(d,"title","main"),d.$attr_reader("subtitle"),d.$attr_reader("combined"),t.def(d,"$initialize",s=function(e,r){var n,i,s=$;return null==r&&(r=_([],{})),h(h(n=this.sanitized=r["$[]"]("sanitize"))?e["$include?"]("<"):n)&&(e=e.$gsub(a(p,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),h(h(n=(s=h(i=r["$[]"]("separator"))?i:":")["$empty?"]())?n:e["$include?"](s+=" ")["$!"]())?(this.main=e,this.subtitle=$):(i=e.$rpartition(s),n=t.to_ary(i),this.main=null==n[0]?$:n[0],null==n[1]||n[1],this.subtitle=null==n[2]?$:n[2]),this.combined=e},s.$$arity=-2),t.def(d,"$sanitized?",o=function(){return this.sanitized},o.$$arity=0),t.def(d,"$subtitle?",l=function(){return!!h(this.subtitle)},l.$$arity=0),t.def(d,"$to_s",u=function(){return this.combined},u.$$arity=0)}(_t[0],0,_t),t.const_set(_t[0],"Author",o("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),ut.$attr_reader("safe"),ut.$attr_reader("compat_mode"),ut.$attr_reader("backend"),ut.$attr_reader("doctype"),ut.$attr_accessor("sourcemap"),ut.$attr_reader("catalog"),t.alias(ut,"references","catalog"),ut.$attr_reader("counters"),ut.$attr_reader("header"),ut.$attr_reader("base_dir"),ut.$attr_reader("options"),ut.$attr_reader("outfilesuffix"),ut.$attr_reader("parent_document"),ut.$attr_reader("reader"),ut.$attr_reader("path_resolver"),ut.$attr_reader("converter"),ut.$attr_reader("extensions"),t.def(ut,"$initialize",y=function(i,s){var l,c,d,f,p,m,g,b=y.$$p,v=this,x=$,w=$,k=$,E=$,A=$,O=$,S=$,R=$,C=$,T=$,M=$,I=$,N=$,P=$,L=$,D=$,F=$,z=$,B=$,q=$;if(b&&(y.$$p=null),null==i&&(i=$),null==s&&(s=_([],{})),u(v,t.find_super_dispatcher(v,"initialize",y,!1),[v,"document"],null),h(x=s.$delete("parent")))v.parent_document=x,h(l=s["$[]"]("base_dir"))||(w=["base_dir",x.$base_dir()],u(s,"[]=",t.to_a(w)),w[e(w.length,1)]),h(x.$options()["$[]"]("catalog_assets"))&&(w=["catalog_assets",!0],u(s,"[]=",t.to_a(w)),w[e(w.length,1)]),v.catalog=u(x.$catalog(),"inject",[_([],{})],((c=function(r,n){c.$$s;var i,s,o=$,a=$;return null==r&&(r=$),null==n&&(n=$),s=n,i=t.to_ary(s),o=null==i[0]?$:i[0],a=null==i[1]?$:i[1],w=[o,o["$=="]("footnotes")?[]:a],u(r,"[]=",t.to_a(w)),w[e(w.length,1)],r}).$$s=v,c.$$arity=2,c.$$has_top_level_mlhs_arg=!0,c)),v.attribute_overrides=k=x.$attributes().$dup(),E=k.$delete("doctype"),k.$delete("compat-mode"),k.$delete("toc"),k.$delete("toc-placement"),k.$delete("toc-position"),v.safe=x.$safe(),h(v.compat_mode=x.$compat_mode())&&(w=["compat-mode",""],u(v.attributes,"[]=",t.to_a(w)),w[e(w.length,1)]),v.sourcemap=x.$sourcemap(),v.timings=$,v.path_resolver=x.$path_resolver(),v.converter=x.$converter(),A=!1,v.extensions=x.$extensions();else{if(v.parent_document=$,v.catalog=_(["ids","refs","footnotes","links","images","indexterms","callouts","includes"],{ids:_([],{}),refs:_([],{}),footnotes:[],links:[],images:[],indexterms:[],callouts:a(_t,"Callouts").$new(),includes:_([],{})}),v.attribute_overrides=k=_([],{}),u(h(l=s["$[]"]("attributes"))?l:_([],{}),"each",[],((d=function(r,n){var i;return d.$$s,null==r&&(r=$),null==n&&(n=$),h(r["$end_with?"]("@"))?h(r["$start_with?"]("!"))?(i=[r.$slice(1,e(r.$length(),2)),!1],r=i[0],n=i[1]):h(r["$end_with?"]("!@"))?(i=[r.$slice(0,e(r.$length(),2)),!1],r=i[0],n=i[1]):(i=[r.$chop(),n+"@"],r=i[0],n=i[1]):h(r["$start_with?"]("!"))?(i=[r.$slice(1,r.$length()),!n["$=="]("@")&&$],r=i[0],n=i[1]):h(r["$end_with?"]("!"))&&(i=[r.$chop(),!n["$=="]("@")&&$],r=i[0],n=i[1]),w=[r.$downcase(),n],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]}).$$s=v,d.$$arity=2,d)),h(O=s["$[]"]("to_file"))&&(w=["outfilesuffix",o("::","File").$extname(O)],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h((S=s["$[]"]("safe"))["$!"]()))v.safe=o(a(_t,"SafeMode"),"SECURE");else if(h(o("::","Integer")["$==="](S)))v.safe=S;else try{v.safe=a(_t,"SafeMode").$value_for_name(S.$to_s())}catch(e){if(!t.rescue(e,[a(_t,"StandardError")]))throw e;try{v.safe=o(a(_t,"SafeMode"),"SECURE")}finally{t.pop_exception()}}v.compat_mode=k["$key?"]("compat-mode"),v.sourcemap=s["$[]"]("sourcemap"),v.timings=s.$delete("timings"),v.path_resolver=a(_t,"PathResolver").$new(),v.converter=$,A=(f=o("::","Asciidoctor","skip_raise"))&&(l=o(f,"Extensions","skip_raise"))?"constant":$,v.extensions=$}return v.parsed=!1,v.header=v.header_attributes=$,v.counters=_([],{}),v.attributes_modified=o("::","Set").$new(),v.docinfo_processor_extensions=_([],{}),R=h(p=s["$[]"]("header_footer"))?p:(w=["header_footer",!1],u(s,"[]=",t.to_a(w)),w[e(w.length,1)]),(v.options=s).$freeze(),C=v.attributes,w=["sectids",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["toc-placement","auto"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],h(R)?(w=["copycss",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["embedded",$],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]):(w=["notitle",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["embedded",""],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),w=["stylesheet",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["webfonts",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["prewrap",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["attribute-undefined",a(_t,"Compliance").$attribute_undefined()],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["attribute-missing",a(_t,"Compliance").$attribute_missing()],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["iconfont-remote",""],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["caution-caption","Caution"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["important-caption","Important"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["note-caption","Note"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["tip-caption","Tip"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["warning-caption","Warning"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["example-caption","Example"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["figure-caption","Figure"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["table-caption","Table"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["toc-title","Table of Contents"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["section-refsig","Section"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["part-refsig","Part"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["chapter-refsig","Chapter"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["appendix-caption",(w=["appendix-refsig","Appendix"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)])],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["untitled-label","Untitled"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["version-label","Version"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["last-update-label","Last updated"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)],w=["asciidoctor",""],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],w=["asciidoctor-version",a(_t,"VERSION")],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],w=["safe-mode-name",T=a(_t,"SafeMode").$name_for_value(v.safe)],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],w=["safe-mode-"+T,""],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],w=["safe-mode-level",v.safe],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],h(p=k["$[]"]("max-include-depth"))||(w=["max-include-depth",64],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=k["$[]"]("allow-uri-read"))||(w=["allow-uri-read",$],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),w=["user-home",a(_t,"USER_HOME")],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],h(k["$key?"]("numbered"))&&(w=["sectnums",k.$delete("numbered")],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(M=s["$[]"]("base_dir"))?v.base_dir=(w=["docdir",o("::","File").$expand_path(M)],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]):h(k["$[]"]("docdir"))?v.base_dir=k["$[]"]("docdir"):v.base_dir=(w=["docdir",o("::","Dir").$pwd()],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(I=s["$[]"]("backend"))&&(w=["backend",""+I],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(N=s["$[]"]("doctype"))&&(w=["doctype",""+N],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(r(v.safe,o(a(_t,"SafeMode"),"SERVER")))&&(h(p=k["$[]"]("copycss"))||(w=["copycss",$],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=k["$[]"]("source-highlighter"))||(w=["source-highlighter",$],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=k["$[]"]("backend"))||(w=["backend",a(_t,"DEFAULT_BACKEND")],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(h(p=x["$!"]())?k["$key?"]("docfile"):p)&&(w=["docfile",k["$[]"]("docfile")["$[]"](t.Range.$new(n(k["$[]"]("docdir").$length(),1),-1,!1))],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),w=["docdir",""],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],w=["user-home","."],u(k,"[]=",t.to_a(w)),w[e(w.length,1)],h(r(v.safe,o(a(_t,"SafeMode"),"SECURE")))&&(h(k["$key?"]("max-attribute-value-size"))||(w=["max-attribute-value-size",4096],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(k["$key?"]("linkcss"))||(w=["linkcss",""],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=k["$[]"]("icons"))||(w=["icons",$],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]))),v.max_attribute_value_size=h(P=h(p=k["$[]"]("max-attribute-value-size"))?p:(w=["max-attribute-value-size",$],u(k,"[]=",t.to_a(w)),w[e(w.length,1)]))?P.$to_i().$abs():$,u(k,"delete_if",[],((m=function(r,n){m.$$s;var i,s=$;return null==r&&(r=$),null==n&&(n=$),h(n)?(h(h(i=o("::","String")["$==="](n))?n["$end_with?"]("@"):i)&&(i=[n.$chop(),!0],n=i[0],s=i[1]),w=[r,n],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]):(C.$delete(r),s=n["$=="](!1)),s}).$$s=v,m.$$arity=2,m)),h(x)?(v.backend=C["$[]"]("backend"),(v.doctype=(w=["doctype",E],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]))["$=="](a(_t,"DEFAULT_DOCTYPE"))||v.$update_doctype_attributes(a(_t,"DEFAULT_DOCTYPE")),v.reader=a(_t,"Reader").$new(i,s["$[]"]("cursor")),h(v.sourcemap)&&(v.source_location=v.reader.$cursor()),a(_t,"Parser").$parse(v.reader,v),v.$restore_attributes(),v.parsed=!0):(v.backend=$,(h(p=C["$[]"]("backend"))?p:(w=["backend",a(_t,"DEFAULT_BACKEND")],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]))["$=="]("manpage")?v.doctype=(w=["doctype",(w=["doctype","manpage"],u(k,"[]=",t.to_a(w)),w[e(w.length,1)])],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]):v.doctype=h(p=C["$[]"]("doctype"))?p:(w=["doctype",a(_t,"DEFAULT_DOCTYPE")],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),v.$update_backend_attributes(C["$[]"]("backend"),!0),L=h(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?o("::","Time").$at(v.$Integer(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():o("::","Time").$now(),h(D=C["$[]"]("localdate"))?F=h(p=C["$[]"]("localyear"))?p:(w=["localyear",D.$index("-")["$=="](4)?D.$slice(0,4):$],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]):(w=["localdate",L.$strftime("%F")],u(C,"[]=",t.to_a(w)),D=w[e(w.length,1)],F=h(p=C["$[]"]("localyear"))?p:(w=["localyear",L.$year().$to_s()],u(C,"[]=",t.to_a(w)),w[e(w.length,1)])),z=h(p=C["$[]"]("localtime"))?p:(w=["localtime",L.$strftime("%T "+(L.$utc_offset()["$=="](0)?"UTC":"%z"))],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("localdatetime"))||(w=["localdatetime",D+" "+z],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("docdate"))||(w=["docdate",D],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("docyear"))||(w=["docyear",F],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("doctime"))||(w=["doctime",z],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("docdatetime"))||(w=["docdatetime",D+" "+z],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("stylesdir"))||(w=["stylesdir","."],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(p=C["$[]"]("iconsdir"))||(w=["iconsdir",C.$fetch("imagesdir","./images")+"/icons"],u(C,"[]=",t.to_a(w)),w[e(w.length,1)]),h(A)&&(h(B=s["$[]"]("extension_registry"))?h(h(p=o(a(_t,"Extensions"),"Registry")["$==="](B))?p:h(g=o("::","RUBY_ENGINE_JRUBY"))?o(o(o("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](B):g)&&(v.extensions=B.$activate(v)):h(o("::","Proc")["$==="](q=s["$[]"]("extensions")))?v.extensions=u(a(_t,"Extensions"),"create",[],q.$to_proc()).$activate(v):h(a(_t,"Extensions").$groups()["$empty?"]()["$!"]())&&(v.extensions=o(a(_t,"Extensions"),"Registry").$new().$activate(v))),v.reader=a(_t,"PreprocessorReader").$new(v,i,o(a(_t,"Reader"),"Cursor").$new(C["$[]"]("docfile"),v.base_dir),_(["normalize"],{normalize:!0})),h(v.sourcemap)?v.source_location=v.reader.$cursor():$)},y.$$arity=-1),t.def(ut,"$parse",g=function(t){var e,r,n,i=this,s=$,l=$;return null==t&&(t=$),h(i.parsed)?i:(s=i,h(t)&&(i.reader=a(_t,"PreprocessorReader").$new(s,t,o(a(_t,"Reader"),"Cursor").$new(i.attributes["$[]"]("docfile"),i.base_dir),_(["normalize"],{normalize:!0})),h(i.sourcemap)&&(i.source_location=i.reader.$cursor())),h(h(e=l=h(i.parent_document)?$:i.extensions)?l["$preprocessors?"]():e)&&u(l.$preprocessors(),"each",[],((r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=$),null==t&&(t=$),n.reader=h(e=t.$process_method()["$[]"](s,n.reader))?e:n.reader}).$$s=i,r.$$arity=1,r)),a(_t,"Parser").$parse(i.reader,s,_(["header_only"],{header_only:i.options["$[]"]("parse_header_only")})),i.$restore_attributes(),h(h(e=l)?l["$tree_processors?"]():e)&&u(l.$tree_processors(),"each",[],((n=function(t){n.$$s;var e,r,i=$;return null==t&&(t=$),h(h(e=h(r=i=t.$process_method()["$[]"](s))?a(_t,"Document")["$==="](i):r)?i["$!="](s):e)?s=i:$}).$$s=i,n.$$arity=1,n)),i.parsed=!0,s)},g.$$arity=-1),t.def(ut,"$counter",b=function(r,n){var i,s=$,o=$,a=$;return null==n&&(n=$),h(this.parent_document)?this.parent_document.$counter(r,n):h(h(i=s=(o=this.attributes["$[]"](r))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](r):i)?(a=[r,(a=[r,this.$nextval(o)],u(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],u(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):h(n)?(a=[r,(a=[r,n["$=="](n.$to_i().$to_s())?n.$to_i():n],u(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],u(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):(a=[r,(a=[r,this.$nextval(h(s)?o:0)],u(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],u(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)])},b.$$arity=-2),t.def(ut,"$increment_and_store_counter",v=function(t,e){return a(_t,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},v.$$arity=2),t.alias(ut,"counter_increment","increment_and_store_counter"),t.def(ut,"$nextval",x=function(t){var e=$;return h(o("::","Integer")["$==="](t))?n(t,1):(e=t.$to_i(),h(e.$to_s()["$!="](t.$to_s()))?n(t["$[]"](0).$ord(),1).$chr():n(e,1))},x.$$arity=1),t.def(ut,"$register",w=function(r,i){var s,o,l=this,c=$,_=$,d=$,f=$,p=$,m=$,y=$;return"ids"["$==="](c=r)?(o=i,s=t.to_ary(o),_=null==s[0]?$:s[0],d=null==s[1]?$:s[1],f=l.catalog["$[]"]("ids"),h(s=f["$[]"](_))?s:(p=[_,h(o=d)?o:n(n("[",_),"]")],u(f,"[]=",t.to_a(p)),p[e(p.length,1)])):"refs"["$==="](c)?(o=i,s=t.to_ary(o),_=null==s[0]?$:s[0],m=null==s[1]?$:s[1],d=null==s[2]?$:s[2],h((y=l.catalog["$[]"]("refs"))["$key?"](_))?$:(p=[_,h(s=d)?s:n(n("[",_),"]")],u(l.catalog["$[]"]("ids"),"[]=",t.to_a(p)),p[e(p.length,1)],p=[_,m],u(y,"[]=",t.to_a(p)),p[e(p.length,1)])):"footnotes"["$==="](c)||"indexterms"["$==="](c)?l.catalog["$[]"](r)["$<<"](i):h(l.options["$[]"]("catalog_assets"))?l.catalog["$[]"](r)["$<<"](r["$=="]("images")?a(_t,"ImageReference").$new(i["$[]"](0),i["$[]"](1)):i):$},w.$$arity=2),t.def(ut,"$footnotes?",k=function(){return!h(this.catalog["$[]"]("footnotes")["$empty?"]())},k.$$arity=0),t.def(ut,"$footnotes",E=function(){return this.catalog["$[]"]("footnotes")},E.$$arity=0),t.def(ut,"$callouts",A=function(){return this.catalog["$[]"]("callouts")},A.$$arity=0),t.def(ut,"$nested?",O=function(){return!!h(this.parent_document)},O.$$arity=0),t.def(ut,"$embedded?",S=function(){return this.attributes["$key?"]("embedded")},S.$$arity=0),t.def(ut,"$extensions?",R=function(){return!!h(this.extensions)},R.$$arity=0),t.def(ut,"$source",C=function(){return h(this.reader)?this.reader.$source():$},C.$$arity=0),t.def(ut,"$source_lines",T=function(){return h(this.reader)?this.reader.$source_lines():$},T.$$arity=0),t.def(ut,"$basebackend?",M=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},M.$$arity=1),t.def(ut,"$title",I=function(){return this.$doctitle()},I.$$arity=0),t.def(ut,"$title=",N=function(r){var n=$,i=$;return h(n=this.header)||(i=["header"],u(n=this.header=a(_t,"Section").$new(this,0),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[r],u(n,"title=",t.to_a(i)),i[e(i.length,1)]},N.$$arity=1),t.def(ut,"$doctitle",P=function(t){var e,r=this,n=$,i=$,s=$;if(null==t&&(t=_([],{})),h(n=r.attributes["$[]"]("title")));else if(h(i=r.$first_section()))n=i.$title();else if(h((h(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e)["$!"]()))return $;return h(s=t["$[]"]("partition"))?a(_t,"Title").$new(n,t.$merge(_(["separator"],{separator:s["$=="](!0)?r.attributes["$[]"]("title-separator"):s}))):h(h(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(a(_t,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},P.$$arity=-1),t.alias(ut,"name","doctitle"),t.def(ut,"$author",L=function(){return this.attributes["$[]"]("author")},L.$$arity=0),t.def(ut,"$authors",D=function(){var t,e,r,s=$,o=$,l=$,c=$;if(h((s=this.attributes)["$key?"]("author"))){if(o=[a(_t,"Author").$new(s["$[]"]("author"),s["$[]"]("firstname"),s["$[]"]("middlename"),s["$[]"]("lastname"),s["$[]"]("authorinitials"),s["$[]"]("email"))],h((e=l=h(t=s["$[]"]("authorcount"))?t:0,r=1,"number"==typeof e&&"number"==typeof r?e>r:e["$>"](r))))for(c=1;h(i(c,l));)c=n(c,1),o["$<<"](a(_t,"Author").$new(s["$[]"]("author_"+c),s["$[]"]("firstname_"+c),s["$[]"]("middlename_"+c),s["$[]"]("lastname_"+c),s["$[]"]("authorinitials_"+c),s["$[]"]("email_"+c)));return o}return[]},D.$$arity=0),t.def(ut,"$revdate",F=function(){return this.attributes["$[]"]("revdate")},F.$$arity=0),t.def(ut,"$notitle",z=function(){var t;return h(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},z.$$arity=0),t.def(ut,"$noheader",B=function(){return this.attributes["$key?"]("noheader")},B.$$arity=0),t.def(ut,"$nofooter",q=function(){return this.attributes["$key?"]("nofooter")},q.$$arity=0),t.def(ut,"$first_section",j=function(){var t,e;return h(t=this.header)?t:u(this.blocks,"find",[],((e=function(t){return e.$$s,null==t&&(t=$),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},j.$$arity=0),t.def(ut,"$has_header?",U=function(){return!!h(this.header)},U.$$arity=0),t.alias(ut,"header?","has_header?"),t.def(ut,"$<<",H=function(e){var r=H.$$p,n=$,i=$,s=$;for(r&&(H.$$p=null),i=0,s=arguments.length,n=new Array(s);i<s;i++)n[i]=arguments[i];return e.$context()["$=="]("section")&&this.$assign_numeral(e),u(this,t.find_super_dispatcher(this,"<<",H,!1),n,r)},H.$$arity=1),t.def(ut,"$finalize_header",Y=function(r,n){var i=$;return null==n&&(n=!0),this.$clear_playback_attributes(r),this.$save_attributes(),h(n)||(i=["invalid-header",!0],u(r,"[]=",t.to_a(i)),i[e(i.length,1)]),r},Y.$$arity=-2),t.def(ut,"$save_attributes",G=function(){var r,n,i,s=$,o=$,l=$,c=$,_=$,d=$,f=$,p=$,m=$,y=$;return(s=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(h(h(r=this["$attribute_locked?"]("toc"))?r:this.attributes_modified["$include?"]("toc"))||(o=["toc",""],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]),h(h(r=this["$attribute_locked?"]("sectnums"))?r:this.attributes_modified["$include?"]("sectnums"))||(o=["sectnums",""],u(s,"[]=",t.to_a(o)),o[e(o.length,1)])),h(h(r=s["$key?"]("doctitle"))?r:(l=this.$doctitle())["$!"]())||(o=["doctitle",l],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]),h(this.id)||(this.id=s["$[]"]("css-signature")),c=h(_=h(s.$delete("toc2"))?"left":s["$[]"]("toc"))?h(h(r=d=s.$fetch("toc-placement","macro"))?d["$!="]("auto"):r)?d:s["$[]"]("toc-position"):$,h(h(r=_)?h(n=_["$empty?"]()["$!"]())?n:c["$nil_or_empty?"]()["$!"]():r)&&(f="left",p="toc2",m=h(c["$nil_or_empty?"]()["$!"]())?c:h(_["$empty?"]()["$!"]())?_:f,o=["toc",""],u(s,"[]=",t.to_a(o)),o[e(o.length,1)],o=["toc-placement","auto"],u(s,"[]=",t.to_a(o)),o[e(o.length,1)],"left"["$==="](y=m)||"<"["$==="](y)||"&lt;"["$==="](y)?(o=["toc-position","left"],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]):"right"["$==="](y)||">"["$==="](y)||"&gt;"["$==="](y)?(o=["toc-position","right"],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]):"top"["$==="](y)||"^"["$==="](y)?(o=["toc-position","top"],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]):"bottom"["$==="](y)||"v"["$==="](y)?(o=["toc-position","bottom"],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]):"preamble"["$==="](y)||"macro"["$==="](y)?(o=["toc-position","content"],u(s,"[]=",t.to_a(o)),o[e(o.length,1)],o=["toc-placement",m],u(s,"[]=",t.to_a(o)),o[e(o.length,1)],p=$):(s.$delete("toc-position"),p=$),h(p)&&(h(r=s["$[]"]("toc-class"))||(o=["toc-class",p],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]))),h(this.compat_mode=s["$key?"]("compat-mode"))&&h(s["$key?"]("language"))&&(o=["source-language",s["$[]"]("language")],u(s,"[]=",t.to_a(o)),o[e(o.length,1)]),this.outfilesuffix=s["$[]"]("outfilesuffix"),this.header_attributes=s.$dup(),h(this.parent_document)?$:u(a(_t,"FLEXIBLE_ATTRIBUTES"),"each",[],((i=function(t){var e,r=i.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=$),null==t&&(t=$),h(h(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):$}).$$s=this,i.$$arity=1,i))},G.$$arity=0),t.def(ut,"$restore_attributes",W=function(){return h(this.parent_document)||this.catalog["$[]"]("callouts").$rewind(),this.attributes.$replace(this.header_attributes)},W.$$arity=0),t.def(ut,"$clear_playback_attributes",V=function(t){return t.$delete("attribute_entries")},V.$$arity=1),t.def(ut,"$playback_attributes",K=function(r){var n;return h(r["$key?"]("attribute_entries"))?u(r["$[]"]("attribute_entries"),"each",[],((n=function(r){var i=n.$$s||this,s=$,o=$;return null==i.attributes&&(i.attributes=$),null==r&&(r=$),s=r.$name(),h(r.$negate())?(i.attributes.$delete(s),s["$=="]("compat-mode")?i.compat_mode=!1:$):(o=[s,r.$value()],u(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],s["$=="]("compat-mode")?i.compat_mode=!0:$)}).$$s=this,n.$$arity=1,n)):$},K.$$arity=1),t.def(ut,"$set_attribute",X=function(r,n){var i=$,s=$,o=$;return null==n&&(n=""),!h(this["$attribute_locked?"](r))&&(i=h(this.max_attribute_value_size)?this.$apply_attribute_value_subs(n).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(n),"backend"["$==="](s=r)?this.$update_backend_attributes(i,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](s)?this.$update_doctype_attributes(i):(o=[r,i],u(this.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]),this.attributes_modified["$<<"](r),i)},X.$$arity=-2),t.def(ut,"$delete_attribute",J=function(t){return!h(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},J.$$arity=1),t.def(ut,"$attribute_locked?",Z=function(t){return this.attribute_overrides["$key?"](t)},Z.$$arity=1),t.def(ut,"$set_header_attribute",Q=function(r,n,i){var s,o=$,a=$;return null==n&&(n=""),null==i&&(i=!0),o=h(s=this.header_attributes)?s:this.attributes,!h((s=i["$=="](!1))?o["$key?"](r):i["$=="](!1))&&(a=[r,n],u(o,"[]=",t.to_a(a)),a[e(a.length,1)],!0)},Q.$$arity=-2),t.def(ut,"$apply_attribute_value_subs",tt=function(t){var e;return h(a(_t,"AttributeEntryPassMacroRx")["$=~"](t))?h((e=d["~"])===$?$:e["$[]"](1))?this.$apply_subs((e=d["~"])===$?$:e["$[]"](2),this.$resolve_pass_subs((e=d["~"])===$?$:e["$[]"](1))):(e=d["~"])===$?$:e["$[]"](2):this.$apply_header_subs(t)},tt.$$arity=1),t.def(ut,"$update_backend_attributes",et=function(r,n){var i,s,l=$,c=$,_=$,d=$,f=$,p=$,m=$,y=$,g=$,b=$,v=$;return null==n&&(n=$),h(h(i=n)?i:h(s=r)?r["$!="](this.backend):s)?(i=[this.backend,(l=this.attributes)["$[]"]("basebackend"),this.doctype],c=i[0],_=i[1],d=i[2],h(r["$start_with?"]("xhtml"))?(f=["htmlsyntax","xml"],u(l,"[]=",t.to_a(f)),f[e(f.length,1)],r=r.$slice(1,r.$length())):h(r["$start_with?"]("html"))&&(l["$[]"]("htmlsyntax")["$=="]("xml")||(f=["htmlsyntax","html"],u(l,"[]=",t.to_a(f)),f[e(f.length,1)])),h(p=a(_t,"BACKEND_ALIASES")["$[]"](r))&&(r=p),h(d)?(h(c)&&(l.$delete("backend-"+c),l.$delete("backend-"+c+"-doctype-"+d)),f=["backend-"+r+"-doctype-"+d,""],u(l,"[]=",t.to_a(f)),f[e(f.length,1)],f=["doctype-"+d,""],u(l,"[]=",t.to_a(f)),f[e(f.length,1)]):h(c)&&l.$delete("backend-"+c),f=["backend-"+r,""],u(l,"[]=",t.to_a(f)),f[e(f.length,1)],this.backend=(f=["backend",r],u(l,"[]=",t.to_a(f)),f[e(f.length,1)]),h(o(a(_t,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(m=this.converter.$basebackend(),h(this["$attribute_locked?"]("outfilesuffix"))||(f=["outfilesuffix",this.converter.$outfilesuffix()],u(l,"[]=",t.to_a(f)),f[e(f.length,1)]),y=this.converter.$filetype()):h(this.converter)?(m=r.$sub(a(_t,"TrailingDigitsRx"),""),h(g=a(_t,"DEFAULT_EXTENSIONS")["$[]"](m))?y=g.$slice(1,g.$length()):(g=(i=[".html","html","html"])[0],m=i[1],y=i[2]),h(this["$attribute_locked?"]("outfilesuffix"))||(f=["outfilesuffix",g],u(l,"[]=",t.to_a(f)),f[e(f.length,1)])):this.$raise(o("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+r+"'. Processing aborted."),h(b=l["$[]"]("filetype"))&&l.$delete("filetype-"+b),f=["filetype",y],u(l,"[]=",t.to_a(f)),f[e(f.length,1)],f=["filetype-"+y,""],u(l,"[]=",t.to_a(f)),f[e(f.length,1)],h(v=a(_t,"DEFAULT_PAGE_WIDTHS")["$[]"](m))?(f=["pagewidth",v],u(l,"[]=",t.to_a(f)),f[e(f.length,1)]):l.$delete("pagewidth"),h(m["$!="](_))&&(h(d)?(h(_)&&(l.$delete("basebackend-"+_),l.$delete("basebackend-"+_+"-doctype-"+d)),f=["basebackend-"+m+"-doctype-"+d,""],u(l,"[]=",t.to_a(f)),f[e(f.length,1)]):h(_)&&l.$delete("basebackend-"+_),f=["basebackend-"+m,""],u(l,"[]=",t.to_a(f)),f[e(f.length,1)],f=["basebackend",m],u(l,"[]=",t.to_a(f)),f[e(f.length,1)]),r):$},et.$$arity=-2),t.def(ut,"$update_doctype_attributes",rt=function(r){var n,i=$,s=$,o=$,a=$,l=$;return h(h(n=r)?r["$!="](this.doctype):n)?(n=[this.backend,(i=this.attributes)["$[]"]("basebackend"),this.doctype],s=n[0],o=n[1],a=n[2],h(a)?(i.$delete("doctype-"+a),h(s)&&(i.$delete("backend-"+s+"-doctype-"+a),l=["backend-"+s+"-doctype-"+r,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)]),h(o)&&(i.$delete("basebackend-"+o+"-doctype-"+a),l=["basebackend-"+o+"-doctype-"+r,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)])):(h(s)&&(l=["backend-"+s+"-doctype-"+r,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)]),h(o)&&(l=["basebackend-"+o+"-doctype-"+r,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)])),l=["doctype-"+r,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)],this.doctype=(l=["doctype",r],u(i,"[]=",t.to_a(l)),l[e(l.length,1)])):$},rt.$$arity=1),t.def(ut,"$create_converter",nt=function(){var r=$,n=$,i=$,s=$,l=$;return r=_([],{}),n=["htmlsyntax",this.attributes["$[]"]("htmlsyntax")],u(r,"[]=",t.to_a(n)),n[e(n.length,1)],h(i=this.options["$[]"]("template_dir"))?s=[i]:h(s=this.options["$[]"]("template_dirs"))&&(s=this.$Array(s)),h(s)&&(n=["template_dirs",s],u(r,"[]=",t.to_a(n)),n[e(n.length,1)],n=["template_cache",this.options.$fetch("template_cache",!0)],u(r,"[]=",t.to_a(n)),n[e(n.length,1)],n=["template_engine",this.options["$[]"]("template_engine")],u(r,"[]=",t.to_a(n)),n[e(n.length,1)],n=["template_engine_options",this.options["$[]"]("template_engine_options")],u(r,"[]=",t.to_a(n)),n[e(n.length,1)],n=["eruby",this.options["$[]"]("eruby")],u(r,"[]=",t.to_a(n)),n[e(n.length,1)],n=["safe",this.safe],u(r,"[]=",t.to_a(n)),n[e(n.length,1)]),(h(l=this.options["$[]"]("converter"))?o(a(_t,"Converter"),"Factory").$new(o("::","Hash")["$[]"](this.$backend(),l)):o(a(_t,"Converter"),"Factory").$default(!1)).$create(this.$backend(),r)},nt.$$arity=0),t.def(ut,"$convert",it=function(n){var i,s,l=this,c=$,d=$,f=$,p=$,m=$;return null==n&&(n=_([],{})),h(l.timings)&&l.timings.$start("convert"),h(l.parsed)||l.$parse(),h(h(i=r(l.safe,o(a(_t,"SafeMode"),"SERVER")))?i:n["$empty?"]())||(h((c=["outfile",n["$[]"]("outfile")],u(l.attributes,"[]=",t.to_a(c)),c[e(c.length,1)]))||l.attributes.$delete("outfile"),h((c=["outdir",n["$[]"]("outdir")],u(l.attributes,"[]=",t.to_a(c)),c[e(c.length,1)]))||l.attributes.$delete("outdir")),l.$doctype()["$=="]("inline")?h(d=h(i=l.blocks["$[]"](0))?i:l.header)&&(h(h(i=d.$content_model()["$=="]("compound"))?i:d.$content_model()["$=="]("empty"))?l.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):f=d.$content()):(p=h(h(n["$key?"]("header_footer"))?n["$[]"]("header_footer"):l.options["$[]"]("header_footer"))?"document":"embedded",f=l.converter.$convert(l,p)),h(l.parent_document)||h(h(i=m=l.extensions)?m["$postprocessors?"]():i)&&u(m.$postprocessors(),"each",[],((s=function(t){var e=s.$$s||this;return null==t&&(t=$),f=t.$process_method()["$[]"](e,f)}).$$s=l,s.$$arity=1,s)),h(l.timings)&&l.timings.$record("convert"),f},it.$$arity=-1),t.alias(ut,"render","convert"),t.def(ut,"$write",st=function(t,e){var r;return h(this.timings)&&this.timings.$start("write"),h(a(_t,"Writer")["$==="](this.converter))?this.converter.$write(t,e):(h(e["$respond_to?"]("write"))?h(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(a(_t,"LF"))):h(a(_t,"COERCE_ENCODING"))?o("::","IO").$write(e,t,_(["encoding"],{encoding:o(o("::","Encoding"),"UTF_8")})):o("::","IO").$write(e,t),h(h(r=this.backend["$=="]("manpage")?o("::","String")["$==="](e):this.backend["$=="]("manpage"))?this.converter["$respond_to?"]("write_alternate_pages"):r)&&this.converter.$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),e)),h(this.timings)&&this.timings.$record("write"),$},st.$$arity=2),t.def(ut,"$content",$t=function(){var e=$t.$$p,r=$,n=$,i=$;for(e&&($t.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return this.attributes.$delete("title"),u(this,t.find_super_dispatcher(this,"content",$t,!1),r,e)},$t.$$arity=0),t.def(ut,"$docinfo",ot=function(t,e){var i,s,l,c=$,d=$,f=$,p=$,m=$,y=$,g=$,b=$,v=$;return null==t&&(t="head"),null==e&&(e=$),h(r(this.$safe(),o(a(_t,"SafeMode"),"SECURE")))?"":(c=[],t["$=="]("head")||(d="-"+t),h(e)||(e=this.outfilesuffix),f=h((f=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?h(this.attributes["$key?"]("docinfo2"))?["private","shared"]:h(this.attributes["$key?"]("docinfo1"))?["shared"]:h(f)?["private"]:$:u(f.$split(","),"map",[],((i=function(t){return i.$$s,null==t&&(t=$),t.$strip()}).$$s=this,i.$$arity=1,i)),h(f)&&(s=["docinfo"+d+e,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()],p=s[0],m=s[1],y=s[2],h(f["$&"](["shared","shared-"+t])["$empty?"]())||(g=this.$normalize_system_path(p,m),h(b=this.$read_asset(g,_(["normalize"],{normalize:!0})))&&c["$<<"](this.$apply_subs(b,y))),h(h(s=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?s:f["$&"](["private","private-"+t])["$empty?"]())||(g=this.$normalize_system_path(this.attributes["$[]"]("docname")+"-"+p,m),h(v=this.$read_asset(g,_(["normalize"],{normalize:!0})))&&c["$<<"](this.$apply_subs(v,y)))),h(h(s=this.extensions)?this["$docinfo_processors?"](t):s)&&(c=n(c,u(this.docinfo_processor_extensions["$[]"](t),"map",[],(l=function(t){var e=l.$$s||this;return null==t&&(t=$),t.$process_method()["$[]"](e)},l.$$s=this,l.$$arity=1,l)).$compact())),c.$join(a(_t,"LF")))},ot.$$arity=-1),t.def(ut,"$resolve_docinfo_subs",at=function(){return h(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",$,"docinfo"):["attributes"]},at.$$arity=0),t.def(ut,"$docinfo_processors?",lt=function(r){var n,i=$;return null==r&&(r="head"),h(this.docinfo_processor_extensions["$key?"](r))?this.docinfo_processor_extensions["$[]"](r)["$!="](!1):h(h(n=this.extensions)?this.document.$extensions()["$docinfo_processors?"](r):n)?(i=[r,this.document.$extensions().$docinfo_processors(r)],u(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[r,!1],u(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},lt.$$arity=-1),t.def(ut,"$to_s",ct=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(h(t.header["$!="]($))?t.header.$title():$).$inspect()+", blocks: "+t.blocks.$size()+"}>"},ct.$$arity=0)}(y[0],a(y,"AbstractBlock"),y)}(s[0],s)},i.modules["asciidoctor/inline"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.klass,$=t.hash2,o=t.send,a=t.truthy;return t.add_stubs(["$attr_reader","$attr_accessor","$[]","$dup","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(e,l){function c(){}var u=c=i(e,"Asciidoctor",c),h=(u.prototype,[u].concat(l));!function(e,n,i){function l(){}var c,u,h,_,d,f,p,m,y=l=s(e,n,"Inline",l),g=y.prototype;[y].concat(i),g.text=g.type=r,y.$attr_reader("text"),y.$attr_reader("type"),y.$attr_accessor("target"),t.def(y,"$initialize",c=function(e,n,i,s){var l=c.$$p,u=r;return l&&(c.$$p=null),null==i&&(i=r),null==s&&(s=$([],{})),o(this,t.find_super_dispatcher(this,"initialize",c,!1),[e,n],null),this.node_name="inline_"+n,this.text=i,this.id=s["$[]"]("id"),this.type=s["$[]"]("type"),this.target=s["$[]"]("target"),a(u=s["$[]"]("attributes"))?this.attributes=u.$dup():r},c.$$arity=-3),t.def(y,"$block?",u=function(){return!1},u.$$arity=0),t.def(y,"$inline?",h=function(){return!0},h.$$arity=0),t.def(y,"$convert",_=function(){return this.$converter().$convert(this)},_.$$arity=0),t.alias(y,"render","convert"),t.def(y,"$alt",d=function(){return this.$attr("alt")},d.$$arity=0),t.def(y,"$reftext?",f=function(){var t,e;return a(t=this.text)?a(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},f.$$arity=0),t.def(y,"$reftext",p=function(){var t=r;return a(t=this.text)?this.$apply_reftext_subs(t):r},p.$$arity=0),t.def(y,"$xreftext",m=function(t){return null==t&&(t=r),this.$reftext()},m.$$arity=-1)}(h[0],n(h,"AbstractNode"),h)}(e[0],e)},i.modules["asciidoctor/list"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.klass,$=t.hash2,o=t.send,a=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(e,l){function c(){}var u=c=i(e,"Asciidoctor",c),h=(u.prototype,[u].concat(l));!function(e,n,i){function l(){}var c,u,h,_,d=l=s(e,n,"List",l),f=d.prototype;[d].concat(i),f.context=f.document=f.style=r,t.alias(d,"items","blocks"),t.alias(d,"content","blocks"),t.alias(d,"items?","blocks?"),t.def(d,"$initialize",c=function(e,n,i){var s=c.$$p,a=r,l=r,u=r;for(s&&(c.$$p=null),l=0,u=arguments.length,a=new Array(u);l<u;l++)a[l]=arguments[l];return null==i&&(i=$([],{})),o(this,t.find_super_dispatcher(this,"initialize",c,!1),a,s)},c.$$arity=-3),t.def(d,"$outline?",u=function(){var t;return a(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},u.$$arity=0),t.def(d,"$convert",h=function(){var e=h.$$p,n=r,i=r,s=r,$=r;for(e&&(h.$$p=null),s=0,$=arguments.length,i=new Array($);s<$;s++)i[s]=arguments[s];return this.context["$=="]("colist")?(n=o(this,t.find_super_dispatcher(this,"convert",h,!1),i,e),this.document.$callouts().$next_list(),n):o(this,t.find_super_dispatcher(this,"convert",h,!1),i,e)},h.$$arity=0),t.alias(d,"render","convert"),t.def(d,"$to_s",_=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},_.$$arity=0)}(h[0],n(h,"AbstractBlock"),h),function(e,i,$){function l(){}var c,u,h,_,d,f,p,m,y=l=s(e,i,"ListItem",l),g=y.prototype,b=[y].concat($);g.text=g.subs=g.blocks=r,t.alias(y,"list","parent"),y.$attr_accessor("marker"),t.def(y,"$initialize",c=function(e,i){var s=c.$$p;return s&&(c.$$p=null),null==i&&(i=r),o(this,t.find_super_dispatcher(this,"initialize",c,!1),[e,"list_item"],null),this.text=i,this.level=e.$level(),this.subs=n(b,"NORMAL_SUBS").$drop(0)},c.$$arity=-2),t.def(y,"$text?",u=function(){return this.text["$nil_or_empty?"]()["$!"]()},u.$$arity=0),t.def(y,"$text",h=function(){var t;return a(t=this.text)?this.$apply_subs(this.text,this.subs):t},h.$$arity=0),t.def(y,"$text=",_=function(t){return this.text=t},_.$$arity=1),t.def(y,"$simple?",d=function(){var t,e,i=r;return a(t=this.blocks["$empty?"]())?t:a(e=this.blocks.$size()["$=="](1)?n(b,"List")["$==="](i=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?i["$outline?"]():e},d.$$arity=0),t.def(y,"$compound?",f=function(){return this["$simple?"]()["$!"]()},f.$$arity=0),t.def(y,"$fold_first",p=function(t,e){var i,s,$,o,l,c=r,u=r;return null==t&&(t=!1),null==e&&(e=!1),a(a(i=a(s=c=this.blocks["$[]"](0))?n(b,"Block")["$==="](c):s)?a(s=($=c.$context()["$=="]("paragraph"))?t["$!"]():c.$context()["$=="]("paragraph"))?s:a($=a(o=a(l=e)?l:t["$!"]())?c.$context()["$=="]("literal"):o)?c["$option?"]("listparagraph"):$:i)&&(u=this.$blocks().$shift(),a(this.text["$nil_or_empty?"]())||u.$lines().$unshift(this.text),this.text=u.$source()),r},p.$$arity=-1),t.def(y,"$to_s",m=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(a(t=this.blocks)?t:[]).$size()+"}>"},m.$$arity=0)}(h[0],n(h,"AbstractBlock"),h)}(e[0],e)},i.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var $=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,h=t.send,_=t.truthy,d=t.hash2,f=t.gvars;return t.add_stubs(["$include","$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$source_location=","$header","$attribute_locked?","$[]=","$id","$parse_header_metadata","$register","$==","$doctype","$parse_manpage_header","$=~","$downcase","$include?","$sub_attributes","$error","$logger","$message_with_context","$cursor_at_line","$backend","$skip_blank_lines","$save","$update","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$to_proc","$title","$split","$lstrip","$restore_save","$discard_save","$context","$empty?","$has_header?","$delete","$!","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$>","$<","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$*","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$clear","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$match","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$concat","$each","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$<=","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$pre_match","$advance","$callout_ids","$next_list","$catalog_inline_anchor","$source_location","$marker=","$catalog_inline_biblio_anchor","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$find","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$update_attributes","$peek_lines","$setext_section_title?","$abs","$line_length","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$compact","$Array","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin"]),function($,p){function m(){}var y=m=c($,"Asciidoctor",m),g=(y.prototype,[y].concat(p));!function($,c,p){function m(){}var y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut=m=u($,null,"Parser",m),ht=(ut.prototype,[ut].concat(p));ut.$include(l(ht,"Logging")),t.const_set(ht[0],"BlockMatchData",l(ht,"Struct").$new("context","masq","tip","terminator")),t.const_set(ht[0],"TabRx",/\t/),t.const_set(ht[0],"TabIndentRx",/^\t+/),t.const_set(ht[0],"StartOfBlockProc",h(ut,"lambda",[],((y=function(t){var e,r,n=y.$$s||this;return null==t&&(t=o),_(e=_(r=t["$start_with?"]("["))?l(ht,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)}).$$s=ut,y.$$arity=1,y))),t.const_set(ht[0],"StartOfListProc",h(ut,"lambda",[],((g=function(t){return g.$$s,null==t&&(t=o),l(ht,"AnyListRx")["$match?"](t)}).$$s=ut,g.$$arity=1,g))),t.const_set(ht[0],"StartOfBlockOrListProc",h(ut,"lambda",[],((b=function(t){var e,r,n,i=b.$$s||this;return null==t&&(t=o),_(e=_(r=i["$is_delimited_block?"](t))?r:_(n=t["$start_with?"]("["))?l(ht,"BlockAttributeLineRx")["$match?"](t):n)?e:l(ht,"AnyListRx")["$match?"](t)}).$$s=ut,b.$$arity=1,b))),t.const_set(ht[0],"NoOp",o),t.const_set(ht[0],"TableCellHorzAlignments",d(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(ht[0],"TableCellVertAlignments",d(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(ht[0],"TableCellStyles",d(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.def(ut,"$initialize",v=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},v.$$arity=0),t.defs(ut,"$parse",x=function(e,r,n){var i,s,$=o,a=o;if(null==n&&(n=d([],{})),$=this.$parse_document_header(e,r),_(n["$[]"]("header_only")));else for(;_(e["$has_more_lines?"]());)s=this.$next_section(e,r,$),i=t.to_ary(s),a=null==i[0]?o:i[0],$=null==i[1]?o:i[1],_(a)&&(r.$assign_numeral(a),r.$blocks()["$<<"](a));return r},x.$$arity=-3),t.defs(ut,"$parse_document_header",w=function(r,n){var i,s,$=o,a=o,l=o,c=o,u=o,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o;return $=this.$parse_block_metadata_lines(r,n),a=n.$attributes(),_(_(i=l=this["$is_next_line_doctitle?"](r,$,a["$[]"]("leveloffset")))?$["$[]"]("title"):i)?n.$finalize_header($,!1):(c=o,_((u=a["$[]"]("doctitle"))["$nil_or_empty?"]())||(f=[c=u],h(n,"title=",t.to_a(f)),f[e(f.length,1)]),_(l)&&(_(n.$sourcemap())&&(p=r.$cursor()),s=this.$parse_section_title(r,n),i=t.to_ary(s),n["$id="](null==i[0]?o:i[0]),null==i[1]||i[1],m=null==i[2]?o:i[2],null==i[3]||i[3],y=null==i[4]?o:i[4],_(c)||(f=[c=m],h(n,"title=",t.to_a(f)),f[e(f.length,1)]),_(p)&&(f=[p],h(n.$header(),"source_location=",t.to_a(f)),f[e(f.length,1)]),_(_(i=y)?i:n["$attribute_locked?"]("compat-mode"))||(f=["compat-mode",""],h(a,"[]=",t.to_a(f)),f[e(f.length,1)]),_(g=$["$[]"]("separator"))&&(_(n["$attribute_locked?"]("title-separator"))||(f=["title-separator",g],h(a,"[]=",t.to_a(f)),f[e(f.length,1)])),f=["doctitle",b=m],h(a,"[]=",t.to_a(f)),f[e(f.length,1)],_(v=$["$[]"]("id"))?(f=[v],h(n,"id=",t.to_a(f)),f[e(f.length,1)]):v=n.$id(),_(x=$["$[]"]("role"))&&(f=["docrole",x],h(a,"[]=",t.to_a(f)),f[e(f.length,1)]),_(w=$["$[]"]("reftext"))&&(f=["reftext",w],h(a,"[]=",t.to_a(f)),f[e(f.length,1)]),$=d([],{}),this.$parse_header_metadata(r,n),_(v)&&n.$register("refs",[v,n])),_(_(i=(u=a["$[]"]("doctitle"))["$nil_or_empty?"]())?i:u["$=="](b))||(f=[c=u],h(n,"title=",t.to_a(f)),f[e(f.length,1)]),_(c)&&(f=["doctitle",c],h(a,"[]=",t.to_a(f)),f[e(f.length,1)]),n.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(r,n,$),n.$finalize_header($))},w.$$arity=2),t.defs(ut,"$parse_manpage_header",k=function(r,n,i){var s,$,a,c=o,u=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o;return _(l(ht,"ManpageTitleVolnumRx")["$=~"]((c=n.$attributes())["$[]"]("doctitle")))?(u=["manvolnum",p=(s=f["~"])===o?o:s["$[]"](2)],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["mantitle",(_((m=(s=f["~"])===o?o:s["$[]"](1))["$include?"](l(ht,"ATTR_REF_HEAD")))?n.$sub_attributes(m):m).$downcase()],h(c,"[]=",t.to_a(u)),u[e(u.length,1)]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",d(["source_location"],{source_location:r.$cursor_at_line(1)}))),u=["mantitle",_(s=_($=c["$[]"]("doctitle"))?$:c["$[]"]("docname"))?s:"command"],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["manvolnum",p="1"],h(c,"[]=",t.to_a(u)),u[e(u.length,1)]),_(_(s=y=c["$[]"]("manname"))?c["$[]"]("manpurpose"):s)?(_(s=c["$[]"]("manname-title"))||(u=["manname-title","Name"],h(c,"[]=",t.to_a(u)),u[e(u.length,1)]),u=["mannames",[y]],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],n.$backend()["$=="]("manpage")&&(u=["docname",y],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["outfilesuffix","."+p],h(c,"[]=",t.to_a(u)),u[e(u.length,1)])):(r.$skip_blank_lines(),r.$save(),i.$update(this.$parse_block_metadata_lines(r,n)),_(g=this["$is_next_line_section?"](r,d([],{})))?g["$=="](1)?(b=this.$initialize_section(r,n,d([],{})),v=h(r.$read_lines_until(d(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],"lstrip".$to_proc()).$join(" "),_(l(ht,"ManpageNamePurposeRx")["$=~"](v))?(_(s=c["$[]"]("manname-title"))||(u=["manname-title",b.$title()],h(c,"[]=",t.to_a(u)),u[e(u.length,1)]),_(b.$id())&&(u=["manname-id",b.$id()],h(c,"[]=",t.to_a(u)),u[e(u.length,1)]),u=["manpurpose",(s=f["~"])===o?o:s["$[]"](2)],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],_((y=(s=f["~"])===o?o:s["$[]"](1))["$include?"](l(ht,"ATTR_REF_HEAD")))&&(y=n.$sub_attributes(y)),_(y["$include?"](","))?y=(x=h(y.$split(","),"map",[],(a=function(t){return a.$$s,null==t&&(t=o),t.$lstrip()},a.$$s=this,a.$$arity=1,a)))["$[]"](0):x=[y],u=["manname",y],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["mannames",x],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],n.$backend()["$=="]("manpage")&&(u=["docname",y],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["outfilesuffix","."+p],h(c,"[]=",t.to_a(u)),u[e(u.length,1)])):w="non-conforming name section body"):w="name section must be at level 1":w="name section expected",_(w)?(r.$restore_save(),this.$logger().$error(this.$message_with_context(w,d(["source_location"],{source_location:r.$cursor()}))),u=["manname",y=_(s=c["$[]"]("docname"))?s:"command"],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["mannames",[y]],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],n.$backend()["$=="]("manpage")&&(u=["docname",y],h(c,"[]=",t.to_a(u)),u[e(u.length,1)],u=["outfilesuffix","."+p],h(c,"[]=",t.to_a(u)),u[e(u.length,1)])):r.$discard_save()),o},k.$$arity=3),t.defs(ut,"$next_section",E=function(s,$,a){var c,u,f,p,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o,I=o,N=o,P=o,L=o;for(null==a&&(a=d([],{})),m=y=g=!1,_(_(c=(u=$.$context()["$=="]("document"))?$.$blocks()["$empty?"]():$.$context()["$=="]("document"))?_(u=_(f=b=$["$has_header?"]())?f:a.$delete("invalid-header"))?u:this["$is_next_line_section?"](s,a)["$!"]():c)?(v=(x=$).$doctype()["$=="]("book"),_(_(c=b)?c:_(u=v)?a["$[]"](1)["$!="]("abstract"):u)&&(m=y=l(ht,"Block").$new($,"preamble",d(["content_model"],{content_model:"compound"})),_(_(c=v)?$["$attr?"]("preface-title"):c)&&(w=[$.$attr("preface-title")],h(m,"title=",t.to_a(w)),w[e(w.length,1)]),$.$blocks()["$<<"](m)),k=$,E=0,_($.$attributes()["$key?"]("fragment"))?A=-1:_(v)?(A=(c=[1,0])[0],O=c[1]):A=1):(v=(x=$.$document()).$doctype()["$=="]("book"),k=this.$initialize_section(s,$,a),a=_(S=a["$[]"]("title"))?d(["title"],{title:S}):d([],{}),A=r(E=k.$level(),1),E["$=="](0)?g=v:_((c=E["$=="](1))?k.$special():E["$=="](1))&&(_(_(c=_(u=(R=k.$sectname())["$=="]("appendix"))?u:R["$=="]("preface"))?c:R["$=="]("abstract"))||(A=o))),s.$skip_blank_lines();_(s["$has_more_lines?"]());){if(this.$parse_block_metadata_lines(s,x,a),_(C=this["$is_next_line_section?"](s,a)))if(_(x["$attr?"]("leveloffset"))&&(C=r(C,x.$attr("leveloffset").$to_i())),_(n(C,E)))_(A)?_(_(u=_(f=C["$=="](A))?f:_(p=O)?C["$=="](O):p)?u:i(A,0))||(T=_(O)?"expected levels "+O+" or "+A:"expected level "+A,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+T+", got level "+C,d(["source_location"],{source_location:s.$cursor()})))):this.$logger().$error(this.$message_with_context(R+" sections do not support nested sections",d(["source_location"],{source_location:s.$cursor()}))),f=this.$next_section(s,k,a),u=t.to_ary(f),M=null==u[0]?o:u[0],a=null==u[1]?o:u[1],k.$assign_numeral(M),k.$blocks()["$<<"](M);else{if(!_((u=C["$=="](0))?k["$=="](x):C["$=="](0)))break;_(v)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",d(["source_location"],{source_location:s.$cursor()}))),f=this.$next_section(s,k,a),u=t.to_ary(f),M=null==u[0]?o:u[0],a=null==u[1]?o:u[1],k.$assign_numeral(M),k.$blocks()["$<<"](M)}else I=s.$cursor(),_(N=this.$next_block(s,_(u=y)?u:k,a,d(["parse_metadata"],{parse_metadata:!1})))&&(_(g)&&(_(k["$blocks?"]()["$!"]())?_(N.$style()["$!="]("partintro"))&&(N.$context()["$=="]("paragraph")?(w=["open"],h(N,"context=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(N,"style=",t.to_a(w)),w[e(w.length,1)]):(w=[y=l(ht,"Block").$new(k,"open",d(["content_model"],{content_model:"compound"}))],h(N,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(y,"style=",t.to_a(w)),w[e(w.length,1)],k.$blocks()["$<<"](y))):k.$blocks().$size()["$=="](1)&&(P=k.$blocks()["$[]"](0),_(_(u=y["$!"]())?P.$content_model()["$=="]("compound"):u)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",d(["source_location"],{source_location:I}))):_(P.$content_model()["$!="]("compound"))&&(w=[y=l(ht,"Block").$new(k,"open",d(["content_model"],{content_model:"compound"}))],h(N,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(y,"style=",t.to_a(w)),w[e(w.length,1)],k.$blocks().$shift(),P.$style()["$=="]("partintro")&&(w=["paragraph"],h(P,"context=",t.to_a(w)),w[e(w.length,1)],w=[o],h(P,"style=",t.to_a(w)),w[e(w.length,1)]),y["$<<"](P),k.$blocks()["$<<"](y)))),(_(u=y)?u:k).$blocks()["$<<"](N),a=d([],{}));if(!_(u=s.$skip_blank_lines()))break}if(_(g))_(_(c=k["$blocks?"]())?k.$blocks()["$[]"](-1).$context()["$=="]("section"):c)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",d(["source_location"],{source_location:s.$cursor()})));else if(_(m))if(_(m["$blocks?"]()))if(_(_(c=_(u=v)?u:x.$blocks()["$[]"](1))?c:l(ht,"Compliance").$unwrap_standalone_preamble()["$!"]()));else for(x.$blocks().$shift();_(L=m.$blocks().$shift());)x["$<<"](L);else x.$blocks().$shift();return[_(k["$!="]($))?k:o,a.$dup()]},E.$$arity=-3),t.defs(ut,"$next_block",A=function(r,$,a,c){try{var u,p,m,y,g,b,v,x=this,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o,I=o,N=o,P=o,L=o,D=o,F=o,z=o,B=o,q=o,j=o,U=o,H=o,Y=o,G=o,W=o,V=o,K=o,X=o,J=o,Z=o,Q=o,tt=o,et=o,rt=o,nt=o,it=o,st=o,$t=o,ot=o,at=o,lt=o,ct=o,ut=o,_t=o,dt=o,ft=o,pt=o;if(null==f["~"]&&(f["~"]=o),null==a&&(a=d([],{})),null==c&&(c=d([],{})),!_(w=r.$skip_blank_lines()))return o;if(_(_(u=k=c["$[]"]("text"))?n(w,0):u)&&(c.$delete("text"),k=!1),E=$.$document(),_(c.$fetch("parse_metadata",!0)))for(;_(x.$parse_block_metadata_line(r,E,a,c));)r.$shift(),_(p=r.$skip_blank_lines())||t.ret(o);if(_(A=E.$extensions())&&(u=[A["$blocks?"](),A["$block_macros?"]()],O=u[0],S=u[1]),r.$mark(),u=[r.$read_line(),E.$attributes(),a["$[]"](1)],R=u[0],C=u[1],T=u[2],M=I=N=P=o,_(L=x["$is_delimited_block?"](R,!0))&&(I=N=L.$context(),P=L.$terminator(),_(T["$!"]())?(D=["style",I.$to_s()],h(a,"[]=",t.to_a(D)),T=D[e(D.length,1)]):_(T["$!="](I.$to_s()))&&(_(L.$masq()["$include?"](T))?I=T.$to_sym():_(_(u=L.$masq()["$include?"]("admonition"))?l(ht,"ADMONITION_STYLES")["$include?"](T):u)?I="admonition":_(_(u=O)?A["$registered_for_block?"](T,I):u)?I=T.$to_sym():(x.$logger().$warn(x.$message_with_context("invalid style for "+I+" block: "+T,d(["source_location"],{source_location:r.$cursor_at_mark()}))),T=I.$to_s()))),_(L));else for(;_(!0);){if(_(_(p=_(m=T)?l(ht,"Compliance").$strict_verbatim_paragraphs():m)?l(ht,"VERBATIM_STYLES")["$include?"](T):p)){I=T.$to_sym(),r.$unshift_line(R);break}if(_(k))F=R["$start_with?"](" ",l(ht,"TAB"));else if(z=l(ht,"Compliance").$markdown_syntax(),_(R["$start_with?"](" "))){if(F=(p=[!0," "])[0],B=p[1],_(_(p=_(m=z)?h(R.$lstrip(),"start_with?",t.to_a(l(ht,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):m)?l(ht,"MarkdownThematicBreakRx")["$match?"](R):p)){M=l(ht,"Block").$new($,"thematic_break",d(["content_model"],{content_model:"empty"}));break}}else if(_(R["$start_with?"](l(ht,"TAB"))))p=[!0,l(ht,"TAB")],F=p[0],B=p[1];else{if(p=[!1,R.$chr()],F=p[0],B=p[1],q=_(z)?l(ht,"HYBRID_LAYOUT_BREAK_CHARS"):l(ht,"LAYOUT_BREAK_CHARS"),_(_(p=q["$key?"](B))?_(z)?l(ht,"ExtLayoutBreakRx")["$match?"](R):(m=R["$=="](s(B,j=R.$length())))?n(j,2):R["$=="](s(B,j=R.$length())):p)){M=l(ht,"Block").$new($,q["$[]"](B),d(["content_model"],{content_model:"empty"}));break}if(_(_(p=R["$end_with?"]("]"))?R["$include?"]("::"):p)){if(_(_(p=_(m=B["$=="]("i"))?m:R["$start_with?"]("video:","audio:"))?l(ht,"BlockMediaMacroRx")["$=~"](R):p)){if(p=[((m=f["~"])===o?o:m["$[]"](1)).$to_sym(),(m=f["~"])===o?o:m["$[]"](2),(m=f["~"])===o?o:m["$[]"](3)],U=p[0],H=p[1],Y=p[2],M=l(ht,"Block").$new($,U,d(["content_model"],{content_model:"empty"})),_(Y)&&(W="video"["$==="](G=U)?["poster","width","height"]:"audio"["$==="](G)?[]:["alt","width","height"],M.$parse_attributes(Y,W,d(["sub_input","into"],{sub_input:!0,into:a}))),_(a["$key?"]("style"))&&a.$delete("style"),_(_(p=H["$include?"](l(ht,"ATTR_REF_HEAD")))?(H=M.$sub_attributes(H,d(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():p))return(_(p=C["$[]"]("attribute-missing"))?p:l(ht,"Compliance").$attribute_missing())["$=="]("skip")?l(ht,"Block").$new($,"paragraph",d(["content_model","source"],{content_model:"simple",source:[R]})):(a.$clear(),o);U["$=="]("image")&&(E.$register("images",[H,(D=["imagesdir",C["$[]"]("imagesdir")],h(a,"[]=",t.to_a(D)),D[e(D.length,1)])]),_(p=a["$[]"]("alt"))||(D=["alt",_(m=T)?m:(D=["default-alt",l(ht,"Helpers").$basename(H,!0).$tr("_-"," ")],h(a,"[]=",t.to_a(D)),D[e(D.length,1)])],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_((V=a.$delete("scaledwidth"))["$nil_or_empty?"]())||(D=["scaledwidth",_(l(ht,"TrailingDigitsRx")["$match?"](V))?V+"%":V],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(a["$key?"]("title"))&&(D=[a.$delete("title")],h(M,"title=",t.to_a(D)),D[e(D.length,1)],M.$assign_caption(a.$delete("caption"),"figure"))),D=["target",H],h(a,"[]=",t.to_a(D)),D[e(D.length,1)];break}if(_(_(p=(m=B["$=="]("t"))?R["$start_with?"]("toc:"):B["$=="]("t"))?l(ht,"BlockTocMacroRx")["$=~"](R):p)){M=l(ht,"Block").$new($,"toc",d(["content_model"],{content_model:"empty"})),_((p=f["~"])===o?o:p["$[]"](1))&&M.$parse_attributes((p=f["~"])===o?o:p["$[]"](1),[],d(["into"],{into:a}));break}if(_(_(p=_(m=S)?l(ht,"CustomBlockMacroRx")["$=~"](R):m)?K=A["$registered_for_block_macro?"]((m=f["~"])===o?o:m["$[]"](1)):p)){if(p=[(m=f["~"])===o?o:m["$[]"](2),(m=f["~"])===o?o:m["$[]"](3)],H=p[0],X=p[1],_(_(p=_(m=H["$include?"](l(ht,"ATTR_REF_HEAD")))?(H=$.$sub_attributes(H))["$empty?"]():m)?(_(m=C["$[]"]("attribute-missing"))?m:l(ht,"Compliance").$attribute_missing())["$=="]("drop-line"):p))return a.$clear(),o;if(K.$config()["$[]"]("content_model")["$=="]("attributes")?_(X)&&E.$parse_attributes(X,_(p=K.$config()["$[]"]("pos_attrs"))?p:[],d(["sub_input","into"],{sub_input:!0,into:a})):(D=["text",_(p=X)?p:""],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(J=K.$config()["$[]"]("default_attrs"))&&h(a,"update",[J],((y=function(t,e){return y.$$s,null==t&&(t=o),null==e&&(e=o),e}).$$s=x,y.$$arity=2,y)),_(M=K.$process_method()["$[]"]($,H,a))){a.$replace(M.$attributes());break}return a.$clear(),o}}}if(_(_(p=_(m=F["$!"]())?(B=_(g=B)?g:R.$chr())["$=="]("<"):m)?l(ht,"CalloutListRx")["$=~"](R):p)){r.$unshift_line(R),M=x.$parse_callout_list(r,f["~"],$,E.$callouts()),D=["style","arabic"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)];break}if(_(l(ht,"UnorderedListRx")["$match?"](R))){r.$unshift_line(R),_(_(p=_(m=T["$!"]())?l(ht,"Section")["$==="]($):m)?$.$sectname()["$=="]("bibliography"):p)&&(D=["style",T="bibliography"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),M=x.$parse_list(r,"ulist",$,T);break}if(_(Z=l(ht,"OrderedListRx").$match(R))){r.$unshift_line(R),M=x.$parse_list(r,"olist",$,T),_(M.$style())&&(D=["style",M.$style()],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]);break}if(_(Z=l(ht,"DescriptionListRx").$match(R))){r.$unshift_line(R),M=x.$parse_description_list(r,Z,$);break}if(_(_(p=_(m=T["$=="]("float"))?m:T["$=="]("discrete"))?_(l(ht,"Compliance").$underline_style_section_titles())?x["$is_section_title?"](R,r.$peek_line()):_(m=F["$!"]())?x["$atx_section_title?"](R):m:p)){r.$unshift_line(R),m=x.$parse_section_title(r,E,a["$[]"]("id")),p=t.to_ary(m),Q=null==p[0]?o:p[0],tt=null==p[1]?o:p[1],et=null==p[2]?o:p[2],rt=null==p[3]?o:p[3],_(tt)&&(D=["reftext",tt],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),M=l(ht,"Block").$new($,"floating_title",d(["content_model"],{content_model:"empty"})),D=[et],h(M,"title=",t.to_a(D)),D[e(D.length,1)],a.$delete("title"),D=[_(p=Q)?p:_(C["$key?"]("sectids"))?l(ht,"Section").$generate_id(M.$title(),E):o],h(M,"id=",t.to_a(D)),D[e(D.length,1)],D=[rt],h(M,"level=",t.to_a(D)),D[e(D.length,1)];break}if(_(_(p=T)?T["$!="]("normal"):p)){if(_(l(ht,"PARAGRAPH_STYLES")["$include?"](T))){I=T.$to_sym(),N="paragraph",r.$unshift_line(R);break}if(_(l(ht,"ADMONITION_STYLES")["$include?"](T))){I="admonition",N="paragraph",r.$unshift_line(R);break}if(_(_(p=O)?A["$registered_for_block?"](T,"paragraph"):p)){I=T.$to_sym(),N="paragraph",r.$unshift_line(R);break}x.$logger().$warn(x.$message_with_context("invalid style for paragraph: "+T,d(["source_location"],{source_location:r.$cursor_at_mark()}))),T=o}if(r.$unshift_line(R),_(_(p=F)?T["$!"]():p))nt=x.$read_paragraph_lines(r,_(p=it=l(ht,"ListItem")["$==="]($))?w["$=="](0):p,d(["skip_line_comments"],{skip_line_comments:k})),x["$adjust_indentation!"](nt),M=l(ht,"Block").$new($,"literal",d(["content_model","source","attributes"],{content_model:"verbatim",source:nt,attributes:a})),_(it)&&M.$set_option("listparagraph");else{if(nt=x.$read_paragraph_lines(r,(p=w["$=="](0))?l(ht,"ListItem")["$==="]($):w["$=="](0),d(["skip_line_comments"],{skip_line_comments:!0})),_(k))_(_(p=F)?T["$=="]("normal"):p)&&x["$adjust_indentation!"](nt),M=l(ht,"Block").$new($,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:a}));else if(_(_(p=_(m=l(ht,"ADMONITION_STYLE_HEADS")["$include?"](B))?R["$include?"](":"):m)?l(ht,"AdmonitionParagraphRx")["$=~"](R):p))D=[0,(p=f["~"])===o?o:p.$post_match()],h(nt,"[]=",t.to_a(D)),D[e(D.length,1)],D=["name",st=(D=["style",(p=f["~"])===o?o:p["$[]"](1)],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]).$downcase()],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],D=["textlabel",_(p=a.$delete("caption"))?p:C["$[]"](st+"-caption")],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],M=l(ht,"Block").$new($,"admonition",d(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:a}));else if(_(_(p=_(m=z)?B["$=="](">"):m)?R["$start_with?"]("> "):p)){if(h(nt,"map!",[],((b=function(t){return b.$$s,null==t&&(t=o),t["$=="](">")?t.$slice(1,t.$length()):_(t["$start_with?"]("> "))?t.$slice(2,t.$length()):t}).$$s=x,b.$$arity=1,b)),_(nt["$[]"](-1)["$start_with?"]("-- ")))for($t=($t=nt.$pop()).$slice(3,$t.$length());_(nt["$[]"](-1)["$empty?"]());)nt.$pop();D=["style","quote"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],M=x.$build_block("quote","compound",!1,$,l(ht,"Reader").$new(nt),a),_($t)&&(m=M.$apply_subs($t).$split(", ",2),p=t.to_ary(m),ot=null==p[0]?o:p[0],at=null==p[1]?o:p[1],_(ot)&&(D=["attribution",ot],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(at)&&(D=["citetitle",at],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]))}else if(_(_(p=_(m=(g=B["$=="]('"'))?n(nt.$size(),1):B["$=="]('"'))?nt["$[]"](-1)["$start_with?"]("-- "):m)?nt["$[]"](-2)["$end_with?"]('"'):p)){for(D=[0,R.$slice(1,R.$length())],h(nt,"[]=",t.to_a(D)),D[e(D.length,1)],$t=($t=nt.$pop()).$slice(3,$t.$length());_(nt["$[]"](-1)["$empty?"]());)nt.$pop();nt["$<<"](nt.$pop().$chop()),D=["style","quote"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],M=l(ht,"Block").$new($,"quote",d(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:a})),m=M.$apply_subs($t).$split(", ",2),p=t.to_ary(m),ot=null==p[0]?o:p[0],at=null==p[1]?o:p[1],_(ot)&&(D=["attribution",ot],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(at)&&(D=["citetitle",at],h(a,"[]=",t.to_a(D)),D[e(D.length,1)])}else _(_(p=F)?T["$=="]("normal"):p)&&x["$adjust_indentation!"](nt),M=l(ht,"Block").$new($,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:a}));x.$catalog_inline_anchors(nt.$join(l(ht,"LF")),M,E,r)}break}if(_(M));else if(_(_(u=I["$=="]("abstract"))?u:I["$=="]("partintro"))&&(I="open"),"admonition"["$==="](G=I))D=["name",st=T.$downcase()],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],D=["textlabel",_(u=a.$delete("caption"))?u:C["$[]"](st+"-caption")],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],M=x.$build_block(I,"compound",P,$,r,a);else{if("comment"["$==="](G))return x.$build_block(I,"skip",P,$,r,a),a.$clear(),o;if("example"["$==="](G))M=x.$build_block(I,"compound",P,$,r,a);else if("listing"["$==="](G)||"literal"["$==="](G))M=x.$build_block(I,"verbatim",P,$,r,a);else if("source"["$==="](G))l(ht,"AttributeList").$rekey(a,[o,"language","linenums"]),_(a["$key?"]("language"))||_(C["$key?"]("source-language"))&&(D=["language",_(u=C["$[]"]("source-language"))?u:"text"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(a["$key?"]("linenums"))||_(_(u=a["$key?"]("linenums-option"))?u:C["$key?"]("source-linenums-option"))&&(D=["linenums",""],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(a["$key?"]("indent"))||_(C["$key?"]("source-indent"))&&(D=["indent",C["$[]"]("source-indent")],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),M=x.$build_block("listing","verbatim",P,$,r,a);else if("fenced_code"["$==="](G))D=["style","source"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)],(j=R.$length())["$=="](3)?lt=o:_(ct=(lt=R.$slice(3,j)).$index(","))?_(n(ct,0))?(lt=lt.$slice(0,ct).$strip(),_(i(ct,e(j,4)))&&(D=["linenums",""],h(a,"[]=",t.to_a(D)),D[e(D.length,1)])):(lt=o,_(n(j,4))&&(D=["linenums",""],h(a,"[]=",t.to_a(D)),D[e(D.length,1)])):lt=lt.$lstrip(),_(lt["$nil_or_empty?"]())?_(C["$key?"]("source-language"))&&(D=["language",_(u=C["$[]"]("source-language"))?u:"text"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]):(D=["language",lt],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(a["$key?"]("linenums"))||_(_(u=a["$key?"]("linenums-option"))?u:C["$key?"]("source-linenums-option"))&&(D=["linenums",""],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),_(a["$key?"]("indent"))||_(C["$key?"]("source-indent"))&&(D=["indent",C["$[]"]("source-indent")],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),P=P.$slice(0,3),M=x.$build_block("listing","verbatim",P,$,r,a);else if("pass"["$==="](G))M=x.$build_block(I,"raw",P,$,r,a);else if("stem"["$==="](G)||"latexmath"["$==="](G)||"asciimath"["$==="](G))I["$=="]("stem")&&(D=["style",l(ht,"STEM_TYPE_ALIASES")["$[]"](_(u=a["$[]"](2))?u:C["$[]"]("stem"))],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),M=x.$build_block("stem","raw",P,$,r,a);else if("open"["$==="](G)||"sidebar"["$==="](G))M=x.$build_block(I,"compound",P,$,r,a);else if("table"["$==="](G))ut=r.$cursor(),_t=l(ht,"Reader").$new(r.$read_lines_until(d(["terminator","skip_line_comments","context","cursor"],{terminator:P,skip_line_comments:!0,context:"table",cursor:"at_mark"})),ut),_(P["$start_with?"]("|","!"))||_(u=a["$[]"]("format"))||(D=["format",_(P["$start_with?"](","))?"csv":"dsv"],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),M=x.$parse_table(_t,$,a);else if("quote"["$==="](G)||"verse"["$==="](G))l(ht,"AttributeList").$rekey(a,[o,"attribution","citetitle"]),M=x.$build_block(I,I["$=="]("verse")?"verbatim":"compound",P,$,r,a);else if(_(_(u=O)?K=A["$registered_for_block?"](I,N):u)){if(_((dt=K.$config()["$[]"]("content_model"))["$!="]("skip"))&&(_((ft=_(u=K.$config()["$[]"]("pos_attrs"))?u:[])["$empty?"]()["$!"]())&&l(ht,"AttributeList").$rekey(a,[o].$concat(ft)),_(J=K.$config()["$[]"]("default_attrs"))&&h(J,"each",[],((v=function(r,n){var i;return v.$$s,null==r&&(r=o),null==n&&(n=o),_(i=a["$[]"](r))?i:(D=[r,n],h(a,"[]=",t.to_a(D)),D[e(D.length,1)])}).$$s=x,v.$$arity=2,v)),D=["cloaked-context",N],h(a,"[]=",t.to_a(D)),D[e(D.length,1)]),M=x.$build_block(I,dt,P,$,r,a,d(["extension"],{extension:K})),!_(M))return a.$clear(),o}else x.$raise("Unsupported block type "+I+" at "+r.$cursor())}return _(E.$sourcemap())&&(D=[r.$cursor_at_mark()],h(M,"source_location=",t.to_a(D)),D[e(D.length,1)]),_(a["$key?"]("title"))&&(D=[a.$delete("title")],h(M,"title=",t.to_a(D)),D[e(D.length,1)]),D=[a["$[]"]("style")],h(M,"style=",t.to_a(D)),D[e(D.length,1)],_(pt=_(u=M.$id())?u:(D=[a["$[]"]("id")],h(M,"id=",t.to_a(D)),D[e(D.length,1)]))&&(_(E.$register("refs",[pt,M,_(u=a["$[]"]("reftext"))?u:_(M["$title?"]())?M.$title():o]))||x.$logger().$warn(x.$message_with_context("id assigned to block already in use: "+pt,d(["source_location"],{source_location:r.$cursor_at_mark()})))),_(a["$empty?"]())||M.$attributes().$update(a),M.$lock_in_subs(),_(M["$sub?"]("callouts"))&&(_(x.$catalog_callouts(M.$source(),E))||M.$remove_sub("callouts")),M}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-3),t.defs(ut,"$read_paragraph_lines",O=function(r,n,i){var s=o,$=o;return null==i&&(i=d([],{})),s=["break_on_blank_lines",!0],h(i,"[]=",t.to_a(s)),s[e(s.length,1)],s=["break_on_list_continuation",!0],h(i,"[]=",t.to_a(s)),s[e(s.length,1)],s=["preserve_last_line",!0],h(i,"[]=",t.to_a(s)),s[e(s.length,1)],$=_(n)?_(l(ht,"Compliance").$block_terminates_paragraph())?l(ht,"StartOfBlockOrListProc"):l(ht,"StartOfListProc"):_(l(ht,"Compliance").$block_terminates_paragraph())?l(ht,"StartOfBlockProc"):l(ht,"NoOp"),h(r,"read_lines_until",[i],$.$to_proc())},O.$$arity=-3),t.defs(ut,"$is_delimited_block?",S=function(r,$){var a,c,u,h,d=o,f=o,p=o,m=o,y=o,g=o,b=o;if(null==$&&($=!1),!_(_(a=n(d=r.$length(),1))?l(ht,"DELIMITED_BLOCK_HEADS")["$include?"](r.$slice(0,2)):a))return o;if(d["$=="](2))f=r,p=2;else{if(_((h=4,"number"==typeof(u=d)&&"number"==typeof h?u<=h:u["$<="](h)))?(f=r,p=d):(f=r.$slice(0,4),p=4),m=!1,_(l(ht,"Compliance").$markdown_syntax())&&(y=p["$=="](4)?f.$chop():f)["$=="]("```")){if(_((a=p["$=="](4))?f["$end_with?"]("`"):p["$=="](4)))return o;f=y,p=3,m=!0}if(_((a=p["$=="](3))?m["$!"]():p["$=="](3)))return o}return _(l(ht,"DELIMITED_BLOCKS")["$key?"](f))?_(_(a=i(p,4))?a:p["$=="](d))?!_($)||(c=l(ht,"DELIMITED_BLOCKS")["$[]"](f),a=t.to_ary(c),g=null==a[0]?o:a[0],b=null==a[1]?o:a[1],l(ht,"BlockMatchData").$new(g,b,f,f)):(""+f+s(f.$slice(-1,1),e(d,p)))["$=="](r)?!_($)||(c=l(ht,"DELIMITED_BLOCKS")["$[]"](f),a=t.to_ary(c),g=null==a[0]?o:a[0],b=null==a[1]?o:a[1],l(ht,"BlockMatchData").$new(g,b,f,r)):o:o},S.$$arity=-2),t.defs(ut,"$build_block",R=function(r,i,s,$,a,c,u){var f,p,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o;if(null==u&&(u=d([],{})),i["$=="]("skip")?(m=(f=[!0,"simple"])[0],y=f[1]):i["$=="]("raw")?(m=(f=[!1,"simple"])[0],y=f[1]):(m=(f=[!1,i])[0],y=f[1]),_(s["$nil?"]())?(y["$=="]("verbatim")?g=a.$read_lines_until(d(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(i["$=="]("compound")&&(i="simple"),g=this.$read_paragraph_lines(a,!1,d(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:m}))),b=o):_(y["$!="]("compound"))?(g=a.$read_lines_until(d(["terminator","skip_processing","context","cursor"],{terminator:s,skip_processing:m,context:r,cursor:"at_mark"})),b=o):s["$=="](!1)?(g=o,b=a):(g=o,v=a.$cursor(),b=l(ht,"Reader").$new(a.$read_lines_until(d(["terminator","skip_processing","context","cursor"],{terminator:s,skip_processing:m,context:r,cursor:"at_mark"})),v)),i["$=="]("verbatim"))_(x=c["$[]"]("indent"))?this["$adjust_indentation!"](g,x,_(f=c["$[]"]("tabsize"))?f:$.$document().$attributes()["$[]"]("tabsize")):_(n(w=(_(f=c["$[]"]("tabsize"))?f:$.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&this["$adjust_indentation!"](g,o,w);else if(i["$=="]("skip"))return o;if(_(k=u["$[]"]("extension"))){if(c.$delete("style"),!_(E=k.$process_method()["$[]"]($,_(f=b)?f:l(ht,"Reader").$new(g),c.$dup())))return o;c.$replace(E.$attributes()),_((f=E.$content_model()["$=="]("compound"))?(g=E.$lines())["$nil_or_empty?"]()["$!"]():E.$content_model()["$=="]("compound"))&&(i="compound",b=l(ht,"Reader").$new(g))}else E=l(ht,"Block").$new($,r,d(["content_model","source","attributes"],{content_model:i,source:g,attributes:c}));return _(_(f=_(p=c["$key?"]("title"))?E.$context()["$!="]("admonition"):p)?$.$document().$attributes()["$key?"](E.$context()+"-caption"):f)&&(A=[c.$delete("title")],h(E,"title=",t.to_a(A)),A[e(A.length,1)],E.$assign_caption(c.$delete("caption"))),i["$=="]("compound")&&this.$parse_blocks(b,E),E},R.$$arity=-7),t.defs(ut,"$parse_blocks",C=function(t,e){for(var r,n,i=o;_(_(r=_(n=i=this.$next_block(t,e))?e.$blocks()["$<<"](i):n)?r:t["$has_more_lines?"]()););},C.$$arity=2),t.defs(ut,"$parse_list",T=function(t,e,r,n){var i,s,$=o,a=o,c=o;for(null==f["~"]&&(f["~"]=o),$=l(ht,"List").$new(r,e);_(_(i=t["$has_more_lines?"]())?(a=_(s=a)?s:l(ht,"ListRxMap")["$[]"](e))["$=~"](t.$peek_line()):i)&&(_(c=this.$parse_list_item(t,$,f["~"],(i=f["~"])===o?o:i["$[]"](1),n))&&$.$items()["$<<"](c),_(i=t.$skip_blank_lines())););return $},T.$$arity=4),t.defs(ut,"$catalog_callouts",M=function(t,e){var n,i=o,s=o;return i=!1,s=0,_(t["$include?"]("<"))&&h(t,"scan",[l(ht,"CalloutScanRx")],((n=function(){n.$$s;var t,$,a=o;return t=[($=f["~"])===o?o:$["$[]"](0),($=f["~"])===o?o:$["$[]"](2)],a=t[1],_(t[0]["$start_with?"]("\\"))||e.$callouts().$register(a["$=="](".")?(s=r(s,1)).$to_s():a),i=!0}).$$s=this,n.$$arity=0,n)),i},M.$$arity=2),t.defs(ut,"$catalog_inline_anchor",I=function(t,e,r,n,i){var s;return null==i&&(i=o),i=_(s=i)?s:r.$document(),_(_(s=e)?e["$include?"](l(ht,"ATTR_REF_HEAD")):s)&&(e=i.$sub_attributes(e)),_(i.$register("refs",[t,l(ht,"Inline").$new(r,"anchor",e,d(["type","id"],{type:"ref",id:t})),e]))||(_(l(ht,"Reader")["$==="](n))&&(n=n.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+t,d(["source_location"],{source_location:n})))),o},I.$$arity=-5),t.defs(ut,"$catalog_inline_anchors",N=function(t,e,i,s){var $,a;return _(_($=t["$include?"]("[["))?$:t["$include?"]("or:"))&&h(t,"scan",[l(ht,"InlineAnchorScanRx")],((a=function(){var t,$=a.$$s||this,c=o,u=o,h=o,p=o,m=o;if(null==f["~"]&&(f["~"]=o),c=f["~"],_(u=(t=f["~"])===o?o:t["$[]"](1))){if(_(h=(t=f["~"])===o?o:t["$[]"](2))&&_(_(t=h["$include?"](l(ht,"ATTR_REF_HEAD")))?(h=i.$sub_attributes(h))["$empty?"]():t))return o}else if(u=(t=f["~"])===o?o:t["$[]"](3),_(h=(t=f["~"])===o?o:t["$[]"](4))&&(_(h["$include?"]("]"))&&(h=h.$gsub("\\]","]")),_(_(t=h["$include?"](l(ht,"ATTR_REF_HEAD")))?(h=i.$sub_attributes(h))["$empty?"]():t)))return o;return _(i.$register("refs",[u,l(ht,"Inline").$new(e,"anchor",h,d(["type","id"],{type:"ref",id:u})),h]))?o:(p=s.$cursor_at_mark(),_(n(m=r(c.$pre_match().$count(l(ht,"LF")),_(c["$[]"](0)["$start_with?"](l(ht,"LF")))?1:0),0))&&(p=p.$dup()).$advance(m),$.$logger().$warn($.$message_with_context("id assigned to anchor already in use: "+u,d(["source_location"],{source_location:p}))))}).$$s=this,a.$$arity=0,a)),o},N.$$arity=4),t.defs(ut,"$catalog_inline_biblio_anchor",P=function(t,e,r,n){var i,s=o;return _(r.$document().$register("refs",[t,l(ht,"Inline").$new(r,"anchor",s="["+(_(i=e)?i:t)+"]",d(["type","id"],{type:"bibref",id:t})),s]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+t,d(["source_location"],{source_location:n.$cursor()}))),o},P.$$arity=4),t.defs(ut,"$parse_description_list",L=function(r,n,i){var s,$,a=o,c=o,u=o,d=o,f=o,p=o;for(a=l(ht,"List").$new(i,"dlist"),c=o,u=l(ht,"DescriptionListSiblingRx")["$[]"](n["$[]"](2));_(_(s=n)?s:_($=r["$has_more_lines?"]())?n=u.$match(r.$peek_line()):$);)$=this.$parse_list_item(r,a,n,u),s=t.to_ary($),d=null==s[0]?o:s[0],f=null==s[1]?o:s[1],_(_(s=c)?c["$[]"](1)["$!"]():s)?(c["$[]"](0)["$<<"](d),p=[1,f],h(c,"[]=",t.to_a(p)),p[e(p.length,1)]):a.$items()["$<<"](c=[[d],f]),n=o;return a},L.$$arity=3),t.defs(ut,"$parse_callout_list",D=function(n,i,s,$){var a,c,u=o,f=o,p=o,m=o,y=o,g=o,b=o;for(u=l(ht,"List").$new(s,"colist"),f=1,p=0;_(_(a=i)?a:_(c=i=l(ht,"CalloutListRx").$match(n.$peek_line()))?n.$mark():c);)(m=i["$[]"](1))["$=="](".")&&(m=(p=r(p,1)).$to_s()),m["$=="](f.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+f+", got "+m,d(["source_location"],{source_location:n.$cursor_at_mark()}))),_(y=this.$parse_list_item(n,u,i,"<1>"))&&(u.$items()["$<<"](y),_((g=$.$callout_ids(u.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+u.$items().$size()+">",d(["source_location"],{source_location:n.$cursor_at_mark()}))):(b=["coids",g],h(y.$attributes(),"[]=",t.to_a(b)),b[e(b.length,1)])),f=r(f,1),i=o;return $.$next_list(),u},D.$$arity=4),t.defs(ut,"$parse_list_item",F=function(r,n,i,s,$){var a,c,u=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o;if(null==$&&($=o),(u=n.$context())["$=="]("dlist")?(p=!0,m=l(ht,"ListItem").$new(n,y=i["$[]"](1)),_(_(a=y["$start_with?"]("[["))?l(ht,"LeadingInlineAnchorRx")["$=~"](y):a)&&this.$catalog_inline_anchor((a=f["~"])===o?o:a["$[]"](1),_(a=(c=f["~"])===o?o:c["$[]"](2))?a:((c=f["~"])===o?o:c.$post_match()).$lstrip(),m,r),_(g=i["$[]"](3))&&(b=!0),v=l(ht,"ListItem").$new(n,g),_(n.$document().$sourcemap())&&(x=[r.$cursor()],h(m,"source_location=",t.to_a(x)),x[e(x.length,1)],_(b)?(x=[m.$source_location()],h(v,"source_location=",t.to_a(x)),x[e(x.length,1)]):w=!0)):(b=!0,v=l(ht,"ListItem").$new(n,g=i["$[]"](2)),_(n.$document().$sourcemap())&&(x=[r.$cursor()],h(v,"source_location=",t.to_a(x)),x[e(x.length,1)]),u["$=="]("ulist")?(x=[s],h(v,"marker=",t.to_a(x)),x[e(x.length,1)],_(g["$start_with?"]("["))&&(_(_(a=$)?$["$=="]("bibliography"):a)?_(l(ht,"InlineBiblioAnchorRx")["$=~"](g))&&this.$catalog_inline_biblio_anchor((a=f["~"])===o?o:a["$[]"](1),(a=f["~"])===o?o:a["$[]"](2),v,r):_(g["$start_with?"]("[["))?_(l(ht,"LeadingInlineAnchorRx")["$=~"](g))&&this.$catalog_inline_anchor((a=f["~"])===o?o:a["$[]"](1),(a=f["~"])===o?o:a["$[]"](2),v,r):_(g["$start_with?"]("[ ] ","[x] ","[*] "))&&(x=["checklist-option",""],h(n.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)],x=["checkbox",""],h(v.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)],_(g["$start_with?"]("[ "))||(x=["checked",""],h(v.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)]),x=[g.$slice(4,g.$length())],h(v,"text=",t.to_a(x)),x[e(x.length,1)]))):u["$=="]("olist")?(c=this.$resolve_ordered_list_marker(s,k=n.$items().$size(),!0,r),a=t.to_ary(c),s=null==a[0]?o:a[0],E=null==a[1]?o:a[1],x=[s],h(v,"marker=",t.to_a(x)),x[e(x.length,1)],_((a=k["$=="](0))?$["$!"]():k["$=="](0))&&(x=[_(a=E)?a:(_(c=l(ht,"ORDERED_LIST_STYLES")["$[]"](e(s.$length(),1)))?c:"arabic").$to_s()],h(n,"style=",t.to_a(x)),x[e(x.length,1)]),_(_(a=g["$start_with?"]("[["))?l(ht,"LeadingInlineAnchorRx")["$=~"](g):a)&&this.$catalog_inline_anchor((a=f["~"])===o?o:a["$[]"](1),(a=f["~"])===o?o:a["$[]"](2),v,r)):(x=[s],h(v,"marker=",t.to_a(x)),x[e(x.length,1)])),r.$shift(),A=r.$cursor(),O=l(ht,"Reader").$new(this.$read_lines_for_list_item(r,u,s,b),A),_(O["$has_more_lines?"]())){for(_(w)&&(x=[A],h(v,"source_location=",t.to_a(x)),x[e(x.length,1)]),S=O.$skip_line_comments(),_(R=O.$peek_line())?(_(S["$empty?"]())||O.$unshift_lines(S),_(C=R["$empty?"]())?T=!1:(T=!0,_(p)||(b=o))):(C=!1,T=!1),_(M=this.$next_block(O,v,d([],{}),d(["text"],{text:b["$!"]()})))&&v.$blocks()["$<<"](M);_(O["$has_more_lines?"]());)_(M=this.$next_block(O,v))&&v.$blocks()["$<<"](M);v.$fold_first(C,T)}return _(p)?_(_(a=v["$text?"]())?a:v["$blocks?"]())?[m,v]:[m]:v},F.$$arity=-5),t.defs(ut,"$read_lines_for_list_item",z=function(r,n,i,s){var $,a,c,u,p,m,y,g,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o;for(null==i&&(i=o),null==s&&(s=!0),b=[],v="inactive",x=!1,w=o;_(r["$has_more_lines?"]())&&(k=r.$read_line(),!_(this["$is_sibling_list_item?"](k,n,i)));)if((E=_(b["$empty?"]())?o:b["$[]"](-1))["$=="](l(ht,"LIST_CONTINUATION"))&&(v["$=="]("inactive")&&(v="active",s=!0,_(x)||(A=[-1,""],h(b,"[]=",t.to_a(A)),A[e(A.length,1)])),k["$=="](l(ht,"LIST_CONTINUATION"))))_(v["$!="]("frozen"))&&(v="frozen",b["$<<"](k)),k=o;else{if(_(O=this["$is_delimited_block?"](k,!0))){if(!v["$=="]("active"))break;b["$<<"](k),b.$concat(r.$read_lines_until(d(["terminator","read_last_line","context"],{terminator:O.$terminator(),read_last_line:!0,context:o}))),v="inactive"}else{if(_(_(a=(c=n["$=="]("dlist"))?v["$!="]("active"):n["$=="]("dlist"))?l(ht,"BlockAttributeLineRx")["$match?"](k):a))break;if(_((a=v["$=="]("active"))?k["$empty?"]()["$!"]():v["$=="]("active")))_(l(ht,"LiteralParagraphRx")["$match?"](k))?(r.$unshift_line(k),b.$concat(h(r,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((u=function(t){var e=u.$$s||this;return null==t&&(t=o),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")}).$$s=this,u.$$arity=1,u))),v="inactive"):_(_(a=_(c=l(ht,"BlockTitleRx")["$match?"](k))?c:l(ht,"BlockAttributeLineRx")["$match?"](k))?a:l(ht,"AttributeEntryRx")["$match?"](k))?b["$<<"](k):(_(S=h(_(x)?["dlist"]:l(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],((p=function(t){return p.$$s,null==t&&(t=o),l(ht,"ListRxMap")["$[]"](t)["$match?"](k)}).$$s=this,p.$$arity=1,p)))&&(x=!0,_((a=S["$=="]("dlist"))?((c=f["~"])===o?o:c["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(s=!1)),b["$<<"](k),v="inactive");else if(_(_(a=E)?E["$empty?"]():a)){if(_(k["$empty?"]())){if(!_(k=_(a=r.$skip_blank_lines())?r.$read_line():a))break;if(_(this["$is_sibling_list_item?"](k,n,i)))break}if(k["$=="](l(ht,"LIST_CONTINUATION")))w=b.$size(),b["$<<"](k);else if(_(s)){if(_(this["$is_sibling_list_item?"](k,n,i)))break;if(_(S=h(l(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],((m=function(t){return m.$$s,null==t&&(t=o),l(ht,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,m.$$arity=1,m))))b["$<<"](k),x=!0,_((a=S["$=="]("dlist"))?((c=f["~"])===o?o:c["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(s=!1);else{if(!_(l(ht,"LiteralParagraphRx")["$match?"](k)))break;r.$unshift_line(k),b.$concat(h(r,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((y=function(t){var e=y.$$s||this;return null==t&&(t=o),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")}).$$s=this,y.$$arity=1,y)))}}else _(x)||b.$pop(),b["$<<"](k),s=!0}else _(k["$empty?"]()["$!"]())&&(s=!0),_(S=h(_(x)?["dlist"]:l(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],((g=function(t){return g.$$s,null==t&&(t=o),l(ht,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,g.$$arity=1,g)))&&(x=!0,_((a=S["$=="]("dlist"))?((c=f["~"])===o?o:c["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(s=!1)),b["$<<"](k)}k=o}for(_(k)&&r.$unshift_line(k),_(w)&&b.$delete_at(w);_(_(a=b["$empty?"]()["$!"]())?b["$[]"](-1)["$empty?"]():a);)b.$pop();return _(_($=b["$empty?"]()["$!"]())?b["$[]"](-1)["$=="](l(ht,"LIST_CONTINUATION")):$)&&b.$pop(),b},z.$$arity=-3),t.defs(ut,"$initialize_section",B=function(r,i,s){var $,a,c=o,u=o,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o;return null==s&&(s=d([],{})),c=i.$document(),u=(f=c.$doctype())["$=="]("book"),_(c.$sourcemap())&&(p=r.$cursor()),m=s["$[]"](1),a=this.$parse_section_title(r,c,s["$[]"]("id")),$=t.to_ary(a),y=null==$[0]?o:$[0],g=null==$[1]?o:$[1],b=null==$[2]?o:$[2],v=null==$[3]?o:$[3],x=null==$[4]?o:$[4],_(g)?(w=["reftext",g],h(s,"[]=",t.to_a(w)),w[e(w.length,1)]):g=s["$[]"]("reftext"),_(m)?_(_($=u)?m["$=="]("abstract"):$)?(k=($=["chapter",1])[0],v=$[1]):(k=($=[m,!0])[0],E=$[1],v["$=="](0)&&(v=1),A=m["$=="]("appendix")):_(u)?k=v["$=="](0)?"part":_(n(v,1))?"section":"chapter":_(($=f["$=="]("manpage"))?b.$casecmp("synopsis")["$=="](0):f["$=="]("manpage"))?(k=($=["synopsis",!0])[0],E=$[1]):k="section",O=l(ht,"Section").$new(i,v),$=[y,b,k,p],O["$id="]($[0]),O["$title="]($[1]),O["$sectname="]($[2]),O["$source_location="]($[3]),_(E)?(w=[!0],h(O,"special=",t.to_a(w)),w[e(w.length,1)],_(A)?(w=[!0],h(O,"numbered=",t.to_a(w)),w[e(w.length,1)]):c.$attributes()["$[]"]("sectnums")["$=="]("all")&&(w=[!_(_($=u)?v["$=="](1):$)||"chapter"],h(O,"numbered=",t.to_a(w)),w[e(w.length,1)])):_(_($=c.$attributes()["$[]"]("sectnums"))?n(v,0):$)?(w=[!_(O.$special())||!!_($=i.$numbered())||$],h(O,"numbered=",t.to_a(w)),w[e(w.length,1)]):_(_($=_(a=u)?v["$=="](0):a)?c.$attributes()["$[]"]("partnums"):$)&&(w=[!0],h(O,"numbered=",t.to_a(w)),w[e(w.length,1)]),_(S=_($=O.$id())?$:(w=[_(c.$attributes()["$key?"]("sectids"))?l(ht,"Section").$generate_id(O.$title(),c):o],h(O,"id=",t.to_a(w)),w[e(w.length,1)]))&&(_(c.$register("refs",[S,O,_($=g)?$:O.$title()]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+S,d(["source_location"],{source_location:r.$cursor_at_line(e(r.$lineno(),_(x)?1:2))})))),O.$update_attributes(s),r.$skip_blank_lines(),O},B.$$arity=-3),t.defs(ut,"$is_next_line_section?",q=function(t,e){var r,n,i=o,s=o;return _(_(r=i=e["$[]"](1))?_(n=i["$=="]("discrete"))?n:i["$=="]("float"):r)?o:_(l(ht,"Compliance").$underline_style_section_titles())?(s=t.$peek_lines(2,_(r=i)?i["$=="]("comment"):r),this["$is_section_title?"](_(r=s["$[]"](0))?r:"",s["$[]"](1))):this["$atx_section_title?"](_(r=t.$peek_line())?r:"")},q.$$arity=2),t.defs(ut,"$is_next_line_doctitle?",j=function(t,e,n){var i,s=o;return _(n)?_(i=s=this["$is_next_line_section?"](t,e))?r(s,n.$to_i())["$=="](0):i:this["$is_next_line_section?"](t,e)["$=="](0)},j.$$arity=3),t.defs(ut,"$is_section_title?",U=function(t,e){var r,n=this;return null==e&&(e=o),_(r=n["$atx_section_title?"](t))?r:_(e["$nil_or_empty?"]())?o:n["$setext_section_title?"](t,e)},U.$$arity=-2),t.defs(ut,"$atx_section_title?",H=function(t){var r;return _(_(l(ht,"Compliance").$markdown_syntax())?_(r=t["$start_with?"]("=","#"))?l(ht,"ExtAtxSectionTitleRx")["$=~"](t):r:_(r=t["$start_with?"]("="))?l(ht,"AtxSectionTitleRx")["$=~"](t):r)?e(((r=f["~"])===o?o:r["$[]"](1)).$length(),1):o},H.$$arity=1),t.defs(ut,"$setext_section_title?",Y=function(t,r){var n,$,a,c=o,u=o,h=o;return _(_(n=_($=_(a=c=l(ht,"SETEXT_SECTION_LEVELS")["$[]"](u=r.$chr()))?s(u,h=r.$length())["$=="](r):a)?l(ht,"SetextSectionTitleRx")["$match?"](t):$)?i(e(this.$line_length(t),h).$abs(),2):n)?c:o},Y.$$arity=2),t.defs(ut,"$parse_section_title",G=function(t,n,$){var a,c,u,h,d,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o;return null==$&&($=o),p=o,m=t.$read_line(),_(_(l(ht,"Compliance").$markdown_syntax())?_(a=m["$start_with?"]("=","#"))?l(ht,"ExtAtxSectionTitleRx")["$=~"](m):a:_(a=m["$start_with?"]("="))?l(ht,"AtxSectionTitleRx")["$=~"](m):a)?(a=[e(((c=f["~"])===o?o:c["$[]"](1)).$length(),1),(c=f["~"])===o?o:c["$[]"](2),!0],y=a[0],g=a[1],b=a[2],_($)||_(_(a=_(c=g["$end_with?"]("]]"))?l(ht,"InlineSectionAnchorRx")["$=~"](g):c)?((c=f["~"])===o?o:c["$[]"](1))["$!"]():a)&&(a=[g.$slice(0,e(g.$length(),((c=f["~"])===o?o:c["$[]"](0)).$length())),(c=f["~"])===o?o:c["$[]"](2),(c=f["~"])===o?o:c["$[]"](3)],g=a[0],$=a[1],p=a[2])):_(_(a=_(c=_(u=_(h=_(d=l(ht,"Compliance").$underline_style_section_titles())?v=t.$peek_line(!0):d)?y=l(ht,"SETEXT_SECTION_LEVELS")["$[]"](x=v.$chr()):h)?s(x,w=v.$length())["$=="](v):u)?g=_(u=l(ht,"SetextSectionTitleRx")["$=~"](m))?(h=f["~"])===o?o:h["$[]"](1):u:c)?i(e(this.$line_length(m),w).$abs(),2):a)?(b=!1,_($)||_(_(a=_(c=g["$end_with?"]("]]"))?l(ht,"InlineSectionAnchorRx")["$=~"](g):c)?((c=f["~"])===o?o:c["$[]"](1))["$!"]():a)&&(a=[g.$slice(0,e(g.$length(),((c=f["~"])===o?o:c["$[]"](0)).$length())),(c=f["~"])===o?o:c["$[]"](2),(c=f["~"])===o?o:c["$[]"](3)],g=a[0],$=a[1],p=a[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$cursor_at_prev_line()),_(n["$attr?"]("leveloffset"))&&(y=r(y,n.$attr("leveloffset").$to_i())),[$,p,g,y,b]},G.$$arity=-3),_(l(ht,"FORCE_UNICODE_LINE_LENGTH"))?t.defs(ut,"$line_length",W=function(t){return t.$scan(l(ht,"UnicodeCharScanRx")).$size()},W.$$arity=1):t.defs(ut,"$line_length",V=function(t){return t.$length()},V.$$arity=1),t.defs(ut,"$parse_header_metadata",K=function(n,i){var s,$,c,u,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o;if(null==i&&(i=o),f=_(s=i)?i.$attributes():s,this.$process_attribute_entries(n,i),s=[p=d([],{}),o,o],m=s[0],y=s[1],g=s[2],_(_(s=n["$has_more_lines?"]())?n["$next_line_empty?"]()["$!"]():s)?(_((b=this.$process_authors(n.$read_line()))["$empty?"]())||(_(i)&&(h(b,"each",[],(($=function(r,n){$.$$s;var s=o;return null==r&&(r=o),null==n&&(n=o),_(f["$key?"](r))?o:(s=[r,_(a("::","String")["$==="](n))?i.$apply_header_subs(n):n],h(f,"[]=",t.to_a(s)),s[e(s.length,1)])}).$$s=this,$.$$arity=2,$)),y=f["$[]"]("author"),g=f["$[]"]("authorinitials"),p=f["$[]"]("authors")),m=b),this.$process_attribute_entries(n,i),v=d([],{}),_(_(s=n["$has_more_lines?"]())?n["$next_line_empty?"]()["$!"]():s)&&(x=n.$read_line(),_(w=l(ht,"RevisionInfoLineRx").$match(x))?(_(w["$[]"](1))&&(k=["revnumber",w["$[]"](1).$rstrip()],h(v,"[]=",t.to_a(k)),k[e(k.length,1)]),_((E=w["$[]"](2).$strip())["$empty?"]())||(_(_(s=w["$[]"](1)["$!"]())?E["$start_with?"]("v"):s)?(k=["revnumber",E.$slice(1,E.$length())],h(v,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["revdate",E],h(v,"[]=",t.to_a(k)),k[e(k.length,1)])),_(w["$[]"](3))&&(k=["revremark",w["$[]"](3).$rstrip()],h(v,"[]=",t.to_a(k)),k[e(k.length,1)])):n.$unshift_line(x)),_(v["$empty?"]())||(_(i)&&h(v,"each",[],((c=function(r,n){return c.$$s,null==r&&(r=o),null==n&&(n=o),_(f["$key?"](r))?o:(k=[r,i.$apply_header_subs(n)],h(f,"[]=",t.to_a(k)),k[e(k.length,1)])}).$$s=this,c.$$arity=2,c)),m.$update(v)),this.$process_attribute_entries(n,i),n.$skip_blank_lines()):b=d([],{}),_(i)){if(_(_(s=f["$key?"]("author"))?(A=f["$[]"]("author"))["$!="](y):s))b=this.$process_authors(A,!0,!1),_(f["$[]"]("authorinitials")["$!="](g))&&b.$delete("authorinitials");else if(_(_(s=f["$key?"]("authors"))?(A=f["$[]"]("authors"))["$!="](p):s))b=this.$process_authors(A,!0);else{for(O=(s=[[],1,"author_1",!1,!1])[0],S=s[1],R=s[2],C=s[3],T=s[4];_(f["$key?"](R));)(M=f["$[]"](R))["$=="](b["$[]"](R))?(O["$<<"](o),T=!0):(O["$<<"](M),C=!0),R="author_"+(S=r(S,1));_(C)?(_(T)&&h(O,"each_with_index",[],((u=function(n,i){var s,$=u.$$s||this,a=o;return null==n&&(n=o),null==i&&(i=o),_(n)?o:(k=[i,h([b["$[]"]("firstname_"+(a=r(i,1))),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a)].$compact(),"map",[],(s=function(t){return s.$$s,null==t&&(t=o),t.$tr(" ","_")},s.$$s=$,s.$$arity=1,s)).$join(" ")],h(O,"[]=",t.to_a(k)),k[e(k.length,1)])}).$$s=this,u.$$arity=2,u)),b=this.$process_authors(O,!0,!1)):b=d([],{})}_(b["$empty?"]())?_(s=m["$[]"]("authorcount"))||(k=["authorcount",(k=["authorcount",0],h(f,"[]=",t.to_a(k)),k[e(k.length,1)])],h(m,"[]=",t.to_a(k)),k[e(k.length,1)]):(f.$update(b),_(_(s=f["$key?"]("email")["$!"]())?f["$key?"]("email_1"):s)&&(k=["email",f["$[]"]("email_1")],h(f,"[]=",t.to_a(k)),k[e(k.length,1)]))}return m},K.$$arity=-2),t.defs(ut,"$process_authors",X=function(n,i,s){var $,a,c=this,u=o,f=o,p=o,m=o,y=o;return null==i&&(i=!1),null==s&&(s=!0),u=d([],{}),f=0,p=["author","authorinitials","firstname","middlename","lastname","email"],m=_(s)?h(n.$split(";"),"map",[],(($=function(t){return $.$$s,null==t&&(t=o),t.$strip()}).$$s=c,$.$$arity=1,$)):c.$Array(n),h(m,"each",[],((a=function(n){var s,$,c,m,y=a.$$s||this,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o;return null==n&&(n=o),_(n["$empty?"]())?o:(f=r(f,1),g=d([],{}),f["$=="](1)?h(p,"each",[],((s=function(r){s.$$s;var n=o;return null==r&&(r=o),n=[r.$to_sym(),r],h(g,"[]=",t.to_a(n)),n[e(n.length,1)]}).$$s=y,s.$$arity=1,s)):h(p,"each",[],(($=function(r){$.$$s;var n=o;return null==r&&(r=o),n=[r.$to_sym(),r+"_"+f],h(g,"[]=",t.to_a(n)),n[e(n.length,1)]}).$$s=y,$.$$arity=1,$)),_(i)?(_(n["$include?"]("<"))&&(b=[g["$[]"]("author"),n.$tr("_"," ")],h(u,"[]=",t.to_a(b)),b[e(b.length,1)],n=n.$gsub(l(ht,"XmlSanitizeRx"),"")),(v=n.$split(o,3)).$size()["$=="](3)&&v["$<<"](v.$pop().$squeeze(" "))):_(x=l(ht,"AuthorInfoLineRx").$match(n))&&(v=x.$to_a()).$shift(),_(v)?(b=[g["$[]"]("firstname"),k=v["$[]"](0).$tr("_"," ")],h(u,"[]=",t.to_a(b)),w=b[e(b.length,1)],b=[g["$[]"]("authorinitials"),k.$chr()],h(u,"[]=",t.to_a(b)),b[e(b.length,1)],_(v["$[]"](1))&&(_(v["$[]"](2))?(b=[g["$[]"]("middlename"),E=v["$[]"](1).$tr("_"," ")],h(u,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("lastname"),A=v["$[]"](2).$tr("_"," ")],h(u,"[]=",t.to_a(b)),b[e(b.length,1)],w=r(r(r(r(k," "),E)," "),A),b=[g["$[]"]("authorinitials"),""+k.$chr()+E.$chr()+A.$chr()],h(u,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=[g["$[]"]("lastname"),A=v["$[]"](1).$tr("_"," ")],h(u,"[]=",t.to_a(b)),b[e(b.length,1)],w=r(r(k," "),A),b=[g["$[]"]("authorinitials"),""+k.$chr()+A.$chr()],h(u,"[]=",t.to_a(b)),b[e(b.length,1)])),_(c=u["$[]"](g["$[]"]("author")))||(b=[g["$[]"]("author"),w],h(u,"[]=",t.to_a(b)),b[e(b.length,1)]),_(_(c=i)?c:v["$[]"](3)["$!"]())||(b=[g["$[]"]("email"),v["$[]"](3)],h(u,"[]=",t.to_a(b)),b[e(b.length,1)])):(b=[g["$[]"]("author"),(b=[g["$[]"]("firstname"),k=n.$squeeze(" ").$strip()],h(u,"[]=",t.to_a(b)),b[e(b.length,1)])],h(u,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("authorinitials"),k.$chr()],h(u,"[]=",t.to_a(b)),b[e(b.length,1)]),f["$=="](1)?(b=["authors",u["$[]"](g["$[]"]("author"))],h(u,"[]=",t.to_a(b)),b[e(b.length,1)]):(f["$=="](2)&&h(p,"each",[],((m=function(r){return m.$$s,null==r&&(r=o),_(u["$key?"](r))?(b=[r+"_1",u["$[]"](r)],h(u,"[]=",t.to_a(b)),b[e(b.length,1)]):o}).$$s=y,m.$$arity=1,m)),b=["authors",u["$[]"]("authors")+", "+u["$[]"](g["$[]"]("author"))],h(u,"[]=",t.to_a(b)),b[e(b.length,1)]))}).$$s=c,a.$$arity=1,a)),y=["authorcount",f],h(u,"[]=",t.to_a(y)),e(y.length,1),u},X.$$arity=-2),t.defs(ut,"$parse_block_metadata_lines",J=function(t,e,r,n){for(null==r&&(r=d([],{})),null==n&&(n=d([],{}));_(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),_(t.$skip_blank_lines())););return r},J.$$arity=-3),t.defs(ut,"$parse_block_metadata_line",Z=function(r,n,i,$){var a,c,u=o,p=o,m=o,y=o,g=o,b=o;return null==f["~"]&&(f["~"]=o),null==$&&($=d([],{})),_(_(a=u=r.$peek_line())?_($["$[]"]("text"))?u["$start_with?"]("[","/"):p=u["$start_with?"]("[",".","/",":"):a)?_(u["$start_with?"]("["))?_(u["$start_with?"]("[["))?_(_(a=u["$end_with?"]("]]"))?l(ht,"BlockAnchorRx")["$=~"](u):a)?(m=["id",(a=f["~"])===o?o:a["$[]"](1)],h(i,"[]=",t.to_a(m)),m[e(m.length,1)],_(y=(a=f["~"])===o?o:a["$[]"](2))&&(m=["reftext",_(y["$include?"](l(ht,"ATTR_REF_HEAD")))?n.$sub_attributes(y):y],h(i,"[]=",t.to_a(m)),m[e(m.length,1)]),!0):o:_(_(a=u["$end_with?"]("]"))?l(ht,"BlockAttributeListRx")["$=~"](u):a)?(g=i["$[]"](1),_(n.$parse_attributes((a=f["~"])===o?o:a["$[]"](1),[],d(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:i}))["$[]"](1))&&(m=[1,_(a=this.$parse_style_attribute(i,r))?a:g],h(i,"[]=",t.to_a(m)),m[e(m.length,1)]),!0):o:_(_(a=p)?u["$start_with?"]("."):a)?_(l(ht,"BlockTitleRx")["$=~"](u))?(m=["title",(a=f["~"])===o?o:a["$[]"](1)],h(i,"[]=",t.to_a(m)),m[e(m.length,1)],!0):o:_(_(a=p["$!"]())?a:u["$start_with?"]("/"))?_(u["$start_with?"]("//"))?!!u["$=="]("//")||(_(_(a=p)?s("/",b=u.$length())["$=="](u):a)?b["$=="](3)?o:(r.$read_lines_until(d(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:u,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0):!_(u["$start_with?"]("///"))||o):o:_(_(a=_(c=p)?u["$start_with?"](":"):c)?l(ht,"AttributeEntryRx")["$=~"](u):a)?(this.$process_attribute_entry(r,n,i,f["~"]),!0):o:o},Z.$$arity=-4),t.defs(ut,"$process_attribute_entries",Q=function(t,e,r){for(null==r&&(r=o),t.$skip_comment_lines();_(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},Q.$$arity=-3),t.defs(ut,"$process_attribute_entry",tt=function(t,r,n,i){var s,$,a,c=o,u=o,h=o,d=o;if(null==n&&(n=o),null==i&&(i=o),_(i=_(s=i)?s:_(t["$has_more_lines?"]())?l(ht,"AttributeEntryRx").$match(t.$peek_line()):o)){if(_((c=i["$[]"](2))["$nil_or_empty?"]()))c="";else if(_(c["$end_with?"](l(ht,"LINE_CONTINUATION"),l(ht,"LINE_CONTINUATION_LEGACY"))))for(s=[c.$slice(-2,2),c.$slice(0,e(c.$length(),2)).$rstrip()],u=s[0],c=s[1];_(_($=t.$advance())?(h=_(a=t.$peek_line())?a:"")["$empty?"]()["$!"]():$)&&(h=h.$lstrip(),_(d=h["$end_with?"](u))&&(h=h.$slice(0,e(h.$length(),2)).$rstrip()),c=""+c+(_(c["$end_with?"](l(ht,"HARD_LINE_BREAK")))?l(ht,"LF"):" ")+h,_(d)););return this.$store_attribute(i["$[]"](1),c,r,n),!0}return o},tt.$$arity=-3),t.defs(ut,"$store_attribute",et=function(t,n,i,s){var $,c=o;return null==i&&(i=o),null==s&&(s=o),_(t["$end_with?"]("!"))?($=[t.$chop(),o],t=$[0],n=$[1]):_(t["$start_with?"]("!"))&&($=[t.$slice(1,t.$length()),o],t=$[0],n=$[1]),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")&&(t="sectnums"),_(i)?_(n)?(t["$=="]("leveloffset")&&(_(n["$start_with?"]("+"))?n=r(i.$attr("leveloffset",0).$to_i(),n.$slice(1,n.$length()).$to_i()).$to_s():_(n["$start_with?"]("-"))&&(n=e(i.$attr("leveloffset",0).$to_i(),n.$slice(1,n.$length()).$to_i()).$to_s())),_(c=i.$set_attribute(t,n))&&(n=c,_(s)&&a(l(ht,"Document"),"AttributeEntry").$new(t,n).$save_to(s))):_(_($=i.$delete_attribute(t))?s:$)&&a(l(ht,"Document"),"AttributeEntry").$new(t,n).$save_to(s):_(s)&&a(l(ht,"Document"),"AttributeEntry").$new(t,n).$save_to(s),[t,n]},et.$$arity=-3),t.defs(ut,"$resolve_list_marker",rt=function(t,e,r,n,i){return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=o),t["$=="]("ulist")?e:t["$=="]("olist")?this.$resolve_ordered_list_marker(e,r,n,i)["$[]"](0):"<1>"},rt.$$arity=-3),t.defs(ut,"$resolve_ordered_list_marker",nt=function(t,e,n,i){var s,$,a=o,c=o,u=o,f=o;return null==e&&(e=0),null==n&&(n=!1),null==i&&(i=o),_(t["$start_with?"]("."))?[t]:(a=c=h(l(ht,"ORDERED_LIST_STYLES"),"find",[],((s=function(e){return s.$$s,null==e&&(e=o),l(ht,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)}).$$s=this,s.$$arity=1,s)),"arabic"["$==="](a)?(_(n)&&(u=r(e,1),f=t.$to_i()),t="1."):"loweralpha"["$==="](a)?(_(n)&&(u=r("a"["$[]"](0).$ord(),e).$chr(),f=t.$chop()),t="a."):"upperalpha"["$==="](a)?(_(n)&&(u=r("A"["$[]"](0).$ord(),e).$chr(),f=t.$chop()),t="A."):"lowerroman"["$==="](a)?(_(n)&&(u=l(ht,"Helpers").$int_to_roman(r(e,1)).$downcase(),f=t.$chop()),t="i)"):"upperroman"["$==="](a)&&(_(n)&&(u=l(ht,"Helpers").$int_to_roman(r(e,1)),f=t.$chop()),t="I)"),_(_($=n)?u["$!="](f):$)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+u+", got "+f,d(["source_location"],{source_location:i.$cursor()}))),[t,c])},nt.$$arity=-2),t.defs(ut,"$is_sibling_list_item?",it=function(t,e,r){var n,i=o,s=o;return _(a("::","Regexp")["$==="](r))?i=r:(i=l(ht,"ListRxMap")["$[]"](e),s=r),!!_(i["$=~"](t))&&(!_(s)||s["$=="](this.$resolve_list_marker(e,(n=f["~"])===o?o:n["$[]"](1))))},it.$$arity=3),t.defs(ut,"$parse_table",st=function(i,s,$){var c,u,d,f,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,T=o,M=o,I=o,N=o;for(p=l(ht,"Table").$new(s,$),_($["$key?"]("title"))&&(m=[$.$delete("title")],h(p,"title=",t.to_a(m)),m[e(m.length,1)],p.$assign_caption($.$delete("caption"))),_(_(c=$["$key?"]("cols"))?(y=this.$parse_colspecs($["$[]"]("cols")))["$empty?"]()["$!"]():c)&&(p.$create_columns(y),g=!0),b=_(c=i.$skip_blank_lines())?c:0,v=a(l(ht,"Table"),"ParserContext").$new(i,p,$),c=[v.$format(),-1,o],x=c[0],w=c[1],k=c[2],_(_(c=_(u=n(b,0))?u:$["$key?"]("header-option"))?c:$["$key?"]("noheader-option"))||(E=!0),c=!1;c||_(A=i.$read_line());){for(c=!1,_(_(u=O=n(w=r(w,1),0))?A["$empty?"]():u)?(A=o,_(k)&&(k=r(k,1))):x["$=="]("psv")&&(_(v["$starts_with_delimiter?"](A))?(A=A.$slice(1,A.$length()),v.$close_open_cell(),_(k)&&(k=o)):(d=this.$parse_cellspec(A,"start",v.$delimiter()),u=t.to_ary(d),S=null==u[0]?o:u[0],A=null==u[1]?o:u[1],_(S)?(v.$close_open_cell(S),_(k)&&(k=o)):_(_(u=k)?k["$=="](w):u)&&(E=(u=[!1,o])[0],k=u[1]))),_(O)||(i.$mark(),_(E)&&(_(_(u=i["$has_more_lines?"]())?i.$peek_line()["$empty?"]():u)?k=1:E=!1)),u=!1;u||_(!0);){if(u=!1,!_(_(d=A)?R=v.$match_delimiter(A):d)){m=[""+v.$buffer()+A+l(ht,"LF")],h(v,"buffer=",t.to_a(m)),m[e(m.length,1)],"csv"["$==="](M=x)?_(v["$buffer_has_unclosed_quotes?"]())?(_(_(d=k)?w["$=="](0):d)&&(E=(d=[!1,o])[0],k=d[1]),v.$keep_cell_open()):v.$close_cell(!0):"dsv"["$==="](M)?v.$close_cell(!0):v.$keep_cell_open();break}if(d=[R.$pre_match(),R.$post_match()],C=d[0],T=d[1],"csv"["$==="](M=x)){if(_(v["$buffer_has_unclosed_quotes?"](C))){if(v.$skip_past_delimiter(C),_((A=T)["$empty?"]()))break;u=!0;continue}m=[""+v.$buffer()+C],h(v,"buffer=",t.to_a(m)),m[e(m.length,1)]}else if("dsv"["$==="](M)){if(_(C["$end_with?"]("\\"))){if(v.$skip_past_escaped_delimiter(C),_((A=T)["$empty?"]())){m=[""+v.$buffer()+l(ht,"LF")],h(v,"buffer=",t.to_a(m)),m[e(m.length,1)],v.$keep_cell_open();break}u=!0;continue}m=[""+v.$buffer()+C],h(v,"buffer=",t.to_a(m)),m[e(m.length,1)]}else{if(_(C["$end_with?"]("\\"))){if(v.$skip_past_escaped_delimiter(C),_((A=T)["$empty?"]())){m=[""+v.$buffer()+l(ht,"LF")],h(v,"buffer=",t.to_a(m)),m[e(m.length,1)],v.$keep_cell_open();break}u=!0;continue}f=this.$parse_cellspec(C),d=t.to_ary(f),S=null==d[0]?o:d[0],I=null==d[1]?o:d[1],v.$push_cellspec(S),m=[""+v.$buffer()+I],h(v,"buffer=",t.to_a(m)),m[e(m.length,1)]}_((A=T)["$empty?"]())&&(A=o),v.$close_cell()}if(_(v["$cell_open?"]()))_(i["$has_more_lines?"]())||v.$close_cell(!0);else if(!_(u=i.$skip_blank_lines()))break}return _(_(c=(N=p.$attributes(),_(u=N["$[]"]("colcount"))?u:(m=["colcount",p.$columns().$size()],h(N,"[]=",t.to_a(m)),m[e(m.length,1)]))["$=="](0))?c:g)||p.$assign_column_widths(),_(E)&&(m=[!0],h(p,"has_header_option=",t.to_a(m)),m[e(m.length,1)],m=["header-option",""],h($,"[]=",t.to_a(m)),m[e(m.length,1)],m=["options",_($["$key?"]("options"))?$["$[]"]("options")+",header":"header"],h($,"[]=",t.to_a(m)),m[e(m.length,1)]),p.$partition_header_footer($),p},st.$$arity=3),t.defs(ut,"$parse_colspecs",$t=function(r){var n,i,s=o;return _(r["$include?"](" "))&&(r=r.$delete(" ")),r["$=="](r.$to_i().$to_s())?h(a("::","Array"),"new",[r.$to_i()],((n=function(){return n.$$s,d(["width"],{width:1})}).$$s=this,n.$$arity=0,n)):(s=[],h(_(r["$include?"](","))?r.$split(",",-1):r.$split(";",-1),"each",[],((i=function(r){var n,$,a,c=i.$$s||this,u=o,f=o,p=o,m=o,y=o,g=o;return null==r&&(r=o),_(r["$empty?"]())?s["$<<"](d(["width"],{width:1})):_(u=l(ht,"ColumnSpecRx").$match(r))?(f=d([],{}),_(u["$[]"](2))&&($=u["$[]"](2).$split("."),n=t.to_ary($),p=null==n[0]?o:n[0],m=null==n[1]?o:n[1],_(_(n=p["$nil_or_empty?"]()["$!"]())?l(ht,"TableCellHorzAlignments")["$key?"](p):n)&&(y=["halign",l(ht,"TableCellHorzAlignments")["$[]"](p)],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_(n=m["$nil_or_empty?"]()["$!"]())?l(ht,"TableCellVertAlignments")["$key?"](m):n)&&(y=["valign",l(ht,"TableCellVertAlignments")["$[]"](m)],h(f,"[]=",t.to_a(y)),y[e(y.length,1)])),_(g=u["$[]"](3))?(y=["width",g["$=="]("~")?-1:g.$to_i()],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=["width",1],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_(n=u["$[]"](4))?l(ht,"TableCellStyles")["$key?"](u["$[]"](4)):n)&&(y=["style",l(ht,"TableCellStyles")["$[]"](u["$[]"](4))],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]),_(u["$[]"](1))?h(1,"upto",[u["$[]"](1).$to_i()],((a=function(){return a.$$s,s["$<<"](f.$dup())}).$$s=c,a.$$arity=0,a)):s["$<<"](f)):o}).$$s=this,i.$$arity=1,i)),s)},$t.$$arity=1),t.defs(ut,"$parse_cellspec",ot=function(r,n,i){var s,$,a=o,c=o,u=o,f=o,p=o,m=o,y=o;if(null==n&&(n="end"),null==i&&(i=o),a=(s=[o,""])[0],c=s[1],n["$=="]("start")){if(!_(r["$include?"](i)))return[o,r];if($=r.$split(i,2),s=t.to_ary($),u=null==s[0]?o:s[0],c=null==s[1]?o:s[1],!_(a=l(ht,"CellSpecStartRx").$match(u)))return[o,r];if(_(a["$[]"](0)["$empty?"]()))return[d([],{}),c]}else{if(!_(a=l(ht,"CellSpecEndRx").$match(r)))return[d([],{}),r];if(_(a["$[]"](0).$lstrip()["$empty?"]()))return[d([],{}),r.$rstrip()];c=a.$pre_match()}return f=d([],{}),_(a["$[]"](1))&&($=a["$[]"](1).$split("."),s=t.to_ary($),p=null==s[0]?o:s[0],m=null==s[1]?o:s[1],p=_(p["$nil_or_empty?"]())?1:p.$to_i(),m=_(m["$nil_or_empty?"]())?1:m.$to_i(),a["$[]"](2)["$=="]("+")?(p["$=="](1)||(y=["colspan",p],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]),m["$=="](1)||(y=["rowspan",m],h(f,"[]=",t.to_a(y)),y[e(y.length,1)])):a["$[]"](2)["$=="]("*")&&(p["$=="](1)||(y=["repeatcol",p],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]))),_(a["$[]"](3))&&($=a["$[]"](3).$split("."),s=t.to_ary($),p=null==s[0]?o:s[0],m=null==s[1]?o:s[1],_(_(s=p["$nil_or_empty?"]()["$!"]())?l(ht,"TableCellHorzAlignments")["$key?"](p):s)&&(y=["halign",l(ht,"TableCellHorzAlignments")["$[]"](p)],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_(s=m["$nil_or_empty?"]()["$!"]())?l(ht,"TableCellVertAlignments")["$key?"](m):s)&&(y=["valign",l(ht,"TableCellVertAlignments")["$[]"](m)],h(f,"[]=",t.to_a(y)),y[e(y.length,1)])),_(_(s=a["$[]"](4))?l(ht,"TableCellStyles")["$key?"](a["$[]"](4)):s)&&(y=["style",l(ht,"TableCellStyles")["$[]"](a["$[]"](4))],h(f,"[]=",t.to_a(y)),y[e(y.length,1)]),[f,c]},ot.$$arity=-2),t.defs(ut,"$parse_style_attribute",at=function(r,n){var i,s,$,a,c,u=o,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o;return null==n&&(n=o),_(_(i=_(s=u=r["$[]"](1))?u["$include?"](" ")["$!"]():s)?l(ht,"Compliance").$shorthand_property_syntax():i)?(i=["style",[],d([],{})],f=i[0],p=i[1],m=i[2],y=h(this,"lambda",[],(($=function(){var r,i=$.$$s||this,s=o,a=o;return _(p["$empty?"]())?f["$=="]("style")?o:_(n)?i.$logger().$warn(i.$message_with_context("invalid empty "+f+" detected in style attribute",d(["source_location"],{source_location:n.$cursor_at_prev_line()}))):i.$logger().$warn("invalid empty "+f+" detected in style attribute"):("role"["$==="](s=f)||"option"["$==="](s)?(_(r=m["$[]"](f))?r:(a=[f,[]],h(m,"[]=",t.to_a(a)),a[e(a.length,1)]))["$<<"](p.$join()):"id"["$==="](s)?(_(m["$key?"]("id"))&&(_(n)?i.$logger().$warn(i.$message_with_context("multiple ids detected in style attribute",d(["source_location"],{source_location:n.$cursor_at_prev_line()}))):i.$logger().$warn("multiple ids detected in style attribute")),a=[f,p.$join()],h(m,"[]=",t.to_a(a)),a[e(a.length,1)]):(a=[f,p.$join()],h(m,"[]=",t.to_a(a)),a[e(a.length,1)]),p=[])}).$$s=this,$.$$arity=0,$)),h(u,"each_char",[],((a=function(t){a.$$s;var e,r,n=o;return null==t&&(t=o),_(_(e=_(r=t["$=="]("."))?r:t["$=="]("#"))?e:t["$=="]("%"))?(y.$call(),"."["$==="](n=t)?f="role":"#"["$==="](n)?f="id":"%"["$==="](n)?f="option":o):p["$<<"](t)}).$$s=this,a.$$arity=1,a)),f["$=="]("style")?(g=["style",u],h(r,"[]=",t.to_a(g)),g[e(g.length,1)]):(y.$call(),_(m["$key?"]("style"))&&(g=["style",m["$[]"]("style")],h(r,"[]=",t.to_a(g)),b=g[e(g.length,1)]),_(m["$key?"]("id"))&&(g=["id",m["$[]"]("id")],h(r,"[]=",t.to_a(g)),g[e(g.length,1)]),_(m["$key?"]("role"))&&(g=["role",_((v=r["$[]"]("role"))["$nil_or_empty?"]())?m["$[]"]("role").$join(" "):v+" "+m["$[]"]("role").$join(" ")],h(r,"[]=",t.to_a(g)),g[e(g.length,1)]),_(m["$key?"]("option"))&&(h(x=m["$[]"]("option"),"each",[],((c=function(n){return c.$$s,null==n&&(n=o),g=[n+"-option",""],h(r,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=this,c.$$arity=1,c)),g=["options",_((w=r["$[]"]("options"))["$nil_or_empty?"]())?x.$join(","):w+","+x.$join(",")],h(r,"[]=",t.to_a(g)),g[e(g.length,1)]),b)):(g=["style",u],h(r,"[]=",t.to_a(g)),g[e(g.length,1)])},at.$$arity=-2),t.defs(ut,"$adjust_indentation!",lt=function(i,$,a){var c,u,d,p,m,y,g=this,b=o,v=o,x=o;return null==$&&($=0),null==a&&(a=0),_(i["$empty?"]())?o:(_(_(c=n(a=a.$to_i(),0))?i.$join()["$include?"](l(ht,"TAB")):c)&&(b=s(" ",a),h(i,"map!",[],((u=function(t){var n,i,$=u.$$s||this,c=o;return null==t&&(t=o),_(t["$empty?"]())?t:(_(t["$start_with?"](l(ht,"TAB")))&&(t=h(t,"sub",[l(ht,"TabIndentRx")],((n=function(){var t;return n.$$s,s(b,((t=f["~"])===o?o:t["$[]"](0)).$length())}).$$s=$,n.$$arity=0,n))),_(t["$include?"](l(ht,"TAB")))?(c=0,t=h(t,"gsub",[l(ht,"TabRx")],((i=function(){i.$$s;var t=o,n=o;return null==f["~"]&&(f["~"]=o),(t=r(f["~"].$begin(0),c))["$%"](a)["$=="](0)?(c=r(c,e(a,1)),b):((n=e(a,t["$%"](a)))["$=="](1)||(c=r(c,e(n,1))),s(" ",n))}).$$s=$,i.$$arity=0,i))):t)}).$$s=g,u.$$arity=1,u))),_(_(c=$)?n($=$.$to_i(),-1):c)?(v=o,function(){var r=t.new_brk();try{h(i,"each",[],((d=function(i){d.$$s;var s,$=o;return null==i&&(i=o),_(i["$empty?"]())?o:($=e(i.$length(),i.$lstrip().$length()))["$=="](0)?(v=o,void t.brk(o,r)):_(_(s=v)?n($,v):s)?o:v=$}).$$s=g,d.$$brk=r,d.$$arity=1,d))}catch(t){if(t===r)return t.$v;throw t}}(),$["$=="](0)?_(v)&&h(i,"map!",[],((p=function(t){return p.$$s,null==t&&(t=o),_(t["$empty?"]())?t:t.$slice(v,t.$length())}).$$s=g,p.$$arity=1,p)):(x=s(" ",$),_(v)?h(i,"map!",[],((m=function(t){return m.$$s,null==t&&(t=o),_(t["$empty?"]())?t:r(x,t.$slice(v,t.$length()))}).$$s=g,m.$$arity=1,m)):h(i,"map!",[],((y=function(t){return y.$$s,null==t&&(t=o),_(t["$empty?"]())?t:r(x,t)}).$$s=g,y.$$arity=1,y))),o):o)},lt.$$arity=-2),t.defs(ut,"$sanitize_attribute_name",ct=function(t){return t.$gsub(l(ht,"InvalidAttributeNameCharsRx"),"").$downcase()},ct.$$arity=1)}(g[0],0,g)}($[0],$)},i.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,a=t.truthy,l=t.hash2,c=t.send;return t.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$end_with?","$uri_prefix","$gsub"]),function(r,u){function h(){}var _=h=$(r,"Asciidoctor",h),d=(_.prototype,[_].concat(u));!function(r,$,u){function h(){}var _,d,f,p,m,y,g,b,v,x,w,k,E,A=h=o(r,null,"PathResolver",h),O=A.prototype,S=[A].concat(u);O.file_separator=O._partition_path_web=O._partition_path_sys=O.working_dir=n,A.$include(s(S,"Logging")),t.const_set(S[0],"DOT","."),t.const_set(S[0],"DOT_DOT",".."),t.const_set(S[0],"DOT_SLASH","./"),t.const_set(S[0],"SLASH","/"),t.const_set(S[0],"BACKSLASH","\\"),t.const_set(S[0],"DOUBLE_SLASH","//"),t.const_set(S[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),A.$attr_accessor("file_separator"),A.$attr_accessor("working_dir"),t.def(A,"$initialize",_=function(t,e){var r,s,$=this;return null==t&&(t=n),null==e&&(e=n),$.file_separator=a(r=a(s=t)?s:i(i("::","File"),"ALT_SEPARATOR"))?r:i(i("::","File"),"SEPARATOR"),$.working_dir=a(e)?a($["$root?"](e))?$.$posixify(e):i("::","File").$expand_path(e):i("::","Dir").$pwd(),$._partition_path_sys=l([],{}),$._partition_path_web=l([],{})},_.$$arity=-1),t.def(A,"$absolute_path?",d=function(t){var e;return a(e=t["$start_with?"](s(S,"SLASH")))?e:this.file_separator["$=="](s(S,"BACKSLASH"))?s(S,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](s(S,"BACKSLASH"))},d.$$arity=1),a(s(S,"RUBY_ENGINE")["$=="]("opal")?i("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):s(S,"RUBY_ENGINE")["$=="]("opal"))?t.def(A,"$root?",f=function(t){var e;return a(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},f.$$arity=1):t.alias(A,"root?","absolute_path?"),t.def(A,"$unc?",p=function(t){return t["$start_with?"](s(S,"DOUBLE_SLASH"))},p.$$arity=1),t.def(A,"$web_root?",m=function(t){return t["$start_with?"](s(S,"SLASH"))},m.$$arity=1),t.def(A,"$descends_from?",y=function(t,r){var n;return r["$=="](t)?0:r["$=="](s(S,"SLASH"))?a(n=t["$start_with?"](s(S,"SLASH")))?1:n:a(n=t["$start_with?"](e(r,s(S,"SLASH"))))?e(r.$length(),1):n},y.$$arity=2),t.def(A,"$relative_path",g=function(t,e){var r=n;return a(this["$root?"](t))?a(r=this["$descends_from?"](t,e))?t.$slice(r,t.$length()):s(S,"Pathname").$new(t).$relative_path_from(s(S,"Pathname").$new(e)).$to_s():t},g.$$arity=2),t.def(A,"$posixify",b=function(t){return a(t)?a(this.file_separator["$=="](s(S,"BACKSLASH"))?t["$include?"](s(S,"BACKSLASH")):this.file_separator["$=="](s(S,"BACKSLASH")))?t.$tr(s(S,"BACKSLASH"),s(S,"SLASH")):t:""},b.$$arity=1),t.alias(A,"posixfy","posixify"),t.def(A,"$expand_path",v=function(e){var r,i,$,o=n,l=n,u=n;return i=this.$partition_path(e),r=t.to_ary(i),o=null==r[0]?n:r[0],l=null==r[1]?n:r[1],a(e["$include?"](s(S,"DOT_DOT")))?(u=[],c(o,"each",[],(($=function(t){return $.$$s,null==t&&(t=n),t["$=="](s(S,"DOT_DOT"))?u.$pop():u["$<<"](t)}).$$s=this,$.$$arity=1,$)),this.$join_path(u,l)):this.$join_path(o,l)},v.$$arity=1),t.def(A,"$partition_path",x=function(r,i){var $,o,l=this,u=n,h=n,_=n,d=n,f=n,p=n;return null==i&&(i=n),a(u=(h=a(i)?l._partition_path_web:l._partition_path_sys)["$[]"](r))?u:(_=l.$posixify(r),a(i)?a(l["$web_root?"](_))?d=s(S,"SLASH"):a(_["$start_with?"](s(S,"DOT_SLASH")))&&(d=s(S,"DOT_SLASH")):a(l["$root?"](_))?d=a(l["$unc?"](_))?s(S,"DOUBLE_SLASH"):a(_["$start_with?"](s(S,"SLASH")))?s(S,"SLASH"):_.$slice(0,e(_.$index(s(S,"SLASH")),1)):a(_["$start_with?"](s(S,"DOT_SLASH")))&&(d=s(S,"DOT_SLASH")),(f=(a(d)?_.$slice(d.$length(),_.$length()):_).$split(s(S,"SLASH"))).$delete(s(S,"DOT")),p=[r,[f,d]],c(h,"[]=",t.to_a(p)),p[($=p.length,o=1,"number"==typeof $&&"number"==typeof o?$-o:$["$-"](o))])},x.$$arity=-2),t.def(A,"$join_path",w=function(t,e){return null==e&&(e=n),a(e)?""+e+t.$join(s(S,"SLASH")):t.$join(s(S,"SLASH"))},w.$$arity=-2),t.def(A,"$system_path",k=function(r,$,o,u){var h,_,d,f,p=n,m=n,y=n,g=n,b=n,v=n,x=n,w=n,k=n,E=n;if(null==$&&($=n),null==o&&(o=n),null==u&&(u=l([],{})),a(o)&&(a(this["$root?"](o))||this.$raise(i("::","SecurityError"),"Jail is not an absolute path: "+o),o=this.$posixify(o)),a(r)){if(a(this["$root?"](r))){if(p=this.$expand_path(r),a(a(h=o)?this["$descends_from?"](p,o)["$!"]():h)){if(a(u.$fetch("recover",!0)))return this.$logger().$warn((a(h=u["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),_=this.$partition_path(p),h=t.to_ary(_),m=null==h[0]?n:h[0],null==h[1]||h[1],_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],g=null==h[1]?n:h[1],this.$join_path(e(y,m),g);this.$raise(i("::","SecurityError"),(a(h=u["$[]"]("target_name"))?h:"path")+" "+r+" is outside of jail: "+o+" (disallowed in safe mode)")}return p}_=this.$partition_path(r),h=t.to_ary(_),m=null==h[0]?n:h[0],null==h[1]||h[1]}else m=[];if(a(m["$empty?"]())){if(a($["$nil_or_empty?"]()))return a(h=o)?h:this.working_dir;if(a(this["$root?"]($))){if(!a(o))return this.$expand_path($);$=this.$posixify($)}else _=this.$partition_path($),h=t.to_ary(_),m=null==h[0]?n:h[0],null==h[1]||h[1],$=a(h=o)?h:this.working_dir}else a($["$nil_or_empty?"]())?$=a(h=o)?h:this.working_dir:a(this["$root?"]($))?a(o)&&($=this.$posixify($)):$=(a(h=o)?h:this.working_dir).$chomp("/")+"/"+$;return a(a(h=a(_=o)?b=this["$descends_from?"]($,o)["$!"]():_)?this.file_separator["$=="](s(S,"BACKSLASH")):h)?(_=this.$partition_path($),h=t.to_ary(_),v=null==h[0]?n:h[0],x=null==h[1]?n:h[1],_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],g=null==h[1]?n:h[1],a(x["$!="](g))&&(a(u.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(a(h=u["$[]"]("target_name"))?h:"path")+" is outside of jail root; recovering automatically"),v=y,b=!1):this.$raise(i("::","SecurityError"),"start path for "+(a(h=u["$[]"]("target_name"))?h:"path")+" "+$+" refers to location outside jail root: "+o+" (disallowed in safe mode)"))):(_=this.$partition_path($),h=t.to_ary(_),v=null==h[0]?n:h[0],g=null==h[1]?n:h[1]),a((w=e(v,m))["$include?"](s(S,"DOT_DOT")))&&(k=(h=[w,[]])[0],w=h[1],a(o)?(a(y)||(_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],null==h[1]||h[1]),E=!1,c(k,"each",[],((d=function(t){var e,$,l,c=d.$$s||this;return null==t&&(t=n),t["$=="](s(S,"DOT_DOT"))?a(($=w.$size(),l=y.$size(),"number"==typeof $&&"number"==typeof l?$>l:$["$>"](l)))?w.$pop():a(u.$fetch("recover",!0))?a(E)?n:(c.$logger().$warn((a(e=u["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically"),E=!0):c.$raise(i("::","SecurityError"),(a(e=u["$[]"]("target_name"))?e:"path")+" "+r+" refers to location outside jail: "+o+" (disallowed in safe mode)"):w["$<<"](t)}).$$s=this,d.$$arity=1,d))):c(k,"each",[],((f=function(t){return f.$$s,null==t&&(t=n),t["$=="](s(S,"DOT_DOT"))?w.$pop():w["$<<"](t)}).$$s=this,f.$$arity=1,f))),a(b)?(p=this.$join_path(w,g),a(this["$descends_from?"](p,o))?p:a(u.$fetch("recover",!0))?(this.$logger().$warn((a(h=u["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),a(y)||(_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],null==h[1]||h[1]),this.$join_path(e(y,m),g)):this.$raise(i("::","SecurityError"),(a(h=u["$[]"]("target_name"))?h:"path")+" "+r+" is outside of jail: "+o+" (disallowed in safe mode)")):this.$join_path(w,g)},k.$$arity=-2),t.def(A,"$web_path",E=function(e,r){var i,$,o,l=n,u=n,h=n,_=n,d=n;return null==r&&(r=n),e=this.$posixify(e),r=this.$posixify(r),l=n,a(a(i=r["$nil_or_empty?"]())?i:this["$web_root?"](e))||(e=a(r["$end_with?"](s(S,"SLASH")))?""+r+e:""+r+s(S,"SLASH")+e,a(l=s(S,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(l.$length(),-1,!1)))),$=this.$partition_path(e,!0),i=t.to_ary($),u=null==i[0]?n:i[0],h=null==i[1]?n:i[1],_=[],c(u,"each",[],((o=function(t){var e;return o.$$s,null==t&&(t=n),t["$=="](s(S,"DOT_DOT"))?a(_["$empty?"]())?a(a(e=h)?h["$!="](s(S,"DOT_SLASH")):e)?n:_["$<<"](t):_["$[]"](-1)["$=="](s(S,"DOT_DOT"))?_["$<<"](t):_.$pop():_["$<<"](t)}).$$s=this,o.$$arity=1,o)),a((d=this.$join_path(_,h))["$include?"](" "))&&(d=d.$gsub(" ","%20")),a(l)?""+l+d:d},E.$$arity=-2)}(d[0],0,d)}(r[0],r)},i.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var $=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,h=t.hash2,_=t.truthy,d=t.send,f=t.gvars,p=t.hash;return t.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$prepare_lines","$drop","$[]","$normalize_lines_from_string","$normalize_lines_array","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$new","$each","$instance_variables","$instance_variable_get","$dup","$instance_variable_set","$to_i","$attributes","$<","$catalog","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$pop_include","$downcase","$error","$none?","$key?","$any?","$all?","$strip","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse_attributes","$>=","$safe","$resolve_include_path","$split_delimited_value","$/","$to_a","$uniq","$sort","$open","$each_line","$infinite?","$push_include","$delete","$value?","$force_encoding","$create_include_cursor","$rindex","$delete_at","$nil?","$keys","$read","$uriish?","$attr?","$require_library","$parse","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_s","$path=","$extname","$rootname","$<=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$map"]),function($,m){function y(){}var g=y=c($,"Asciidoctor",y),b=(g.prototype,[g].concat(m));!function(i,s,$){function c(){}var f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J=c=u(i,null,"Reader",c),Z=J.prototype,Q=[J].concat($);Z.file=Z.lines=Z.process_lines=Z.look_ahead=Z.unescape_next_line=Z.lineno=Z.dir=Z.path=Z.mark=Z.source_lines=Z.saved=o,J.$include(l(Q,"Logging")),function(r,n,i){function s(){}var $,a,l,c=s=u(r,null,"Cursor",s),h=c.prototype;[c].concat(i),h.lineno=h.path=o,c.$attr_reader("file","dir","path","lineno"),t.def(c,"$initialize",$=function(t,e,r,n){var i;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=1),i=[t,e,r,n],this.file=i[0],this.dir=i[1],this.path=i[2],this.lineno=i[3],i},$.$$arity=-2),t.def(c,"$advance",a=function(t){return this.lineno=e(this.lineno,t)},a.$$arity=1),t.def(c,"$line_info",l=function(){return this.path+": line "+this.lineno},l.$$arity=0),t.alias(c,"to_s","line_info")}(Q[0],0,Q),J.$attr_reader("file"),J.$attr_reader("dir"),J.$attr_reader("path"),J.$attr_reader("lineno"),J.$attr_reader("source_lines"),J.$attr_accessor("process_lines"),J.$attr_accessor("unterminated"),t.def(J,"$initialize",f=function(e,r,n){var i,s,$=this;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=h([],{})),_(r["$!"]())?($.file=o,$.dir=".",$.path="<stdin>",$.lineno=1):_(a("::","String")["$==="](r))?($.file=r,s=a("::","File").$split($.file),i=t.to_ary(s),$.dir=null==i[0]?o:i[0],$.path=null==i[1]?o:i[1],$.lineno=1):(_($.file=r.$file())?($.dir=_(i=r.$dir())?i:a("::","File").$dirname($.file),$.path=_(i=r.$path())?i:a("::","File").$basename($.file)):($.dir=_(i=r.$dir())?i:".",$.path=_(i=r.$path())?i:"<stdin>"),$.lineno=_(i=r.$lineno())?i:1),$.lines=_(e)?$.$prepare_lines(e,n):[],$.source_lines=$.lines.$drop(0),$.mark=o,$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1,$.unterminated=o,$.saved=o},f.$$arity=-1),t.def(J,"$prepare_lines",p=function(t,e){return null==e&&(e=h([],{})),_(a("::","String")["$==="](t))?_(e["$[]"]("normalize"))?l(Q,"Helpers").$normalize_lines_from_string(t):t.$split(l(Q,"LF"),-1):_(e["$[]"]("normalize"))?l(Q,"Helpers").$normalize_lines_array(t):t.$drop(0)},p.$$arity=-2),t.def(J,"$process_line",m=function(t){return _(this.process_lines)&&(this.look_ahead=e(this.look_ahead,1)),t},m.$$arity=1),t.def(J,"$has_more_lines?",y=function(){return!_(this.lines["$empty?"]())||(this.look_ahead=0,!1)},y.$$arity=0),t.def(J,"$empty?",g=function(){return!!_(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},g.$$arity=0),t.alias(J,"eof?","empty?"),t.def(J,"$next_line_empty?",b=function(){return this.$peek_line()["$nil_or_empty?"]()},b.$$arity=0),t.def(J,"$peek_line",v=function(t){var e,n=o;return null==t&&(t=!1),_(_(e=t)?e:r(this.look_ahead,0))?_(this.unescape_next_line)?(n=this.lines["$[]"](0)).$slice(1,n.$length()):this.lines["$[]"](0):_(this.lines["$empty?"]())?(this.look_ahead=0,o):_(n=this.$process_line(this.lines["$[]"](0)))?n:this.$peek_line()},v.$$arity=-1),t.def(J,"$peek_lines",x=function(e,r){var i,s,$=this,a=o,c=o;return null==e&&(e=o),null==r&&(r=!1),a=$.look_ahead,c=[],function(){var a=t.new_brk();try{d(_(i=e)?i:l(Q,"MAX_INT"),"times",[],((s=function(){var e=s.$$s||this,i=o;if(null==e.lineno&&(e.lineno=o),_(i=_(r)?e.$shift():e.$read_line()))return c["$<<"](i);_(r)&&(e.lineno=n(e.lineno,1)),t.brk(o,a)}).$$s=$,s.$$brk=a,s.$$arity=0,s))}catch(t){if(t===a)return t.$v;throw t}}(),_(c["$empty?"]())||($.$unshift_all(c),_(r)&&($.look_ahead=a)),c},x.$$arity=-1),t.def(J,"$read_line",w=function(){var t;return _(_(t=r(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():o},w.$$arity=0),t.def(J,"$read_lines",k=function(){var t=o;for(t=[];_(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},k.$$arity=0),t.alias(J,"readlines","read_lines"),t.def(J,"$read",E=function(){return this.$read_lines().$join(l(Q,"LF"))},E.$$arity=0),t.def(J,"$advance",A=function(){return!!_(this.$shift())},A.$$arity=0),t.def(J,"$unshift_line",O=function(t){return this.$unshift(t),o},O.$$arity=1),t.alias(J,"restore_line","unshift_line"),t.def(J,"$unshift_lines",S=function(t){return this.$unshift_all(t),o},S.$$arity=1),t.alias(J,"restore_lines","unshift_lines"),t.def(J,"$replace_next_line",R=function(t){return this.$shift(),this.$unshift(t),!0},R.$$arity=1),t.alias(J,"replace_line","replace_next_line"),t.def(J,"$skip_blank_lines",C=function(){var t=o,r=o;if(_(this["$empty?"]()))return o;for(t=0;_(r=this.$peek_line());){if(!_(r["$empty?"]()))return t;this.$shift(),t=e(t,1)}},C.$$arity=0),t.def(J,"$skip_comment_lines",T=function(){var t,e,n,i=o,s=o;if(_(this["$empty?"]()))return o;for(;_(_(t=i=this.$peek_line())?i["$empty?"]()["$!"]():t)&&_(i["$start_with?"]("//"));)if(_(i["$start_with?"]("///"))){if(!_(_(t=r(s=i.$length(),3))?i["$=="]((e="/",n=s,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n))):t))break;this.$read_lines_until(h(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:i,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else this.$shift();return o},T.$$arity=0),t.def(J,"$skip_line_comments",M=function(){var t,e=o,r=o;if(_(this["$empty?"]()))return[];for(e=[];_(_(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&_(r["$start_with?"]("//"));)e["$<<"](this.$shift());return e},M.$$arity=0),t.def(J,"$terminate",I=function(){return this.lineno=e(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,o},I.$$arity=0),t.def(J,"$read_lines_until",N=function(e){var r,i,s,$,a=N.$$p,c=a||o,u=o,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o;for(a&&(N.$$p=null),null==e&&(e=h([],{})),u=[],_(_(r=this.process_lines)?e["$[]"]("skip_processing"):r)&&(this.process_lines=!1,f=!0),_(p=e["$[]"]("terminator"))?(m=_(r=e["$[]"]("cursor"))?r:this.$cursor(),y=!1,g=!1):(y=e["$[]"]("break_on_blank_lines"),g=e["$[]"]("break_on_list_continuation")),b=e["$[]"]("skip_line_comments"),v=x=w=o,_(e["$[]"]("skip_first_line"))&&this.$shift();_(_(i=v["$!"]())?k=this.$read_line():i);)v=function(){for(;_(!0);)return!(!_(_(s=p)?k["$=="](p):s)&&!_(_(s=y)?k["$empty?"]():s)&&(_(_(s=_($=g)?x:$)?k["$=="](l(Q,"LIST_CONTINUATION")):s)?(E=["preserve_last_line",!0],d(e,"[]=",t.to_a(E)),E[n(E.length,1)],0):!_((s=c!==o)?t.yield1(c,k):c!==o)));return o}(),_(v)?(_(e["$[]"]("read_last_line"))&&(u["$<<"](k),x=!0),_(e["$[]"]("preserve_last_line"))&&(this.$unshift(k),w=!0)):_(_(i=_(s=b)?k["$start_with?"]("//"):s)?k["$start_with?"]("///")["$!"]():i)||(u["$<<"](k),x=!0);return _(f)&&(this.process_lines=!0,_(_(r=w)?p["$!"]():r)&&(this.look_ahead=n(this.look_ahead,1))),_(_(r=_(i=p)?p["$!="](k):i)?A=e.$fetch("context",p):r)&&(m["$=="]("at_mark")&&(m=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+A+" block",h(["source_location"],{source_location:m}))),this.unterminated=!0),u},N.$$arity=-1),t.def(J,"$shift",P=function(){return this.lineno=e(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=n(this.look_ahead,1)),this.lines.$shift()},P.$$arity=0),t.def(J,"$unshift",L=function(t){return this.lineno=n(this.lineno,1),this.look_ahead=e(this.look_ahead,1),this.lines.$unshift(t)},L.$$arity=1),t.def(J,"$unshift_all",D=function(r){return this.lineno=n(this.lineno,r.$size()),this.look_ahead=e(this.look_ahead,r.$size()),d(this.lines,"unshift",t.to_a(r))},D.$$arity=1),t.def(J,"$cursor",F=function(){return l(Q,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},F.$$arity=0),t.def(J,"$cursor_at_line",z=function(t){return l(Q,"Cursor").$new(this.file,this.dir,this.path,t)},z.$$arity=1),t.def(J,"$cursor_at_mark",B=function(){return _(this.mark)?d(l(Q,"Cursor"),"new",t.to_a(this.mark)):this.$cursor()},B.$$arity=0),t.def(J,"$cursor_before_mark",q=function(){var e,r,i=o,s=o,$=o,a=o;return _(this.mark)?(r=this.mark,e=t.to_ary(r),i=null==e[0]?o:e[0],s=null==e[1]?o:e[1],$=null==e[2]?o:e[2],a=null==e[3]?o:e[3],l(Q,"Cursor").$new(i,s,$,n(a,1))):l(Q,"Cursor").$new(this.file,this.dir,this.path,n(this.lineno,1))},q.$$arity=0),t.def(J,"$cursor_at_prev_line",j=function(){return l(Q,"Cursor").$new(this.file,this.dir,this.path,n(this.lineno,1))},j.$$arity=0),t.def(J,"$mark",U=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},U.$$arity=0),t.def(J,"$line_info",H=function(){return this.path+": line "+this.lineno},H.$$arity=0),t.def(J,"$lines",Y=function(){return this.lines.$drop(0)},Y.$$arity=0),t.def(J,"$string",G=function(){return this.lines.$join(l(Q,"LF"))},G.$$arity=0),t.def(J,"$source",W=function(){return this.source_lines.$join(l(Q,"LF"))},W.$$arity=0),t.def(J,"$save",V=function(){var e,r=o;return r=h([],{}),d(this.$instance_variables(),"each",[],((e=function(i){var s,$=e.$$s||this,l=o,c=o;return null==i&&(i=o),_(_(s=i["$=="]("@saved"))?s:i["$=="]("@source_lines"))?o:(l=[i,_(a("::","Array")["$==="](c=$.$instance_variable_get(i)))?c.$dup():c],d(r,"[]=",t.to_a(l)),l[n(l.length,1)])}).$$s=this,e.$$arity=1,e)),this.saved=r,o},V.$$arity=0),t.def(J,"$restore_save",K=function(){var t;return _(this.saved)?(d(this.saved,"each",[],((t=function(e,r){var n=t.$$s||this;return null==e&&(e=o),null==r&&(r=o),n.$instance_variable_set(e,r)}).$$s=this,t.$$arity=2,t)),this.saved=o):o},K.$$arity=0),t.def(J,"$discard_save",X=function(){return this.saved=o},X.$$arity=0),t.alias(J,"to_s","line_info")}(b[0],0,b),function($,c,m){function y(){}var g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z=y=u($,c,"PreprocessorReader",y),B=z.prototype,q=[z].concat(m);B.document=B.lineno=B.process_lines=B.look_ahead=B.skipping=B.include_stack=B.conditional_stack=B.path=B.include_processor_extensions=B.maxdepth=B.dir=B.lines=B.file=B.includes=B.unescape_next_line=o,z.$attr_reader("include_stack"),t.def(z,"$initialize",g=function(e,r,n,s){var $=g.$$p,a=o;return $&&(g.$$p=null),null==r&&(r=o),null==n&&(n=o),null==s&&(s=h([],{})),this.document=e,d(this,t.find_super_dispatcher(this,"initialize",g,!1),[r,n,s],null),a=e.$attributes().$fetch("max-include-depth",64).$to_i(),_(i(a,0))&&(a=0),this.maxdepth=h(["abs","rel"],{abs:a,rel:a}),this.include_stack=[],this.includes=e.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=o},g.$$arity=-2),t.def(z,"$prepare_lines",b=function(r,i){var s,$,a=b.$$p,c=o,u=o,f=o,p=o,m=o,y=o,g=o,v=o;for(a&&(b.$$p=null),g=0,v=arguments.length,y=new Array(v);g<v;g++)y[g]=arguments[g];if(null==i&&(i=h([],{})),c=d(this,t.find_super_dispatcher(this,"prepare_lines",b,!1),y,a),_(_(s=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):s)&&_(u=this["$skip_front_matter!"](c))&&(f=["front-matter",u.$join(l(q,"LF"))],d(this.document.$attributes(),"[]=",t.to_a(f)),f[n(f.length,1)]),_(i.$fetch("condense",!0))){for(;_(_($=p=c["$[]"](0))?p["$empty?"]():$);)_($=c.$shift())&&(this.lineno=e(this.lineno,1));for(;_(_($=m=c["$[]"](-1))?m["$empty?"]():$);)c.$pop()}return _(i["$[]"]("indent"))&&l(q,"Parser")["$adjust_indentation!"](c,i["$[]"]("indent"),this.document.$attr("tabsize")),c},b.$$arity=-2),t.def(z,"$process_line",v=function(t){var r,n;return _(this.process_lines)?_(t["$empty?"]())?(this.look_ahead=e(this.look_ahead,1),t):_(_(r=_(n=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():n)?t["$include?"]("::"):r)?_(_(r=t["$include?"]("if"))?l(q,"ConditionalDirectiveRx")["$=~"](t):r)?((r=f["~"])===o?o:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t.$slice(1,t.$length())):_(this.$preprocess_conditional_directive((r=f["~"])===o?o:r["$[]"](2),(r=f["~"])===o?o:r["$[]"](3),(r=f["~"])===o?o:r["$[]"](4),(r=f["~"])===o?o:r["$[]"](5)))?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):_(this.skipping)?(this.$shift(),o):_(_(r=t["$start_with?"]("inc","\\inc"))?l(q,"IncludeDirectiveRx")["$=~"](t):r)?((r=f["~"])===o?o:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t.$slice(1,t.$length())):_(this.$preprocess_include_directive((r=f["~"])===o?o:r["$[]"](2),(r=f["~"])===o?o:r["$[]"](3)))?o:(this.look_ahead=e(this.look_ahead,1),t):(this.look_ahead=e(this.look_ahead,1),t):_(this.skipping)?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):t},v.$$arity=1),t.def(z,"$has_more_lines?",x=function(){return!!_(this.$peek_line())},x.$$arity=0),t.def(z,"$empty?",w=function(){return!_(this.$peek_line())},w.$$arity=0),t.alias(z,"eof?","empty?"),t.def(z,"$peek_line",k=function(e){var r=k.$$p,n=o,i=o,s=o,$=o;for(r&&(k.$$p=null),s=0,$=arguments.length,i=new Array($);s<$;s++)i[s]=arguments[s];return null==e&&(e=!1),_(n=d(this,t.find_super_dispatcher(this,"peek_line",k,!1),i,r))?n:_(this.include_stack["$empty?"]())?o:(this.$pop_include(),this.$peek_line(e))},k.$$arity=-1),t.def(z,"$preprocess_conditional_directive",E=function(t,e,r,i){var s,$,a,c,u,p,m,y=this,g=o,b=o,v=o,x=o,w=o,k=o,E=o;if(_(g=e["$empty?"]())||(e=e.$downcase()),_(_(s=_($=g)?_(a=t["$=="]("ifdef"))?a:t["$=="]("ifndef"):$)?s:_($=i)?t["$=="]("endif"):$))return!1;if(t["$=="]("endif"))return _(y.conditional_stack["$empty?"]())?y.$logger().$error(y.$message_with_context("unmatched macro: endif::"+e+"[]",h(["source_location"],{source_location:y.$cursor()}))):_(_(s=g)?s:e["$=="]((b=y.conditional_stack["$[]"](-1))["$[]"]("target")))?(y.conditional_stack.$pop(),y.skipping=!_(y.conditional_stack["$empty?"]())&&y.conditional_stack["$[]"](-1)["$[]"]("skipping")):y.$logger().$error(y.$message_with_context("mismatched macro: endif::"+e+"[], expected endif::"+b["$[]"]("target")+"[]",h(["source_location"],{source_location:y.$cursor()}))),!0;if(_(y.skipping))v=!1;else if("ifdef"["$==="](x=t))v=","["$==="](x=r)?d(e.$split(",",-1),"none?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=y,c.$$arity=1,c)):"+"["$==="](x)?d(e.$split("+",-1),"any?",[],((u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=y,u.$$arity=1,u)):y.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](x))v=","["$==="](x=r)?d(e.$split(",",-1),"any?",[],((p=function(t){var e=p.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=y,p.$$arity=1,p)):"+"["$==="](x)?d(e.$split("+",-1),"all?",[],((m=function(t){var e=m.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=y,m.$$arity=1,m)):y.document.$attributes()["$key?"](e);else if("ifeval"["$==="](x)){if(!_(_(s=g)?l(q,"EvalExpressionRx")["$=~"](i.$strip()):s))return!1;s=[($=f["~"])===o?o:$["$[]"](1),($=f["~"])===o?o:$["$[]"](2),($=f["~"])===o?o:$["$[]"](3)],w=s[0],k=s[1],E=s[2],w=y.$resolve_expr_val(w),E=y.$resolve_expr_val(E),v=k["$=="]("!=")?w.$send("==",E):w.$send(k.$to_sym(),E)["$!"]()}return _(_(s=t["$=="]("ifeval"))?s:i["$!"]())?(_(v)&&(y.skipping=!0),y.conditional_stack["$<<"](h(["target","skip","skipping"],{target:e,skip:v,skipping:y.skipping}))):_(_(s=y.skipping)?s:v)||(y.$replace_next_line(i.$rstrip()),y.$unshift(""),_(i["$start_with?"]("include::"))&&(y.look_ahead=n(y.look_ahead,1))),!0},E.$$arity=4),t.def(z,"$preprocess_include_directive",A=function($,c){var u,m,y,g,b,v,x,w,k,E=this,A=o,O=o,S=o,R=o,C=o,T=o,M=o,I=o,N=o,P=o,L=o,D=o,F=o,z=o,B=o,j=o,U=o,H=o,Y=o,G=o,W=o,V=o,K=o;if(A=E.document,_(_(u=(O=$)["$include?"](l(q,"ATTR_REF_HEAD")))?(O=A.$sub_attributes($,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():u))return E.$shift(),(_(u=A.$attributes()["$[]"]("attribute-missing"))?u:l(q,"Compliance").$attribute_missing())["$=="]("skip")&&E.$unshift("Unresolved directive in "+E.path+" - include::"+$+"["+c+"]"),!0;if(_(_(u=E["$include_processors?"]())?S=d(E.include_processor_extensions,"find",[],((m=function(t){return m.$$s,null==t&&(t=o),t.$instance()["$handles?"](O)}).$$s=E,m.$$arity=1,m)):u))return E.$shift(),S.$process_method()["$[]"](A,E,O,A.$parse_attributes(c,[],h(["sub_input"],{sub_input:!0}))),!0;if(_(s(A.$safe(),a(l(q,"SafeMode"),"SECURE"))))return E.$replace_next_line("link:"+O+"[]");if(_(r(R=E.maxdepth["$[]"]("abs"),0))){if(_(s(E.include_stack.$size(),R)))return E.$logger().$error(E.$message_with_context("maximum include depth of "+E.maxdepth["$[]"]("rel")+" exceeded",h(["source_location"],{source_location:E.$cursor()}))),o;if(C=A.$parse_attributes(c,[],h(["sub_input"],{sub_input:!0})),y=E.$resolve_include_path(O,c,C),u=t.to_ary(y),T=null==u[0]?o:u[0],M=null==u[1]?o:u[1],I=null==u[2]?o:u[2],!_(M))return T;if(N=P=o,_(c)&&(_(C["$key?"]("lines"))?(N=[],d(E.$split_delimited_value(C["$[]"]("lines")),"each",[],((g=function(r){g.$$s;var n,s,$,l,c=o,u=o;return null==r&&(r=o),_(r["$include?"](".."))?(s=r.$split("..",2),n=t.to_ary(s),c=null==n[0]?o:n[0],u=null==n[1]?o:n[1],N=e(N,_(_(n=u["$empty?"]())?n:i(u=u.$to_i(),0))?[c.$to_i(),($=1,l=0,"number"==typeof $&&"number"==typeof l?$/l:$["$/"](l))]:a("::","Range").$new(c.$to_i(),u).$to_a())):N["$<<"](r.$to_i())}).$$s=E,g.$$arity=1,g)),N=_(N["$empty?"]())?o:N.$sort().$uniq()):_(C["$key?"]("tag"))?_(_(u=(L=C["$[]"]("tag"))["$empty?"]())?u:L["$=="]("!"))||(P=_(L["$start_with?"]("!"))?p(L.$slice(1,L.$length()),!1):p(L,!0)):_(C["$key?"]("tags"))&&(P=h([],{}),d(E.$split_delimited_value(C["$[]"]("tags")),"each",[],((b=function(e){b.$$s;var r,i=o;return null==e&&(e=o),_(_(r=e["$empty?"]())?r:e["$=="]("!"))?o:_(e["$start_with?"]("!"))?(i=[e.$slice(1,e.$length()),!1],d(P,"[]=",t.to_a(i)),i[n(i.length,1)]):(i=[e,!0],d(P,"[]=",t.to_a(i)),i[n(i.length,1)])}).$$s=E,b.$$arity=1,b)),_(P["$empty?"]())&&(P=o))),_(N)){D=(u=[[],o,0])[0],F=u[1],z=u[2];try{!function(){var r=t.new_brk();try{d(E,"open",[T,"rb"],((v=function(r){var n,i=v.$$s||this,s=o;return null==r&&(r=o),s=o,function(){var $=t.new_brk();try{return d(r,"each_line",[],((n=function(r){n.$$s;var i,l,c=o;return null==r&&(r=o),z=e(z,1),_(_(i=s)?i:_(l=a("::","Float")["$==="](c=N["$[]"](0)))?s=c["$infinite?"]():l)?(F=_(i=F)?i:z,D["$<<"](r)):(c["$=="](z)&&(F=_(i=F)?i:z,D["$<<"](r),N.$shift()),_(N["$empty?"]())?void t.brk(o,$):o)}).$$s=i,n.$$brk=$,n.$$arity=1,n))}catch(t){if(t===$)return t.$v;throw t}}()}).$$s=E,v.$$brk=r,v.$$arity=1,v))}catch(t){if(t===r)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[l(q,"StandardError")]))throw e;try{return E.$logger().$error(E.$message_with_context("include "+M+" not readable: "+T,h(["source_location"],{source_location:E.$cursor()}))),E.$replace_next_line("Unresolved directive in "+E.path+" - include::"+O+"["+c+"]")}finally{t.pop_exception()}}E.$shift(),_(F)&&(B=["partial-option",!0],d(C,"[]=",t.to_a(B)),B[n(B.length,1)],E.$push_include(D,T,I,F,C))}else if(_(P)){u=[[],o,0,[],a("::","Set").$new(),o],D=u[0],F=u[1],z=u[2],j=u[3],U=u[4],H=u[5],_(P["$key?"]("**"))?_(P["$key?"]("*"))?(Y=G=P.$delete("**"),W=P.$delete("*")):Y=G=W=P.$delete("**"):(Y=G=P["$value?"](!0)["$!"](),W=P.$delete("*"));try{d(E,"open",[T,"rb"],((x=function(r){var n,i,s=x.$$s||this,$=o,c=o,u=o;return null==r&&(r=o),$=(n=["::","[]"])[0],c=n[1],_(l(q,"COERCE_ENCODING"))&&(u=a(a("::","Encoding"),"UTF_8")),d(r,"each_line",[],((i=function(r){var n,s,a,p=i.$$s||this,m=o,y=o,g=o;return null==r&&(r=o),z=e(z,1),_(u)&&r.$force_encoding(u),_(_(n=_(s=r["$include?"]($))?r["$include?"](c):s)?l(q,"TagDirectiveRx")["$=~"](r):n)?_((n=f["~"])===o?o:n["$[]"](1))?(m=(n=f["~"])===o?o:n["$[]"](2))["$=="](H)?(j.$pop(),s=_(j["$empty?"]())?[o,G]:j["$[]"](-1),n=t.to_ary(s),H=null==n[0]?o:n[0],Y=null==n[1]?o:n[1],s):_(P["$key?"](m))?(y=p.$create_include_cursor(T,O,z),_(g=d(j,"rindex",[],((a=function(t,e){return a.$$s,null==t&&(t=o),null==e&&(e=o),t["$=="](m)}).$$s=p,a.$$arity=2,a)))?(g["$=="](0)?j.$shift():j.$delete_at(g),p.$logger().$warn(p.$message_with_context("mismatched end tag (expected '"+H+"' but found '"+m+"') at line "+z+" of include "+M+": "+T,h(["source_location","include_location"],{source_location:p.$cursor(),include_location:y})))):p.$logger().$warn(p.$message_with_context("unexpected end tag '"+m+"' at line "+z+" of include "+M+": "+T,h(["source_location","include_location"],{source_location:p.$cursor(),include_location:y})))):o:_(P["$key?"](m=(n=f["~"])===o?o:n["$[]"](2)))?(U["$<<"](m),j["$<<"]([H=m,Y=P["$[]"](m),z])):_(W["$nil?"]()["$!"]())?(Y=!_(_(n=H)?Y["$!"]():n)&&W,j["$<<"]([H=m,Y,z])):o:_(Y)?(F=_(n=F)?n:z,D["$<<"](r)):o}).$$s=s,i.$$arity=1,i))}).$$s=E,x.$$arity=1,x))}catch(e){if(!t.rescue(e,[l(q,"StandardError")]))throw e;try{return E.$logger().$error(E.$message_with_context("include "+M+" not readable: "+T,h(["source_location"],{source_location:E.$cursor()}))),E.$replace_next_line("Unresolved directive in "+E.path+" - include::"+O+"["+c+"]")}finally{t.pop_exception()}}_(j["$empty?"]())||d(j,"each",[],((w=function(t,e,r){var n=w.$$s||this;return null==t&&(t=o),null==e&&(e=o),null==r&&(r=o),n.$logger().$warn(n.$message_with_context("detected unclosed tag '"+t+"' starting at line "+r+" of include "+M+": "+T,h(["source_location","include_location"],{source_location:n.$cursor(),include_location:n.$create_include_cursor(T,O,r)})))}).$$s=E,w.$$arity=3,w)),_((V=n(P.$keys().$to_a(),U.$to_a()))["$empty?"]())||E.$logger().$warn(E.$message_with_context("tag"+(_(r(V.$size(),1))?"s":"")+" '"+V.$join(", ")+"' not found in include "+M+": "+T,h(["source_location"],{source_location:E.$cursor()}))),E.$shift(),_(F)&&(_(_(u=_(y=G)?W:y)?P["$empty?"]():u)||(B=["partial-option",!0],d(C,"[]=",t.to_a(B)),B[n(B.length,1)]),E.$push_include(D,T,I,F,C))}else try{K=d(E,"open",[T,"rb"],((k=function(t){return k.$$s,null==t&&(t=o),t.$read()}).$$s=E,k.$$arity=1,k)),E.$shift(),E.$push_include(K,T,I,1,C)}catch(e){if(!t.rescue(e,[l(q,"StandardError")]))throw e;try{return E.$logger().$error(E.$message_with_context("include "+M+" not readable: "+T,h(["source_location"],{source_location:E.$cursor()}))),E.$replace_next_line("Unresolved directive in "+E.path+" - include::"+O+"["+c+"]")}finally{t.pop_exception()}}return!0}return o},A.$$arity=2),t.def(z,"$resolve_include_path",O=function(t,e,r){var n,i,s=this,$=o,c=o,u=o;return $=s.document,_(_(n=l(q,"Helpers")["$uriish?"](t))?n:_(a("::","String")["$==="](s.dir))?o:t=s.dir+"/"+t)?_($["$attr?"]("allow-uri-read"))?(_($["$attr?"]("cache-uri"))?_((i=a("::","OpenURI","skip_raise"))&&(n=a(i,"Cache","skip_raise"))?"constant":o)||l(q,"Helpers").$require_library("open-uri/cached","open-uri-cached"):_(a("::","RUBY_ENGINE_OPAL")["$!"]())&&a("::","OpenURI"),[a("::","URI").$parse(t),"uri",t]):s.$replace_next_line("link:"+t+"["+e+"]"):(c=$.$normalize_system_path(t,s.dir,o,h(["target_name"],{target_name:"include file"})),_(a("::","File")["$file?"](c))?(u=$.$path_resolver().$relative_path(c,$.$base_dir()),[c,"file",u]):_(r["$key?"]("optional-option"))?(s.$shift(),!0):(s.$logger().$error(s.$message_with_context("include file not found: "+c,h(["source_location"],{source_location:s.$cursor()}))),s.$replace_next_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]")))},O.$$arity=3),t.def(z,"$push_include",S=function(r,i,s,$,c){var u,f,p,m=o,y=o,g=o,b=o;return null==i&&(i=o),null==s&&(s=o),null==$&&($=1),null==c&&(c=h([],{})),this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]),_(this.file=i)?(_(a("::","String")["$==="](i))?this.dir=a("::","File").$dirname(i):_(a("::","RUBY_ENGINE_OPAL"))?this.dir=a("::","URI").$parse(a("::","File").$dirname(i=i.$to_s())):(m=[(y=a("::","File").$dirname(i.$path()))["$=="]("/")?"":y],d(this.dir=i.$dup(),"path=",t.to_a(m)),m[n(m.length,1)],i=i.$to_s()),s=_(u=s)?u:a("::","File").$basename(i),this.process_lines=l(q,"ASCIIDOC_EXTENSIONS")["$[]"](a("::","File").$extname(i))):(this.dir=".",this.process_lines=!0),_(s)?(this.path=s,_(this.process_lines)&&(m=[l(q,"Helpers").$rootname(s),!_(c["$[]"]("partial-option"))||o],d(this.includes,"[]=",t.to_a(m)),m[n(m.length,1)])):this.path="<stdin>",this.lineno=$,_(c["$key?"]("depth"))&&(g=c["$[]"]("depth").$to_i(),_((p=0,"number"==typeof(f=g)&&"number"==typeof p?f<=p:f["$<="](p)))&&(g=1),this.maxdepth=h(["abs","rel"],{abs:e(n(this.include_stack.$size(),1),g),rel:g})),_((this.lines=this.$prepare_lines(r,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:c["$[]"]("indent")})))["$empty?"]())?this.$pop_include():(_(c["$key?"]("leveloffset"))&&(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+c["$[]"]("leveloffset")),this.lines["$<<"](""),_(b=this.document.$attr("leveloffset"))?this.lines["$<<"](":leveloffset: "+b):this.lines["$<<"](":leveloffset!:"),this.lineno=n(this.lineno,2)),this.look_ahead=0),this},S.$$arity=-2),t.def(z,"$create_include_cursor",R=function(t,e,r){var n=o;return _(a("::","String")["$==="](t))?n=a("::","File").$dirname(t):_(a("::","RUBY_ENGINE_OPAL"))?n=a("::","File").$dirname(t=t.$to_s()):(n=(n=a("::","File").$dirname(t.$path()))["$=="]("")?"/":n,t=t.$to_s()),l(q,"Cursor").$new(t,n,e,r)},R.$$arity=3),t.def(z,"$pop_include",C=function(){var e,n;return _(r(this.include_stack.$size(),0))?(n=this.include_stack.$pop(),e=t.to_ary(n),this.lines=null==e[0]?o:e[0],this.file=null==e[1]?o:e[1],this.dir=null==e[2]?o:e[2],this.path=null==e[3]?o:e[3],this.lineno=null==e[4]?o:e[4],this.maxdepth=null==e[5]?o:e[5],this.process_lines=null==e[6]?o:e[6],this.look_ahead=0,o):o},C.$$arity=0),t.def(z,"$include_depth",T=function(){return this.include_stack.$size()},T.$$arity=0),t.def(z,"$exceeded_max_depth?",M=function(){var t,e=o;return!!_(_(t=r(e=this.maxdepth["$[]"]("abs"),0))?s(this.include_stack.$size(),e):t)&&this.maxdepth["$[]"]("rel")},M.$$arity=0),t.def(z,"$shift",I=function(){var e=I.$$p,r=o,n=o,i=o,s=o;for(e&&(I.$$p=null),i=0,s=arguments.length,n=new Array(s);i<s;i++)n[i]=arguments[i];return _(this.unescape_next_line)?(this.unescape_next_line=!1,(r=d(this,t.find_super_dispatcher(this,"shift",I,!1),n,e)).$slice(1,r.$length())):d(this,t.find_super_dispatcher(this,"shift",I,!1),n,e)},I.$$arity=0),t.def(z,"$split_delimited_value",N=function(t){return _(t["$include?"](","))?t.$split(","):t.$split(";")},N.$$arity=1),t.def(z,"$skip_front_matter!",P=function(r,n){var i,s=o,$=o;if(null==n&&(n=!0),s=o,r["$[]"](0)["$=="]("---")){for($=r.$drop(0),r.$shift(),s=[],_(n)&&(this.lineno=e(this.lineno,1));_(_(i=r["$empty?"]()["$!"]())?r["$[]"](0)["$!="]("---"):i);)s["$<<"](r.$shift()),_(n)&&(this.lineno=e(this.lineno,1));_(r["$empty?"]())?(d(r,"unshift",t.to_a($)),_(n)&&(this.lineno=0),s=o):(r.$shift(),_(n)&&(this.lineno=e(this.lineno,1)))}return s},P.$$arity=-2),t.def(z,"$resolve_expr_val",L=function(t){var e,r,i=o;return _(_(e=_(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:_(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(i=!0,t=t.$slice(1,n(t.$length(),1))):i=!1,_(t["$include?"](l(q,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,h(["attribute_missing"],{attribute_missing:"drop"}))),_(i)?t:_(t["$empty?"]())?o:!!t["$=="]("true")||!t["$=="]("false")&&(_(t.$rstrip()["$empty?"]())?" ":_(t["$include?"]("."))?t.$to_f():t.$to_i())},L.$$arity=1),t.def(z,"$include_processors?",D=function(){var t;return _(this.include_processor_extensions["$nil?"]())?_(_(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},D.$$arity=0),t.def(z,"$to_s",F=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+d(this.include_stack,"map",[],(t=function(e){return t.$$s,null==e&&(e=o),e.$to_s()},t.$$s=this,t.$$arity=1,t)).$join(", ")+"]}>"},F.$$arity=0)}(b[0],l(b,"Reader"),b)}($[0],$)},i.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module),$=t.klass,o=t.hash2,a=t.send,l=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$==","$>","$sectnum","$int_to_roman","$to_i","$reftext","$!","$empty?","$sprintf","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),function(r,c){function u(){}var h=u=s(r,"Asciidoctor",u),_=(h.prototype,[h].concat(c));!function(r,s,c){function u(){}var h,_,d,f,p,m,y,g=u=$(r,s,"Section",u),b=g.prototype,v=[g].concat(c);b.document=b.level=b.numeral=b.parent=b.numbered=b.sectname=b.title=b.blocks=n,g.$attr_accessor("index"),g.$attr_accessor("sectname"),g.$attr_accessor("special"),g.$attr_accessor("numbered"),g.$attr_reader("caption"),t.def(g,"$initialize",h=function(r,s,$,c){var u,_,d=h.$$p;return d&&(h.$$p=null),null==r&&(r=n),null==s&&(s=n),null==$&&($=!1),null==c&&(c=o([],{})),a(this,t.find_super_dispatcher(this,"initialize",h,!1),[r,"section",c],null),l(i(v,"Section")["$==="](r))?(u=[l(_=s)?_:e(r.$level(),1),r.$special()],this.level=u[0],this.special=u[1]):(u=[l(_=s)?_:1,!1],this.level=u[0],this.special=u[1]),this.numbered=$,this.index=0},h.$$arity=-1),t.alias(g,"name","title"),t.def(g,"$generate_id",_=function(){return i(v,"Section").$generate_id(this.$title(),this.document)},_.$$arity=0),t.def(g,"$sectnum",d=function(t,e){var r,s,$;return null==t&&(t="."),null==e&&(e=n),e=l(r=e)?r:e["$=="](!1)?"":t,this.level["$=="](1)?""+this.numeral+e:l((s=this.level,$=1,"number"==typeof s&&"number"==typeof $?s>$:s["$>"]($)))?l(i(v,"Section")["$==="](this.parent))?""+this.parent.$sectnum(t,t)+this.numeral+e:""+this.numeral+e:""+i(v,"Helpers").$int_to_roman(this.numeral.$to_i())+e},d.$$arity=-1),t.def(g,"$xreftext",f=function(t){var e,r=this,i=n,s=n,$=n,o=n,a=n;return null==t&&(t=n),l(l(e=i=r.$reftext())?i["$empty?"]()["$!"]():e)?i:l(t)?l(r.numbered)?"full"["$==="](s=t)?(o=l(l(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$sprintf(r.$sub_quotes(l(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),l(a=r.document.$attributes()["$[]"]($+"-refsig"))?a+" "+r.$sectnum(".",",")+" "+o:r.$sectnum(".",",")+" "+o):"short"["$==="](s)?l(a=r.document.$attributes()["$[]"](r.sectname+"-refsig"))?a+" "+r.$sectnum(".",""):r.$sectnum(".",""):l(l(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():l(l(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title()},f.$$arity=-1),t.def(g,"$<<",p=function(e){var r=p.$$p,i=n,s=n,$=n;for(r&&(p.$$p=null),s=0,$=arguments.length,i=new Array($);s<$;s++)i[s]=arguments[s];return e.$context()["$=="]("section")&&this.$assign_numeral(e),a(this,t.find_super_dispatcher(this,"<<",p,!1),i,r)},p.$$arity=1),t.def(g,"$to_s",m=function(){var e=m.$$p,r=this,i=n,s=n,$=n,o=n;for(e&&(m.$$p=null),$=0,o=arguments.length,s=new Array(o);$<o;$++)s[$]=arguments[$];return l(r.title)?(i=l(r.numbered)?r.$sectnum()+" "+r.title:r.title,"#<"+r.$class()+"@"+r.$object_id()+" {level: "+r.level+", title: "+i.$inspect()+", blocks: "+r.blocks.$size()+"}>"):a(r,t.find_super_dispatcher(r,"to_s",m,!1),s,e)},m.$$arity=0),t.defs(g,"$generate_id",y=function(r,s){var $,o,c,u,h=n,_=n,d=n,f=n,p=n,m=n,y=n,g=n,b=n,x=n;if(h=s.$attributes(),_=l($=h["$[]"]("idprefix"))?$:"_",l(d=h["$[]"]("idseparator"))?l(l($=d.$length()["$=="](1))?$:l(o=(f=d["$empty?"]())["$!"]())?(p=["idseparator",d.$chr()],a(h,"[]=",t.to_a(p)),d=p[(c=p.length,u=1,"number"==typeof c&&"number"==typeof u?c-u:c["$-"](u))]):o)&&(m=l(l($=d["$=="]("-"))?$:d["$=="]("."))?" .-":" "+d+".-"):(d=($=["_"," _.-"])[0],m=$[1]),y=""+_+r.$downcase().$gsub(i(v,"InvalidSectionIdCharsRx"),""),l(f)?y=y.$delete(" "):(y=y.$tr_s(m,d),l(y["$end_with?"](d))&&(y=y.$chop()),l(l($=_["$empty?"]())?y["$start_with?"](d):$)&&(y=y.$slice(1,y.$length()))),l(s.$catalog()["$[]"]("ids")["$key?"](y))){for($=[s.$catalog()["$[]"]("ids"),i(v,"Compliance").$unique_id_start_index()],g=$[0],b=$[1];l(g["$key?"](x=""+y+d+b));)b=e(b,1);return x}return y},y.$$arity=2)}(_[0],i(_,"AbstractBlock"),_)}(r[0],r)},i.modules["asciidoctor/stylesheets"]=function(t){t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,a=t.truthy,l=t.hash2,c=t.gvars,u=t.send;return t.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$=~","$css","$[]","$sub","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(r,h){function _(){}var d=_=$(r,"Asciidoctor",_),f=(d.prototype,[d].concat(h));!function(r,$,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R=_=o(r,null,"Stylesheets",_),C=R.prototype,T=[R].concat(h);C.primary_stylesheet_data=C.coderay_stylesheet_data=C.pygments_stylesheet_data=n,t.const_set(T[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(T[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(T[0],"STYLESHEETS_DATA_PATH",i("::","File").$join(s(T,"DATA_PATH"),"stylesheets")),t.const_set(T[0],"PygmentsBgColorRx",/^\.pygments +\{ *background: *([^;]+);/),R.__instance__=R.$new(),t.defs(R,"$instance",d=function(){return null==this.__instance__&&(this.__instance__=n),this.__instance__},d.$$arity=0),t.def(R,"$primary_stylesheet_name",f=function(){return s(T,"DEFAULT_STYLESHEET_NAME")},f.$$arity=0),t.def(R,"$primary_stylesheet_data",p=function(){var r,i=t.const_get_relative([],"File");return r=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===i.$basename(e)&&"dist"===i.$basename(i.$dirname(e))?i.$join(i.$dirname(e),"css"):i.$join(e,"css"):t.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===i.$basename(__DIR__)&&"dist"===i.$basename(i.$dirname(__DIR__))?i.$join(i.$dirname(__DIR__),"css"):i.$join(__DIR__,"css"):"css",!1!==($a=R.primary_stylesheet_data)&&$a!==n&&null!=$a?$a:R.primary_stylesheet_data=t.const_get_relative([],"IO").$read(i.$join(r,"asciidoctor.css")).$chomp()},p.$$arity=0),t.def(R,"$embed_primary_stylesheet",m=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},m.$$arity=0),t.def(R,"$write_primary_stylesheet",y=function(t){return null==t&&(t="."),i("::","IO").$write(i("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},y.$$arity=-1),t.def(R,"$coderay_stylesheet_name",g=function(){return"coderay-asciidoctor.css"},g.$$arity=0),t.def(R,"$coderay_stylesheet_data",b=function(){var t;return this.coderay_stylesheet_data=a(t=this.coderay_stylesheet_data)?t:i("::","IO").$read(i("::","File").$join(s(T,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$rstrip()},b.$$arity=0),t.def(R,"$embed_coderay_stylesheet",v=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},v.$$arity=0),t.def(R,"$write_coderay_stylesheet",x=function(t){return null==t&&(t="."),i("::","IO").$write(i("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},x.$$arity=-1),t.def(R,"$pygments_stylesheet_name",w=function(t){var e;return null==t&&(t=n),"pygments-"+(a(e=t)?e:s(T,"DEFAULT_PYGMENTS_STYLE"))+".css"},w.$$arity=-1),t.def(R,"$pygments_background",k=function(t){var e,r;return null==t&&(t=n),a(a(e=this.$load_pygments())?s(T,"PygmentsBgColorRx")["$=~"](i("::","Pygments").$css(".pygments",l(["style"],{style:a(r=t)?r:s(T,"DEFAULT_PYGMENTS_STYLE")}))):e)?(e=c["~"])===n?n:e["$[]"](1):n},k.$$arity=-1),t.def(R,"$pygments_stylesheet_data",E=function(e){var r,$,o,c,h=n;return null==e&&(e=n),a(this.$load_pygments())?(e=a(r=e)?r:s(T,"DEFAULT_PYGMENTS_STYLE"),a(r=(this.pygments_stylesheet_data=a($=this.pygments_stylesheet_data)?$:l([],{}))["$[]"](e))?r:(h=[e,(a($=i("::","Pygments").$css(".listingblock .pygments",l(["classprefix","style"],{classprefix:"tok-",style:e})))?$:"/* Failed to load Pygments CSS. */").$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],u(this.pygments_stylesheet_data=a($=this.pygments_stylesheet_data)?$:l([],{}),"[]=",t.to_a(h)),h[(o=h.length,c=1,"number"==typeof o&&"number"==typeof c?o-c:o["$-"](c))])):"/* Pygments CSS disabled. Pygments is not available. */"},E.$$arity=-1),t.def(R,"$embed_pygments_stylesheet",A=function(t){return null==t&&(t=n),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},A.$$arity=-1),t.def(R,"$write_pygments_stylesheet",O=function(t,e){return null==t&&(t="."),null==e&&(e=n),i("::","IO").$write(i("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e))},O.$$arity=-1),t.def(R,"$load_pygments",S=function(){return!!a(i("::","Pygments","skip_raise")?"constant":n)||s(T,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},S.$$arity=0)}(f[0],0,f)}(r[0],r)},i.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var o=[],a=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.module),h=t.klass,_=t.send,d=t.truthy,f=t.hash2,p=t.gvars;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$shift","$style=","$head=","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$delete","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$unshift","$nil?","$=~","$catalog_inline_anchor","$apply_subs","$convert","$map","$text","$!","$file","$lineno","$to_s","$include","$to_set","$mark","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),function(o,m){function y(){}var g=y=u(o,"Asciidoctor",y),b=(g.prototype,[g].concat(m));!function(o,l,u){function p(){}var m,y,g,b,v,x=p=h(o,l,"Table",p),w=x.prototype,k=[x].concat(u);w.attributes=w.document=w.has_header_option=w.rows=w.columns=a,t.const_set(k[0],"DEFAULT_PRECISION_FACTOR",1e4),function(e,r,n){function i(){}var s,$,o=i=h(e,null,"Rows",i),l=o.prototype;[o].concat(n),l.head=l.body=l.foot=a,o.$attr_accessor("head","foot","body"),t.def(o,"$initialize",s=function(t,e,r){return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),this.head=t,this.foot=e,this.body=r},s.$$arity=-1),t.alias(o,"[]","send"),t.def(o,"$by_section",$=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},$.$$arity=0)}(k[0],0,k),x.$attr_accessor("columns"),x.$attr_accessor("rows"),x.$attr_accessor("has_header_option"),x.$attr_reader("caption"),t.def(x,"$initialize",m=function($,o){var l,u,h=m.$$p,f=a,p=a,y=a;return h&&(m.$$p=null),_(this,t.find_super_dispatcher(this,"initialize",m,!1),[$,"table"],null),this.rows=c(k,"Rows").$new(),this.columns=[],this.has_header_option=o["$key?"]("header-option"),d(f=o["$[]"]("width"))?d(d(l=e(p=f.$to_i(),100))?l:r(p,1))&&(d((l=p["$=="](0))?d(u=f["$=="]("0"))?u:f["$=="]("0%"):p["$=="](0))||(p=100)):p=100,y=["tablepcwidth",p],_(this.attributes,"[]=",t.to_a(y)),y[n(y.length,1)],d(this.document.$attributes()["$key?"]("pagewidth"))&&(d(l=this.attributes["$[]"]("tableabswidth"))||(y=["tableabswidth",i(s(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],_(this.attributes,"[]=",t.to_a(y)),y[n(y.length,1)])),d(o["$key?"]("rotate-option"))?(y=["orientation","landscape"],_(o,"[]=",t.to_a(y)),y[n(y.length,1)]):a},m.$$arity=2),t.def(x,"$header_row?",y=function(){var t;return d(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},y.$$arity=0),t.def(x,"$create_columns",g=function(i){var s,o,l=a,u=a,h=a,f=a,p=a;return l=[],u=a,h=0,_(i,"each",[],((s=function(t){var e,n=s.$$s||this,i=a;return null==t&&(t=a),i=t["$[]"]("width"),l["$<<"](c(k,"Column").$new(n,l.$size(),t)),d(r(i,0))?(u=d(e=u)?e:[])["$<<"](l["$[]"](-1)):h=$(h,i)}).$$s=this,s.$$arity=1,s)),d(e(f=(this.columns=l).$size(),0))&&(p=["colcount",f],_(this.attributes,"[]=",t.to_a(p)),p[n(p.length,1)],d(d(o=e(h,0))?o:u)||(h=a),this.$assign_column_widths(h,u)),a},g.$$arity=1),t.def(x,"$assign_column_widths",b=function(t,r){var o,l,u,h=a,p=a,m=a,y=a,g=a;return null==t&&(t=a),null==r&&(r=a),h=c(k,"DEFAULT_PRECISION_FACTOR"),p=m=0,d(t)?(d(r)&&(d(e(t,100))?(y=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):((y=s(i(s(n(100,t),r.$size()),h).$to_i(),h)).$to_i()["$=="](y)&&(y=y.$to_i()),t=100),g=f(["width","autowidth-option"],{width:y,"autowidth-option":""}),_(r,"each",[],((o=function(t){return o.$$s,null==t&&(t=a),t.$update_attributes(g)}).$$s=this,o.$$arity=1,o))),_(this.columns,"each",[],((l=function(e){return l.$$s,null==e&&(e=a),p=$(p,m=e.$assign_width(a,t,h))}).$$s=this,l.$$arity=1,l))):((m=s(s(i(100,h),this.columns.$size()).$to_i(),h)).$to_i()["$=="](m)&&(m=m.$to_i()),_(this.columns,"each",[],((u=function(t){return u.$$s,null==t&&(t=a),p=$(p,t.$assign_width(m))}).$$s=this,u.$$arity=1,u))),p["$=="](100)||this.columns["$[]"](-1).$assign_width(s(i($(n(100,p),m),h).$round(),h)),a},b.$$arity=-1),t.def(x,"$partition_header_footer",v=function(r){var i,s,$=a,o=a,l=a;return $=["rowcount",this.rows.$body().$size()],_(this.attributes,"[]=",t.to_a($)),$[n($.length,1)],o=this.rows.$body().$size(),d(d(i=e(o,0))?this.has_header_option:i)&&(l=this.rows.$body().$shift(),o=n(o,1),_(l,"each",[],((s=function(e){return s.$$s,null==e&&(e=a),$=[a],_(e,"style=",t.to_a($)),$[n($.length,1)]}).$$s=this,s.$$arity=1,s)),$=[[l]],_(this.rows,"head=",t.to_a($)),$[n($.length,1)]),d(d(i=e(o,0))?r["$key?"]("footer-option"):i)&&($=[[this.rows.$body().$pop()]],_(this.rows,"foot=",t.to_a($)),$[n($.length,1)]),a},v.$$arity=1)}(b[0],c(b,"AbstractBlock"),b),function(e,r,o){function l(){}var c,u,p=l=h(e,r,"Column",l),m=p.prototype;[p].concat(o),m.attributes=a,p.$attr_accessor("style"),t.def(p,"$initialize",c=function(e,r,i){var s=c.$$p,o=a;return s&&(c.$$p=null),null==i&&(i=f([],{})),_(this,t.find_super_dispatcher(this,"initialize",c,!1),[e,"column"],null),this.style=i["$[]"]("style"),o=["colnumber",$(r,1)],_(i,"[]=",t.to_a(o)),o[n(o.length,1)],d(i["$[]"]("width"))||(o=["width",1],_(i,"[]=",t.to_a(o)),o[n(o.length,1)]),d(i["$[]"]("halign"))||(o=["halign","left"],_(i,"[]=",t.to_a(o)),o[n(o.length,1)]),d(i["$[]"]("valign"))||(o=["valign","top"],_(i,"[]=",t.to_a(o)),o[n(o.length,1)]),this.$update_attributes(i)},c.$$arity=-3),t.alias(p,"table","parent"),t.def(p,"$assign_width",u=function(e,r,$){var o=a;return null==r&&(r=a),null==$&&($=1e4),d(r)&&(e=s(i(i(s(this.attributes["$[]"]("width").$to_f(),r),100),$).$to_i(),$)).$to_i()["$=="](e)&&(e=e.$to_i()),o=["colpcwidth",e],_(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)],d(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(o=["colabswidth",i(s(e,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],_(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)]),e},u.$$arity=-2)}(c(b,"Table"),c(b,"AbstractNode"),b),function(e,i,s){function o(){}var l,u,m,y,g,b,v,x=o=h(e,i,"Cell",o),w=x.prototype,k=[x].concat(s);w.document=w.text=w.subs=w.style=w.inner_document=w.source_location=w.colspan=w.rowspan=w.attributes=a,x.$attr_reader("source_location"),x.$attr_accessor("style"),x.$attr_accessor("subs"),x.$attr_accessor("colspan"),x.$attr_accessor("rowspan"),t.alias(x,"column","parent"),x.$attr_reader("inner_document"),t.def(x,"$initialize",l=function(e,i,s,o){var u,h,m=l.$$p,y=a,g=a,b=a,v=a,x=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a;if(m&&(l.$$p=null),null==s&&(s=f([],{})),null==o&&(o=f([],{})),_(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"cell"],null),d(this.document.$sourcemap())&&(this.source_location=o["$[]"]("cursor").$dup()),d(e)&&(d(y=e.$table()["$header_row?"]())||(g=e.$attributes()["$[]"]("style")),this.$update_attributes(e.$attributes())),d(s))if(d(s["$empty?"]())?this.colspan=this.rowspan=a:(u=[s.$delete("colspan"),s.$delete("rowspan")],this.colspan=u[0],this.rowspan=u[1],d(y)||(g=d(u=s["$[]"]("style"))?u:g),this.$update_attributes(s)),g["$=="]("asciidoc"))if(b=!0,v=o["$[]"]("cursor"),d((i=i.$rstrip())["$start_with?"](c(k,"LF")))){for(x=1;d((i=i.$slice(1,i.$length()))["$start_with?"](c(k,"LF")));)x=$(x,1);v.$advance(x)}else i=i.$lstrip();else if(d(d(u=w=g["$=="]("literal"))?u:g["$=="]("verse")))for(i=i.$rstrip();d(i["$start_with?"](c(k,"LF")));)i=i.$slice(1,i.$length());else E=!0,i=d(i)?i.$strip():"";else this.colspan=this.rowspan=a,g["$=="]("asciidoc")&&(b=!0,v=o["$[]"]("cursor"));return d(b)?(A=this.document.$attributes().$delete("doctitle"),O=i.$split(c(k,"LF"),-1),d(O["$empty?"]())||d((S=O["$[]"](0))["$include?"]("::"))&&(R=c(k,"PreprocessorReader").$new(this.document,[S]).$readlines(),d((u=S["$=="](R["$[]"](0)))?r(R.$size(),2):S["$=="](R["$[]"](0)))||(O.$shift(),d(R["$empty?"]())||_(O,"unshift",t.to_a(R)))),this.inner_document=c(k,"Document").$new(O,f(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:v})),d(A["$nil?"]())||(C=["doctitle",A],_(this.document.$attributes(),"[]=",t.to_a(C)),C[n(C.length,1)]),this.subs=a):d(w)?this.subs=c(k,"BASIC_SUBS"):(d(d(u=d(h=E)?i["$start_with?"]("[["):h)?c(k,"LeadingInlineAnchorRx")["$=~"](i):u)&&c(k,"Parser").$catalog_inline_anchor((u=p["~"])===a?a:u["$[]"](1),(u=p["~"])===a?a:u["$[]"](2),this,o["$[]"]("cursor"),this.document),this.subs=c(k,"NORMAL_SUBS")),this.text=i,this.style=g},l.$$arity=-3),t.def(x,"$text",u=function(){return this.$apply_subs(this.text,this.subs)},u.$$arity=0),t.def(x,"$text=",m=function(t){return this.text=t},m.$$arity=1),t.def(x,"$content",y=function(){var t;return this.style["$=="]("asciidoc")?this.inner_document.$convert():_(this.$text().$split(c(k,"BlankLineRx")),"map",[],((t=function(e){var r,n=t.$$s||this;return null==n.style&&(n.style=a),null==e&&(e=a),d(d(r=n.style["$!"]())?r:n.style["$=="]("header"))?e:c(k,"Inline").$new(n.$parent(),"quoted",e,f(["type"],{type:n.style})).$convert()}).$$s=this,t.$$arity=1,t))},y.$$arity=0),t.def(x,"$file",g=function(){var t;return d(t=this.source_location)?this.source_location.$file():t},g.$$arity=0),t.def(x,"$lineno",b=function(){var t;return d(t=this.source_location)?this.source_location.$lineno():t},b.$$arity=0),t.def(x,"$to_s",v=function(){var e,r=v.$$p,n=a,i=a,s=a;for(r&&(v.$$p=null),i=0,s=arguments.length,n=new Array(s);i<s;i++)n[i]=arguments[i];return _(this,t.find_super_dispatcher(this,"to_s",v,!1),n,r).$to_s()+" - [text: "+this.text+", colspan: "+(d(e=this.colspan)?e:1)+", rowspan: "+(d(e=this.rowspan)?e:1)+", attributes: "+this.attributes+"]"},v.$$arity=0)}(c(b,"Table"),c(b,"AbstractNode"),b),function(r,i,s){function o(){}var u,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N=o=h(r,null,"ParserContext",o),P=N.prototype,L=[N].concat(s);P.delimiter=P.delimiter_re=P.buffer=P.cellspecs=P.cell_open=P.format=P.start_cursor_data=P.reader=P.table=P.current_row=P.colcount=P.column_visits=P.active_rowspans=P.linenum=a,N.$include(c(L,"Logging")),t.const_set(L[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(L[0],"DELIMITERS",f(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),N.$attr_accessor("table"),N.$attr_accessor("format"),N.$attr_reader("colcount"),N.$attr_accessor("buffer"),N.$attr_reader("delimiter"),N.$attr_reader("delimiter_re"),t.def(N,"$initialize",u=function(e,r,n){var i,s,$=a,o=a;return null==n&&(n=f([],{})),this.start_cursor_data=(this.reader=e).$mark(),this.table=r,d(n["$key?"]("format"))?d(c(L,"FORMATS")["$include?"]($=n["$[]"]("format")))?$["$=="]("tsv")?this.format="csv":d((i=(this.format=$)["$=="]("psv"))?r.$document()["$nested?"]():(this.format=$)["$=="]("psv"))&&($="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+$,f(["source_location"],{source_location:e.$cursor_at_prev_line()}))),i=["psv",d(r.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],$=i[1]):(i=["psv",d(r.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],$=i[1]),d(n["$key?"]("separator"))?d((o=n["$[]"]("separator"))["$nil_or_empty?"]())?(s=c(L,"DELIMITERS")["$[]"]($),i=t.to_ary(s),this.delimiter=null==i[0]?a:i[0],this.delimiter_re=null==i[1]?a:i[1]):o["$=="]("\\t")?(s=c(L,"DELIMITERS")["$[]"]("tsv"),i=t.to_ary(s),this.delimiter=null==i[0]?a:i[0],this.delimiter_re=null==i[1]?a:i[1]):(i=[o,new RegExp(l("::","Regexp").$escape(o))],this.delimiter=i[0],this.delimiter_re=i[1]):(s=c(L,"DELIMITERS")["$[]"]($),i=t.to_ary(s),this.delimiter=null==i[0]?a:i[0],this.delimiter_re=null==i[1]?a:i[1]),this.colcount=d(r.$columns()["$empty?"]())?-1:r.$columns().$size(),this.buffer="",this.cellspecs=[],this.cell_open=!1,this.active_rowspans=[0],this.column_visits=0,this.current_row=[],this.linenum=-1},u.$$arity=-3),t.def(N,"$starts_with_delimiter?",p=function(t){return t["$start_with?"](this.delimiter)},p.$$arity=1),t.def(N,"$match_delimiter",m=function(t){return this.delimiter_re.$match(t)},m.$$arity=1),t.def(N,"$skip_past_delimiter",y=function(t){return this.buffer=""+this.buffer+t+this.delimiter,a},y.$$arity=1),t.def(N,"$skip_past_escaped_delimiter",g=function(t){return this.buffer=""+this.buffer+t.$chop()+this.delimiter,a},g.$$arity=1),t.def(N,"$buffer_has_unclosed_quotes?",b=function(t){var e,r,n=this,i=a,s=a;return null==t&&(t=a),!!(i=d(t)?$(n.buffer,t).$strip():n.buffer.$strip())["$=="]('"')||!!d(i["$start_with?"]('"'))&&(d(d(e=d(r=s=i["$end_with?"]('"'))?i["$end_with?"]('""'):r)?e:i["$start_with?"]('""'))?d(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:s["$!"]())},b.$$arity=-1),t.def(N,"$take_cellspec",v=function(){return this.cellspecs.$shift()},v.$$arity=0),t.def(N,"$push_cellspec",x=function(t){var e;return null==t&&(t=f([],{})),this.cellspecs["$<<"](d(e=t)?e:f([],{})),a},x.$$arity=-1),t.def(N,"$keep_cell_open",w=function(){return this.cell_open=!0,a},w.$$arity=0),t.def(N,"$mark_cell_closed",k=function(){return this.cell_open=!1,a},k.$$arity=0),t.def(N,"$cell_open?",E=function(){return this.cell_open},E.$$arity=0),t.def(N,"$cell_closed?",A=function(){return this.cell_open["$!"]()},A.$$arity=0),t.def(N,"$close_open_cell",O=function(t){return null==t&&(t=f([],{})),this.$push_cellspec(t),d(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),a},O.$$arity=-1),t.def(N,"$close_cell",S=function(r){try{var i,s,o=a,u=a,h=a;return null==r&&(r=!1),this.format["$=="]("psv")?(o=this.buffer,this.buffer="",d(u=this.$take_cellspec())?h=d(i=u.$delete("repeatcol"))?i:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",f(["source_location"],{source_location:_(l(c(L,"Reader"),"Cursor"),"new",t.to_a(this.start_cursor_data))}))),u=f([],{}),h=1)):(o=this.buffer.$strip(),this.buffer="",u=a,h=1,d(d(i=this.format["$=="]("csv")?o["$empty?"]()["$!"]():this.format["$=="]("csv"))?o["$include?"]('"'):i)&&(d(d(i=o["$start_with?"]('"'))?o["$end_with?"]('"'):i)?d(o=o.$slice(1,n(o.$length(),2)))?o=o.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",f(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),o=""):o=o.$squeeze('"'))),_(1,"upto",[h],((s=function(i){var p,m,y,g,b=s.$$s||this,v=a,x=a,w=a,k=a;return null==b.colcount&&(b.colcount=a),null==b.table&&(b.table=a),null==b.current_row&&(b.current_row=a),null==b.reader&&(b.reader=a),null==b.column_visits&&(b.column_visits=a),null==b.linenum&&(b.linenum=a),null==i&&(i=a),b.colcount["$=="](-1)?(b.table.$columns()["$<<"](v=l(c(L,"Table"),"Column").$new(b.table,n($(b.table.$columns().$size(),i),1))),d(d(p=d(m=u)?u["$key?"]("colspan"):m)?e(x=n(u["$[]"]("colspan").$to_i(),1),0):p)&&(w=b.table.$columns().$size(),_(x,"times",[],((y=function(t){var e=y.$$s||this;return null==e.table&&(e.table=a),null==t&&(t=a),e.table.$columns()["$<<"](l(c(L,"Table"),"Column").$new(e.table,$(w,t)))}).$$s=b,y.$$arity=1,y)))):d(v=b.table.$columns()["$[]"](b.current_row.$size()))||(b.$logger().$error(b.$message_with_context("dropping cell because it exceeds specified number of columns",f(["source_location"],{source_location:b.reader.$cursor_before_mark()}))),t.ret(a)),k=l(c(L,"Table"),"Cell").$new(v,o,u,f(["cursor"],{cursor:b.reader.$cursor_before_mark()})),b.reader.$mark(),d(d(p=k.$rowspan()["$!"]())?p:k.$rowspan()["$=="](1))||b.$activate_rowspan(k.$rowspan(),d(p=k.$colspan())?p:1),b.column_visits=$(b.column_visits,d(p=k.$colspan())?p:1),b.current_row["$<<"](k),d(d(p=b["$end_of_row?"]())?d(m=d(g=b.colcount["$!="](-1))?g:e(b.linenum,0))?m:d(g=r)?i["$=="](h):g:p)?b.$close_row():a}).$$s=this,s.$$arity=1,s)),this.cell_open=!1,a}catch(e){if(e===t.returner)return e.$v;throw e}},S.$$arity=-1),t.def(N,"$close_row",R=function(){var e=a;return this.table.$rows().$body()["$<<"](this.current_row),this.colcount["$=="](-1)&&(this.colcount=this.column_visits),this.column_visits=0,this.current_row=[],this.active_rowspans.$shift(),d(this.active_rowspans["$[]"](0))||(e=[0,0],_(this.active_rowspans,"[]=",t.to_a(e)),e[n(e.length,1)]),a},R.$$arity=0),t.def(N,"$activate_rowspan",C=function(e,r){var i;return _(1..$upto(n(e,1)),"each",[],((i=function(e){var s,o=i.$$s||this,l=a;return null==o.active_rowspans&&(o.active_rowspans=a),null==e&&(e=a),l=[e,$(d(s=o.active_rowspans["$[]"](e))?s:0,r)],_(o.active_rowspans,"[]=",t.to_a(l)),l[n(l.length,1)]}).$$s=this,i.$$arity=1,i)),a},C.$$arity=2),t.def(N,"$end_of_row?",T=function(){var t;return d(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},T.$$arity=0),t.def(N,"$effective_column_visits",M=function(){return $(this.column_visits,this.active_rowspans["$[]"](0))},M.$$arity=0),t.def(N,"$advance",I=function(){return this.linenum=$(this.linenum,1)},I.$$arity=0)}(c(b,"Table"),0,b)}(o[0],o)},i.modules["asciidoctor/converter/composite"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,s=(t.breaker,t.slice,t.module),$=t.klass,o=t.send,a=t.truthy,l=t.hash2;return t.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),function(e,c){function u(){}var h=u=s(e,"Asciidoctor",u),_=(h.prototype,[h].concat(c));!function(e,n,i){function s(){}var c,u,h,_,d=s=$(e,n,"CompositeConverter",s),f=d.prototype;[d].concat(i),f.converter_map=f.converters=r,d.$attr_reader("converters"),t.def(d,"$initialize",c=function(e,n){var i,s,$;return i=t.slice.call(arguments,1,arguments.length),s=i,this.backend=e,o(this.converters=s.$flatten().$compact(),"each",[],(($=function(t){var e=$.$$s||this;return null==t&&(t=r),a(t["$respond_to?"]("composed"))?t.$composed(e):r}).$$s=this,$.$$arity=1,$)),this.converter_map=l([],{})},c.$$arity=-2),t.def(d,"$convert",u=function(t,e,n){var i;return null==e&&(e=r),null==n&&(n=l([],{})),e=a(i=e)?i:t.$node_name(),this.$converter_for(e).$convert(t,e,n)},u.$$arity=-2),t.alias(d,"convert_with_options","convert"),t.def(d,"$converter_for",h=function(e){var n,i,s,$=r;return a(n=this.converter_map["$[]"](e))?n:($=[e,this.$find_converter(e)],o(this.converter_map,"[]=",t.to_a($)),$[(i=$.length,s=1,"number"==typeof i&&"number"==typeof s?i-s:i["$-"](s))])},h.$$arity=1),t.def(d,"$find_converter",_=function(e){try{var n;return o(this.converters,"each",[],((n=function(i){if(n.$$s,null==i&&(i=r),!a(i["$handles?"](e)))return r;t.ret(i)}).$$s=this,n.$$arity=1,n)),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},_.$$arity=1)}(i(_,"Converter"),n(i(_,"Converter"),"Base"),_)}(e[0],e)},i.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],$=t.nil,o=t.const_get_qualified,a=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.send,h=t.hash2,_=t.truthy,d=t.gvars;return t.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$attr?","$<<","$include?","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$join","$noheader","$outline","$generate_manname_section","$has_header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_quotes","$append_link_constraint_attrs","$pygments_background","$to_sym","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$type","$catalog","$xreftext","$target","$map","$chop","$upcase","$read_contents","$sub","$match"]),function(s,f){function p(){}var m=p=l(s,"Asciidoctor",p),y=(m.prototype,[m].concat(f));!function(s,l,f){function p(){}var m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at=p=c(s,l,"Html5Converter",p),lt=at.prototype,ct=[at].concat(f),ut=$;lt.xml_mode=lt.void_element_slash=lt.stylesheets=lt.pygments_bg=lt.refs=$,ut=[["","",!1]],u(t.const_set(ct[0],"QUOTE_TAGS",h(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a(ut)),ot=1,"number"==typeof($t=ut.length)&&"number"==typeof ot||$t["$-"](ot),t.const_set(ct[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/),t.const_set(ct[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),t.const_set(ct[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set(ct[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set(ct[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),t.def(at,"$initialize",m=function(t,e){var r=this;return null==e&&(e=h([],{})),r.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=_(r.xml_mode)?"/":$,r.stylesheets=a(ct,"Stylesheets").$instance()},m.$$arity=-2),t.def(at,"$document",y=function(t){var n,i,s,l,c,d=this,f=$,p=$,m=$,y=$,g=$,b=$,v=$,x=$,w=$,k=$,E=$,A=$,O=$,S=$,R=$,C=$,T=$,M=$,I=$,N=$,P=$,L=$,D=$,F=$,z=$,B=$;return f=d.void_element_slash,p="<br"+f+">",_((m=t.$attr("asset-uri-scheme","https"))["$empty?"]())||(m+=":"),y=m+"//cdnjs.cloudflare.com/ajax/libs",g=t["$attr?"]("linkcss"),b=["<!DOCTYPE html>"],v=_(t["$attr?"]("nolang"))?"":' lang="'+t.$attr("lang","en")+'"',b["$<<"]("<html"+(_(d.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+v+">"),b["$<<"]('<head>\n<meta charset="'+t.$attr("encoding","UTF-8")+'"'+f+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+f+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+f+'>\n<meta name="generator" content="Asciidoctor '+t.$attr("asciidoctor-version")+'"'+f+">"),_(t["$attr?"]("app-name"))&&b["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+f+">"),_(t["$attr?"]("description"))&&b["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+f+">"),_(t["$attr?"]("keywords"))&&b["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+f+">"),_(t["$attr?"]("authors"))&&b["$<<"]('<meta name="author" content="'+(_((x=t.$attr("authors"))["$include?"]("<"))?x.$gsub(a(ct,"XmlSanitizeRx"),""):x)+'"'+f+">"),_(t["$attr?"]("copyright"))&&b["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+f+">"),_(t["$attr?"]("favicon"))&&(_((w=t.$attr("favicon"))["$empty?"]())?(w=(n=["favicon.ico","image/x-icon"])[0],k=n[1]):k=(E=o("::","File").$extname(w))["$=="](".ico")?"image/x-icon":"image/"+E.$slice(1,E.$length()),b["$<<"]('<link rel="icon" type="'+k+'" href="'+w+'"'+f+">")),b["$<<"]("<title>"+t.$doctitle(h(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),_(a(ct,"DEFAULT_STYLESHEET_KEYS")["$include?"](t.$attr("stylesheet")))?(_(A=t.$attr("webfonts"))&&b["$<<"]('<link rel="stylesheet" href="'+m+"//fonts.googleapis.com/css?family="+(_(A["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":A)+'"'+f+">"),_(g)?b["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(a(ct,"DEFAULT_STYLESHEET_NAME"),t.$attr("stylesdir",""),!1)+'"'+f+">"):b["$<<"](d.stylesheets.$embed_primary_stylesheet())):_(t["$attr?"]("stylesheet"))&&(_(g)?b["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+f+">"):b["$<<"]("<style>\n"+t.$read_asset(t.$normalize_system_path(t.$attr("stylesheet"),t.$attr("stylesdir","")),h(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),_(t["$attr?"]("icons","font"))&&(_(t["$attr?"]("iconfont-remote"))?b["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",y+"/font-awesome/"+a(ct,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+f+">"):(O=t.$attr("iconfont-name","font-awesome")+".css",b["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(O,t.$attr("stylesdir",""),!1)+'"'+f+">"))),S=R=t.$attr("source-highlighter"),"coderay"["$==="](S)?t.$attr("coderay-css","class")["$=="]("class")&&(_(g)?b["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(d.stylesheets.$coderay_stylesheet_name(),t.$attr("stylesdir",""),!1)+'"'+f+">"):b["$<<"](d.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](S)&&t.$attr("pygments-css","class")["$=="]("class")&&(C=t.$attr("pygments-style"),_(g)?b["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(d.stylesheets.$pygments_stylesheet_name(C),t.$attr("stylesdir",""),!1)+'"'+f+">"):b["$<<"](d.stylesheets.$embed_pygments_stylesheet(C))),_((T=t.$docinfo())["$empty?"]())||b["$<<"](T),b["$<<"]("</head>"),M=_(t.$id())?['id="'+t.$id()+'"']:[],N=_(_(n=_(i=_(s=I=t["$sections?"]())?t["$attr?"]("toc-class"):s)?t["$attr?"]("toc"):i)?t["$attr?"]("toc-placement","auto"):n)?[t.$doctype(),t.$attr("toc-class"),"toc-"+t.$attr("toc-position","header")]:[t.$doctype()],_(t["$attr?"]("docrole"))&&N["$<<"](t.$attr("docrole")),M["$<<"]('class="'+N.$join(" ")+'"'),_(t["$attr?"]("max-width"))&&M["$<<"]('style="max-width: '+t.$attr("max-width")+';"'),b["$<<"]("<body "+M.$join(" ")+">"),_(t.$noheader())||(b["$<<"]('<div id="header">'),t.$doctype()["$=="]("manpage")?(b["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),_(_(n=_(i=I)?t["$attr?"]("toc"):i)?t["$attr?"]("toc-placement","auto"):n)&&b["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+d.$outline(t)+"\n</div>"),_(t["$attr?"]("manpurpose"))&&b["$<<"](d.$generate_manname_section(t))):(_(t["$has_header?"]())&&(_(t.$notitle())||b["$<<"]("<h1>"+t.$header().$title()+"</h1>"),P=[],L=1,u(t.$authors(),"each",[],((l=function(n){return l.$$s,null==n&&(n=$),P["$<<"]('<span id="author'+(_(e(L,1))?L:"")+'" class="author">'+n.$name()+"</span>"+p),_(n.$email())&&P["$<<"]('<span id="email'+(_(e(L,1))?L:"")+'" class="email">'+t.$sub_macros(n.$email())+"</span>"+p),L=r(L,1)}).$$s=d,l.$$arity=1,l)),_(t["$attr?"]("revnumber"))&&P["$<<"]('<span id="revnumber">'+(_(n=t.$attr("version-label"))?n:"").$downcase()+" "+t.$attr("revnumber")+(_(t["$attr?"]("revdate"))?",":"")+"</span>"),_(t["$attr?"]("revdate"))&&P["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),_(t["$attr?"]("revremark"))&&P["$<<"](p+'<span id="revremark">'+t.$attr("revremark")+"</span>"),_(P["$empty?"]())||(b["$<<"]('<div class="details">'),b.$concat(P),b["$<<"]("</div>"))),_(_(n=_(i=I)?t["$attr?"]("toc"):i)?t["$attr?"]("toc-placement","auto"):n)&&b["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+d.$outline(t)+"\n</div>")),b["$<<"]("</div>")),b["$<<"]('<div id="content">\n'+t.$content()+"\n</div>"),_(_(n=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():n)&&(b["$<<"]('<div id="footnotes">\n<hr'+f+">"),u(t.$footnotes(),"each",[],((c=function(t){return c.$$s,null==t&&(t=$),b["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=d,c.$$arity=1,c)),b["$<<"]("</div>")),_(t.$nofooter())||(b["$<<"]('<div id="footer">'),b["$<<"]('<div id="footer-text">'),_(t["$attr?"]("revnumber"))&&b["$<<"](t.$attr("version-label")+" "+t.$attr("revnumber")+p),_(_(n=t["$attr?"]("last-update-label"))?t["$attr?"]("reproducible")["$!"]():n)&&b["$<<"](t.$attr("last-update-label")+" "+t.$attr("docdatetime")),b["$<<"]("</div>"),b["$<<"]("</div>")),_((T=t.$docinfo("footer"))["$empty?"]())||b["$<<"](T),"highlightjs"["$==="](S=R)||"highlight.js"["$==="](S)?(D=t.$attr("highlightjsdir",y+"/highlight.js/9.13.1"),b["$<<"]('<link rel="stylesheet" href="'+D+"/styles/"+t.$attr("highlightjs-theme","github")+'.min.css"'+f+">"),b["$<<"]('<script src="'+D+'/highlight.min.js"><\/script>\n<script>hljs.initHighlighting()<\/script>')):"prettify"["$==="](S)&&(F=t.$attr("prettifydir",y+"/prettify/r298"),b["$<<"]('<link rel="stylesheet" href="'+F+"/"+t.$attr("prettify-theme","prettify")+'.min.css"'+f+">"),b["$<<"]('<script src="'+F+'/prettify.min.js"><\/script>\n<script>prettyPrint()<\/script>')),_(t["$attr?"]("stem"))&&(z=t.$attr("eqnums","none"),_(z["$empty?"]())&&(z="AMS"),B=' equationNumbers: { autoNumber: "'+z+'" } ',b["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+a(ct,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+a(ct,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+a(ct,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+B+'}\n});\n<\/script>\n<script src="'+y+"/mathjax/"+a(ct,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),b["$<<"]("</body>"),b["$<<"]("</html>"),b.$join(a(ct,"LF"))},y.$$arity=1),t.def(at,"$embedded",g=function(t){var e,r,n,i,s=$,o=$,l=$;return s=[],t.$doctype()["$=="]("manpage")?(_(t.$notitle())||(o=_(t.$id())?' id="'+t.$id()+'"':"",s["$<<"]("<h1"+o+">"+t.$doctitle()+" Manual Page</h1>")),_(t["$attr?"]("manpurpose"))&&s["$<<"](this.$generate_manname_section(t))):_(_(e=t["$has_header?"]())?t.$notitle()["$!"]():e)&&(o=_(t.$id())?' id="'+t.$id()+'"':"",s["$<<"]("<h1"+o+">"+t.$header().$title()+"</h1>")),_(_(e=_(r=_(n=t["$sections?"]())?t["$attr?"]("toc"):n)?(l=t.$attr("toc-placement"))["$!="]("macro"):r)?l["$!="]("preamble"):e)&&s["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$outline(t)+"\n</div>"),s["$<<"](t.$content()),_(_(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&(s["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),u(t.$footnotes(),"each",[],((i=function(t){return i.$$s,null==t&&(t=$),s["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,i.$$arity=1,i)),s["$<<"]("</div>")),s.$join(a(ct,"LF"))},g.$$arity=1),t.def(at,"$outline",b=function(t,e){var r,s,o,l=$,c=$,d=$,f=$;return null==e&&(e=h([],{})),_(t["$sections?"]())?(l=_(r=e["$[]"]("sectnumlevels"))?r:(_(s=t.$document().$attributes()["$[]"]("sectnumlevels"))?s:3).$to_i(),c=_(r=e["$[]"]("toclevels"))?r:(_(s=t.$document().$attributes()["$[]"]("toclevels"))?s:2).$to_i(),d=t.$sections(),f=['<ul class="sectlevel'+d["$[]"](0).$level()+'">'],u(d,"each",[],((o=function(e){var r,s=o.$$s||this,u=$,d=$,p=$,m=$;return null==e&&(e=$),u=e.$level(),d=_(e.$caption())?e.$captioned_title():_(_(r=e.$numbered())?n(u,l):r)?_(_(r=i(u,2))?t.$document().$doctype()["$=="]("book"):r)?e.$sectname()["$=="]("chapter")?(_(p=t.$document().$attributes()["$[]"]("chapter-signifier"))?p+" ":"")+e.$sectnum()+" "+e.$title():e.$sectname()["$=="]("part")?(_(p=t.$document().$attributes()["$[]"]("part-signifier"))?p+" ":"")+e.$sectnum($,":")+" "+e.$title():e.$sectnum()+" "+e.$title():e.$sectnum()+" "+e.$title():e.$title(),_(d["$include?"]("<a"))&&(d=d.$gsub(a(ct,"DropAnchorRx"),"")),_(_(r=i(u,c))?m=s.$outline(e,h(["toclevels","sectnumlevels"],{toclevels:c,sectnumlevels:l})):r)?(f["$<<"]('<li><a href="#'+e.$id()+'">'+d+"</a>"),f["$<<"](m),f["$<<"]("</li>")):f["$<<"]('<li><a href="#'+e.$id()+'">'+d+"</a></li>")}).$$s=this,o.$$arity=1,o)),f["$<<"]("</ul>"),f.$join(a(ct,"LF"))):$},b.$$arity=-2),t.def(at,"$section",v=function(t){var e,s,o=$,a=$,l=$,c=$,u=$,h=$,d=$;return o=t.$document().$attributes(),a=t.$level(),l=_(t.$caption())?t.$captioned_title():_(_(e=t.$numbered())?n(a,(_(s=o["$[]"]("sectnumlevels"))?s:3).$to_i()):e)?_(_(e=i(a,2))?t.$document().$doctype()["$=="]("book"):e)?t.$sectname()["$=="]("chapter")?(_(c=o["$[]"]("chapter-signifier"))?c+" ":"")+t.$sectnum()+" "+t.$title():t.$sectname()["$=="]("part")?(_(c=o["$[]"]("part-signifier"))?c+" ":"")+t.$sectnum($,":")+" "+t.$title():t.$sectnum()+" "+t.$title():t.$sectnum()+" "+t.$title():t.$title(),_(t.$id())?(u=' id="'+(h=t.$id())+'"',_(o["$[]"]("sectlinks"))&&(l='<a class="link" href="#'+h+'">'+l+"</a>"),_(o["$[]"]("sectanchors"))&&(l=o["$[]"]("sectanchors")["$=="]("after")?l+'<a class="anchor" href="#'+h+'"></a>':'<a class="anchor" href="#'+h+'"></a>'+l)):u="",a["$=="](0)?"<h1"+u+' class="sect0'+(_(d=t.$role())?" "+d:"")+'">'+l+"</h1>\n"+t.$content():'<div class="sect'+a+(_(d=t.$role())?" "+d:"")+'">\n<h'+r(a,1)+u+">"+l+"</h"+r(a,1)+">\n"+(a["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},v.$$arity=1),t.def(at,"$admonition",x=function(t){var e,r=$,n=$,i=$,s=$,o=$;return r=_(t.$id())?' id="'+t.$id()+'"':"",n=t.$attr("name"),i=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",s=_(t.$document()["$attr?"]("icons"))?_(_(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+r+' class="admonitionblock '+n+(_(o=t.$role())?" "+o:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+s+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},x.$$arity=1),t.def(at,"$audio",w=function(t){var e,r=this,n=$,i=$,s=$,o=$,a=$,l=$,c=$,u=$;return n=r.xml_mode,i=_(t.$id())?' id="'+t.$id()+'"':"",s=["audioblock",t.$role()].$compact(),o=' class="'+s.$join(" ")+'"',a=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",l=t.$attr("start",$,!1),c=t.$attr("end",$,!1),u=_(_(e=l)?e:c)?"#t="+(_(e=l)?e:"")+(_(c)?","+c:""):"","<div"+i+o+">\n"+a+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+u+'"'+(_(t["$option?"]("autoplay"))?r.$append_boolean_attribute("autoplay",n):"")+(_(t["$option?"]("nocontrols"))?"":r.$append_boolean_attribute("controls",n))+(_(t["$option?"]("loop"))?r.$append_boolean_attribute("loop",n):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},w.$$arity=1),t.def(at,"$colist",k=function(t){var e,n,i,s=$,o=$,l=$,c=$,h=$,d=$;return s=[],o=_(t.$id())?' id="'+t.$id()+'"':"",l=["colist",t.$style(),t.$role()].$compact(),c=' class="'+l.$join(" ")+'"',s["$<<"]("<div"+o+c+">"),_(t["$title?"]())&&s["$<<"]('<div class="title">'+t.$title()+"</div>"),_(t.$document()["$attr?"]("icons"))?(s["$<<"]("<table>"),e=[t.$document()["$attr?"]("icons","font"),0],h=e[0],d=e[1],u(t.$items(),"each",[],((n=function(e){var i=n.$$s||this,o=$;return null==i.void_element_slash&&(i.void_element_slash=$),null==e&&(e=$),d=r(d,1),o=_(h)?'<i class="conum" data-value="'+d+'"></i><b>'+d+"</b>":'<img src="'+t.$icon_uri("callouts/"+d)+'" alt="'+d+'"'+i.void_element_slash+">",s["$<<"]("<tr>\n<td>"+o+"</td>\n<td>"+e.$text()+(_(e["$blocks?"]())?r(a(ct,"LF"),e.$content()):"")+"</td>\n</tr>")}).$$s=this,n.$$arity=1,n)),s["$<<"]("</table>")):(s["$<<"]("<ol>"),u(t.$items(),"each",[],((i=function(t){return i.$$s,null==t&&(t=$),s["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(_(t["$blocks?"]())?r(a(ct,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,i.$$arity=1,i)),s["$<<"]("</ol>")),s["$<<"]("</div>"),s.$join(a(ct,"LF"))},k.$$arity=1),t.def(at,"$dlist",E=function(e){var r,n,i,s,o=$,l=$,c=$,h=$,d=$,f=$,p=$,m=$;return o=[],l=_(e.$id())?' id="'+e.$id()+'"':"",c=(h=e.$style(),"qanda"["$==="](h)?["qlist","qanda",e.$role()]:"horizontal"["$==="](h)?["hdlist",e.$role()]:["dlist",e.$style(),e.$role()]).$compact(),d=' class="'+c.$join(" ")+'"',o["$<<"]("<div"+l+d+">"),_(e["$title?"]())&&o["$<<"]('<div class="title">'+e.$title()+"</div>"),h=e.$style(),"qanda"["$==="](h)?(o["$<<"]("<ol>"),u(e.$items(),"each",[],((r=function(e,n){var i,s=r.$$s||this;return null==e&&(e=$),null==n&&(n=$),o["$<<"]("<li>"),u([].concat(t.to_a(e)),"each",[],((i=function(t){return i.$$s,null==t&&(t=$),o["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=s,i.$$arity=1,i)),_(n)&&(_(n["$text?"]())&&o["$<<"]("<p>"+n.$text()+"</p>"),_(n["$blocks?"]())&&o["$<<"](n.$content())),o["$<<"]("</li>")}).$$s=this,r.$$arity=2,r)),o["$<<"]("</ol>")):"horizontal"["$==="](h)?(f=this.void_element_slash,o["$<<"]("<table>"),_(_(n=e["$attr?"]("labelwidth"))?n:e["$attr?"]("itemwidth"))&&(o["$<<"]("<colgroup>"),p=_(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':"",o["$<<"]("<col"+p+f+">"),p=_(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':"",o["$<<"]("<col"+p+f+">"),o["$<<"]("</colgroup>")),u(e.$items(),"each",[],((i=function(r,n){var s,a=i.$$s||this,l=$,c=$;return null==r&&(r=$),null==n&&(n=$),o["$<<"]("<tr>"),o["$<<"]('<td class="hdlist1'+(_(e["$option?"]("strong"))?" strong":"")+'">'),l=[].concat(t.to_a(r)),c=l["$[]"](-1),u(l,"each",[],((s=function(t){return s.$$s,null==t&&(t=$),o["$<<"](t.$text()),_(t["$!="](c))?o["$<<"]("<br"+f+">"):$}).$$s=a,s.$$arity=1,s)),o["$<<"]("</td>"),o["$<<"]('<td class="hdlist2">'),_(n)&&(_(n["$text?"]())&&o["$<<"]("<p>"+n.$text()+"</p>"),_(n["$blocks?"]())&&o["$<<"](n.$content())),o["$<<"]("</td>"),o["$<<"]("</tr>")}).$$s=this,i.$$arity=2,i)),o["$<<"]("</table>")):(o["$<<"]("<dl>"),m=_(e.$style())?"":' class="hdlist1"',u(e.$items(),"each",[],((s=function(e,r){var n,i=s.$$s||this;return null==e&&(e=$),null==r&&(r=$),u([].concat(t.to_a(e)),"each",[],((n=function(t){return n.$$s,null==t&&(t=$),o["$<<"]("<dt"+m+">"+t.$text()+"</dt>")}).$$s=i,n.$$arity=1,n)),_(r)?(o["$<<"]("<dd>"),_(r["$text?"]())&&o["$<<"]("<p>"+r.$text()+"</p>"),_(r["$blocks?"]())&&o["$<<"](r.$content()),o["$<<"]("</dd>")):$}).$$s=this,s.$$arity=2,s)),o["$<<"]("</dl>")),o["$<<"]("</div>"),o.$join(a(ct,"LF"))},E.$$arity=1),t.def(at,"$example",A=function(t){var e=$,r=$,n=$;return e=_(t.$id())?' id="'+t.$id()+'"':"",r=_(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+e+' class="exampleblock'+(_(n=t.$role())?" "+n:"")+'">\n'+r+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},A.$$arity=1),t.def(at,"$floating_title",O=function(t){var e=$,n=$,i=$;return e="h"+r(t.$level(),1),n=_(t.$id())?' id="'+t.$id()+'"':"",i=[t.$style(),t.$role()].$compact(),"<"+e+n+' class="'+i.$join(" ")+'">'+t.$title()+"</"+e+">"},O.$$arity=1),t.def(at,"$image",S=function(t){var e,r,n,s=this,l=$,c=$,u=$,h=$,d=$,f=$,p=$,m=$,y=$,g=$,b=$;return l=t.$attr("target"),c=_(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",u=_(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",_(_(e=_(r=_(n=t["$attr?"]("format","svg",!1))?n:l["$include?"](".svg"))?i(t.$document().$safe(),o(a(ct,"SafeMode"),"SECURE")):r)?_(r=h=t["$option?"]("inline"))?r:d=t["$option?"]("interactive"):e)&&(_(h)?f=_(e=s.$read_svg_contents(t,l))?e:'<span class="alt">'+t.$alt()+"</span>":_(d)&&(p=_(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+s.$encode_quotes(t.$alt())+'"'+c+u+s.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",f='<object type="image/svg+xml" data="'+t.$image_uri(l)+'"'+c+u+">"+p+"</object>")),f=_(e=f)?e:'<img src="'+t.$image_uri(l)+'" alt="'+s.$encode_quotes(t.$alt())+'"'+c+u+s.void_element_slash+">",_(t["$attr?"]("link",$,!1))&&(f='<a class="image" href="'+t.$attr("link")+'"'+s.$append_link_constraint_attrs(t).$join()+">"+f+"</a>"),m=_(t.$id())?' id="'+t.$id()+'"':"",y=["imageblock"],_(t["$attr?"]("float"))&&y["$<<"](t.$attr("float")),_(t["$attr?"]("align"))&&y["$<<"]("text-"+t.$attr("align")),_(t.$role())&&y["$<<"](t.$role()),g=' class="'+y.$join(" ")+'"',b=_(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":"","<div"+m+g+'>\n<div class="content">\n'+f+"\n</div>"+b+"\n</div>"},S.$$arity=1),t.def(at,"$listing",R=function(t){var e,r=$,n=$,i=$,s=$,o=$,a=$,l=$,c=$,u=$,h=$;return r=_(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(i=_(n=t.$attr("language",$,!1))?' data-lang="'+n+'"':"",s=t.$document().$attr("source-highlighter"),"coderay"["$==="](s)?o=' class="CodeRay highlight'+(_(r)?" nowrap":"")+'"':"pygments"["$==="](s)?_(t.$document()["$attr?"]("pygments-css","inline"))?(_(null!=(e=this.pygments_bg)&&e!==$?"instance-variable":$)||(this.pygments_bg=this.stylesheets.$pygments_background(t.$document().$attr("pygments-style"))),o=' class="pygments highlight'+(_(r)?" nowrap":"")+'" style="background: '+this.pygments_bg+'"'):o=' class="pygments highlight'+(_(r)?" nowrap":"")+'"':"highlightjs"["$==="](s)||"highlight.js"["$==="](s)?(o=' class="highlightjs highlight'+(_(r)?" nowrap":"")+'"',_(n)&&(i=' class="language-'+n+' hljs"'+i)):"prettify"["$==="](s)?(o=' class="prettyprint highlight'+(_(r)?" nowrap":"")+(_(t["$attr?"]("linenums",$,!1))?" linenums":"")+'"',_(n)&&(i=' class="language-'+n+'"'+i)):"html-pipeline"["$==="](s)?(o=_(n)?' lang="'+n+'"':"",i=""):(o=' class="highlight'+(_(r)?" nowrap":"")+'"',_(n)&&(i=' class="language-'+n+'"'+i)),a="<pre"+o+"><code"+i+">",l="</code></pre>"):(a="<pre"+(_(r)?' class="nowrap"':"")+">",l="</pre>"),c=_(t.$id())?' id="'+t.$id()+'"':"",u=_(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+c+' class="listingblock'+(_(h=t.$role())?" "+h:"")+'">\n'+u+'<div class="content">\n'+a+t.$content()+l+"\n</div>\n</div>"},R.$$arity=1),t.def(at,"$literal",C=function(t){var e,r=$,n=$,i=$,s=$;return r=_(t.$id())?' id="'+t.$id()+'"':"",n=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",i=_(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(_(s=t.$role())?" "+s:"")+'">\n'+n+'<div class="content">\n<pre'+(_(i)?' class="nowrap"':"")+">"+t.$content()+"</pre>\n</div>\n</div>"},C.$$arity=1),t.def(at,"$stem",T=function(e){var r,n,i,s=$,o=$,l=$,c=$,h=$,f=$,p=$,m=$;return s=_(e.$id())?' id="'+e.$id()+'"':"",o=_(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",n=a(ct,"BLOCK_MATH_DELIMITERS")["$[]"](l=e.$style().$to_sym()),r=t.to_ary(n),c=null==r[0]?$:r[0],h=null==r[1]?$:r[1],f=e.$content(),_((r=l["$=="]("asciimath"))?f["$include?"](a(ct,"LF")):l["$=="]("asciimath"))&&(p="<br"+this.void_element_slash+">"+a(ct,"LF"),f=u(f,"gsub",[a(ct,"StemBreakRx")],((i=function(){var t,e,r;return i.$$s,""+h+(e=p,r=((t=d["~"])===$?$:t["$[]"](0)).$count(a(ct,"LF")),"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r))+c}).$$s=this,i.$$arity=0,i))),_(_(r=f["$start_with?"](c))?f["$end_with?"](h):r)||(f=""+c+f+h),"<div"+s+' class="stemblock'+(_(m=e.$role())?" "+m:"")+'">\n'+o+'<div class="content">\n'+f+"\n</div>\n</div>"},T.$$arity=1),t.def(at,"$olist",M=function(t){var e,r=this,n=$,i=$,s=$,o=$,l=$,c=$,h=$,d=$;return n=[],i=_(t.$id())?' id="'+t.$id()+'"':"",s=["olist",t.$style(),t.$role()].$compact(),o=' class="'+s.$join(" ")+'"',n["$<<"]("<div"+i+o+">"),_(t["$title?"]())&&n["$<<"]('<div class="title">'+t.$title()+"</div>"),l=_(c=t.$list_marker_keyword())?' type="'+c+'"':"",h=_(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",d=_(t["$option?"]("reversed"))?r.$append_boolean_attribute("reversed",r.xml_mode):"",n["$<<"]('<ol class="'+t.$style()+'"'+l+h+d+">"),u(t.$items(),"each",[],((e=function(t){return e.$$s,null==t&&(t=$),n["$<<"]("<li>"),n["$<<"]("<p>"+t.$text()+"</p>"),_(t["$blocks?"]())&&n["$<<"](t.$content()),n["$<<"]("</li>")}).$$s=r,e.$$arity=1,e)),n["$<<"]("</ol>"),n["$<<"]("</div>"),n.$join(a(ct,"LF"))},M.$$arity=1),t.def(at,"$open",I=function(t){var r,n,i,s=$,o=$,a=$,l=$;return(s=t.$style())["$=="]("abstract")?_((r=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(o=_(t.$id())?' id="'+t.$id()+'"':"",a=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+o+' class="quoteblock abstract'+(_(l=t.$role())?" "+l:"")+'">\n'+a+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):_((r=s["$=="]("partintro"))?_(n=_(i=e(t.$level(),0))?i:t.$parent().$context()["$!="]("section"))?n:t.$document().$doctype()["$!="]("book"):s["$=="]("partintro"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(o=_(t.$id())?' id="'+t.$id()+'"':"",a=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+o+' class="openblock'+(_(_(r=s)?s["$!="]("open"):r)?" "+s:"")+(_(l=t.$role())?" "+l:"")+'">\n'+a+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},I.$$arity=1),t.def(at,"$page_break",N=function(t){return'<div style="page-break-after: always;"></div>'},N.$$arity=1),t.def(at,"$paragraph",P=function(t){var e=$,r=$;return e=_(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',r=_(t.$id())?'id="'+t.$id()+'" '+e:e,_(t["$title?"]())?"<div "+r+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+r+">\n<p>"+t.$content()+"</p>\n</div>"},P.$$arity=1),t.def(at,"$preamble",L=function(t){var e,r,n=$,i=$;return i=_(_(e=_(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$outline(n)+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},L.$$arity=1),t.def(at,"$quote",D=function(t){var e,r=this,n=$,i=$,s=$,o=$,a=$,l=$,c=$,u=$,h=$;return n=_(t.$id())?' id="'+t.$id()+'"':"",i=["quoteblock",t.$role()].$compact(),s=' class="'+i.$join(" ")+'"',o=_(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",a=_(t["$attr?"]("attribution"))?t.$attr("attribution"):$,l=_(t["$attr?"]("citetitle"))?t.$attr("citetitle"):$,_(_(e=a)?e:l)?(c=_(l)?"<cite>"+l+"</cite>":"",u=_(a)?"&#8212; "+a+(_(l)?"<br"+r.void_element_slash+">\n":""):"",h='\n<div class="attribution">\n'+u+c+"\n</div>"):h="","<div"+n+s+">"+o+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+h+"\n</div>"},D.$$arity=1),t.def(at,"$thematic_break",F=function(t){return"<hr"+this.void_element_slash+">"},F.$$arity=1),t.def(at,"$sidebar",z=function(t){var e=$,r=$,n=$;return e=_(t.$id())?' id="'+t.$id()+'"':"",r=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+e+' class="sidebarblock'+(_(n=t.$role())?" "+n:"")+'">\n<div class="content">\n'+r+t.$content()+"\n</div>\n</div>"},z.$$arity=1),t.def(at,"$table",B=function(t){var n,i,s,o=$,l=$,c=$,h=$,d=$,f=$,p=$,m=$,y=$,g=$,b=$;return o=[],l=_(t.$id())?' id="'+t.$id()+'"':"",c=["tableblock","frame-"+t.$attr("frame","all"),"grid-"+t.$attr("grid","all")],_(h=t.$attr("stripes"))&&c["$<<"]("stripes-"+h),d=[],_(_(n=f=t.$attributes()["$[]"]("autowidth-option"))?t["$attr?"]("width",$,!1)["$!"]():n)?c["$<<"]("fit-content"):(p=t.$attr("tablepcwidth"))["$=="](100)?c["$<<"]("stretch"):d["$<<"]("width: "+p+"%;"),_(t["$attr?"]("float"))&&c["$<<"](t.$attr("float")),_(m=t.$role())&&c["$<<"](m),y=' class="'+c.$join(" ")+'"',g=_(d["$empty?"]())?"":' style="'+d.$join(" ")+'"',o["$<<"]("<table"+l+y+g+">"),_(t["$title?"]())&&o["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),_(e(t.$attr("rowcount"),0))&&(b=this.void_element_slash,o["$<<"]("<colgroup>"),_(f)?o=r(o,a(ct,"Array").$new(t.$columns().$size(),"<col"+b+">")):u(t.$columns(),"each",[],((i=function(t){return i.$$s,null==t&&(t=$),o["$<<"](_(t.$attributes()["$[]"]("autowidth-option"))?"<col"+b+">":'<col style="width: '+t.$attr("colpcwidth")+'%;"'+b+">")}).$$s=this,i.$$arity=1,i)),o["$<<"]("</colgroup>"),u(t.$rows().$by_section(),"each",[],((s=function(e,r){var n,i=s.$$s||this;return null==e&&(e=$),null==r&&(r=$),_(r["$empty?"]())?$:(o["$<<"]("<t"+e+">"),u(r,"each",[],((n=function(r){var i,s=n.$$s||this;return null==r&&(r=$),o["$<<"]("<tr>"),u(r,"each",[],((i=function(r){i.$$s;var n,s=$,a=$,l=$,c=$,u=$,h=$,d=$;return null==r&&(r=$),e["$=="]("head")?s=r.$text():(a=r.$style(),s="asciidoc"["$==="](a)?'<div class="content">'+r.$content()+"</div>":"verse"["$==="](a)?'<div class="verse">'+r.$text()+"</div>":"literal"["$==="](a)?'<div class="literal"><pre>'+r.$text()+"</pre></div>":_((s=r.$content())["$empty?"]())?"":'<p class="tableblock">'+s.$join('</p>\n<p class="tableblock">')+"</p>"),l=_(_(n=e["$=="]("head"))?n:r.$style()["$=="]("header"))?"th":"td",c=' class="tableblock halign-'+r.$attr("halign")+" valign-"+r.$attr("valign")+'"',u=_(r.$colspan())?' colspan="'+r.$colspan()+'"':"",h=_(r.$rowspan())?' rowspan="'+r.$rowspan()+'"':"",d=_(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",o["$<<"]("<"+l+c+u+h+d+">"+s+"</"+l+">")}).$$s=s,i.$$arity=1,i)),o["$<<"]("</tr>")}).$$s=i,n.$$arity=1,n)),o["$<<"]("</t"+e+">"))}).$$s=this,s.$$arity=2,s))),o["$<<"]("</table>"),o.$join(a(ct,"LF"))},B.$$arity=1),t.def(at,"$toc",q=function(t){var e,r,n=$,i=$,s=$,o=$,a=$,l=$;return _(_(e=_(r=(n=t.$document())["$attr?"]("toc-placement","macro"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?(_(t.$id())?(i=' id="'+t.$id()+'"',s=' id="'+t.$id()+'title"'):(i=' id="toc"',s=' id="toctitle"'),o=_(t["$title?"]())?t.$title():n.$attr("toc-title"),a=_(t["$attr?"]("levels"))?t.$attr("levels").$to_i():$,l=_(t["$role?"]())?t.$role():n.$attr("toc-class","toc"),"<div"+i+' class="'+l+'">\n<div'+s+' class="title">'+o+"</div>\n"+this.$outline(n,h(["toclevels"],{toclevels:a}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},q.$$arity=1),t.def(at,"$ulist",j=function(t){var e,r=$,n=$,i=$,s=$,o=$,l=$,c=$;return r=[],n=_(t.$id())?' id="'+t.$id()+'"':"",i=["ulist",t.$style(),t.$role()].$compact(),s=o="",_(l=t["$option?"]("checklist"))?(i.$unshift(i.$shift(),"checklist"),c=' class="checklist"',_(t["$option?"]("interactive"))?_(this.xml_mode)?(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',o='<input type="checkbox" data-item-complete="0"/> '):(s='<input type="checkbox" data-item-complete="1" checked> ',o='<input type="checkbox" data-item-complete="0"> '):_(t.$document()["$attr?"]("icons","font"))?(s='<i class="fa fa-check-square-o"></i> ',o='<i class="fa fa-square-o"></i> '):(s="&#10003; ",o="&#10063; ")):c=_(t.$style())?' class="'+t.$style()+'"':"",r["$<<"]("<div"+n+' class="'+i.$join(" ")+'">'),_(t["$title?"]())&&r["$<<"]('<div class="title">'+t.$title()+"</div>"),r["$<<"]("<ul"+c+">"),u(t.$items(),"each",[],((e=function(t){var n;return e.$$s,null==t&&(t=$),r["$<<"]("<li>"),_(_(n=l)?t["$attr?"]("checkbox"):n)?r["$<<"]("<p>"+(_(t["$attr?"]("checked"))?s:o)+t.$text()+"</p>"):r["$<<"]("<p>"+t.$text()+"</p>"),_(t["$blocks?"]())&&r["$<<"](t.$content()),r["$<<"]("</li>")}).$$s=this,e.$$arity=1,e)),r["$<<"]("</ul>"),r["$<<"]("</div>"),r.$join(a(ct,"LF"))},j.$$arity=1),t.def(at,"$verse",U=function(t){var e,r=this,n=$,i=$,s=$,o=$,a=$,l=$,c=$,u=$,h=$;return n=_(t.$id())?' id="'+t.$id()+'"':"",i=["verseblock",t.$role()].$compact(),s=' class="'+i.$join(" ")+'"',o=_(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",a=_(t["$attr?"]("attribution"))?t.$attr("attribution"):$,l=_(t["$attr?"]("citetitle"))?t.$attr("citetitle"):$,_(_(e=a)?e:l)?(c=_(l)?"<cite>"+l+"</cite>":"",u=_(a)?"&#8212; "+a+(_(l)?"<br"+r.void_element_slash+">\n":""):"",h='\n<div class="attribution">\n'+u+c+"\n</div>"):h="","<div"+n+s+">"+o+'\n<pre class="content">'+t.$content()+"</pre>"+h+"\n</div>"},U.$$arity=1),t.def(at,"$video",H=function(e){var r,n,i=this,s=$,o=$,a=$,l=$,c=$,u=$,h=$,d=$,f=$,p=$,m=$,y=$,g=$,b=$,v=$,x=$,w=$,k=$,E=$,A=$,O=$,S=$,R=$,C=$,T=$,M=$,I=$,N=$,P=$,L=$,D=$,F=$,z=$;return s=i.xml_mode,o=_(e.$id())?' id="'+e.$id()+'"':"",a=["videoblock"],_(e["$attr?"]("float"))&&a["$<<"](e.$attr("float")),_(e["$attr?"]("align"))&&a["$<<"]("text-"+e.$attr("align")),_(e.$role())&&a["$<<"](e.$role()),l=' class="'+a.$join(" ")+'"',c=_(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",u=_(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",h=_(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",d=e.$attr("poster"),"vimeo"["$==="](d)?(_((f=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(f+=":"),p=_(e["$attr?"]("start",$,!1))?"#at="+e.$attr("start"):"",m="?",_(e["$option?"]("autoplay"))?(y=m+"autoplay=1",m="&amp;"):y="",g=_(e["$option?"]("loop"))?m+"loop=1":"","<div"+o+l+">"+c+'\n<div class="content">\n<iframe'+u+h+' src="'+f+"//player.vimeo.com/video/"+e.$attr("target")+p+y+g+'" frameborder="0"'+(_(e["$option?"]("nofullscreen"))?"":i.$append_boolean_attribute("allowfullscreen",s))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](d)?(_((f=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(f+=":"),b=_(e["$option?"]("related"))?1:0,v=_(e["$attr?"]("start",$,!1))?"&amp;start="+e.$attr("start"):"",x=_(e["$attr?"]("end",$,!1))?"&amp;end="+e.$attr("end"):"",y=_(e["$option?"]("autoplay"))?"&amp;autoplay=1":"",g=_(w=e["$option?"]("loop"))?"&amp;loop=1":"",k=_(e["$option?"]("nocontrols"))?"&amp;controls=0":"",_(e["$option?"]("nofullscreen"))?(E="&amp;fs=0",A=""):(E="",A=i.$append_boolean_attribute("allowfullscreen",s)),O=_(e["$option?"]("modest"))?"&amp;modestbranding=1":"",S=_(e["$attr?"]("theme",$,!1))?"&amp;theme="+e.$attr("theme"):"",R=_(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):"",n=e.$attr("target").$split("/",2),r=t.to_ary(n),C=null==r[0]?$:r[0],T=null==r[1]?$:r[1],_(T=_(r=T)?r:e.$attr("list",$,!1))?M="&amp;list="+T:(n=C.$split(",",2),r=t.to_ary(n),C=null==r[0]?$:r[0],I=null==r[1]?$:r[1],M=_(I=_(r=I)?r:e.$attr("playlist",$,!1))?"&amp;playlist="+I:_(w)?"&amp;playlist="+C:""),"<div"+o+l+">"+c+'\n<div class="content">\n<iframe'+u+h+' src="'+f+"//www.youtube.com/embed/"+C+"?rel="+b+v+x+y+g+k+M+E+O+S+R+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>"):(N=_((P=e.$attr("poster",$,!1))["$nil_or_empty?"]())?"":' poster="'+e.$media_uri(P)+'"',L=_((P=e.$attr("preload",$,!1))["$nil_or_empty?"]())?"":' preload="'+P+'"',D=e.$attr("start",$,!1),F=e.$attr("end",$,!1),z=_(_(r=D)?r:F)?"#t="+(_(r=D)?r:"")+(_(F)?","+F:""):"","<div"+o+l+">"+c+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+z+'"'+u+h+N+(_(e["$option?"]("autoplay"))?i.$append_boolean_attribute("autoplay",s):"")+(_(e["$option?"]("nocontrols"))?"":i.$append_boolean_attribute("controls",s))+(_(e["$option?"]("loop"))?i.$append_boolean_attribute("loop",s):"")+L+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},H.$$arity=1),t.def(at,"$inline_anchor",Y=function(t){var e,r=this,n=$,i=$,s=$,o=$,l=$,c=$;return n=t.$type(),"xref"["$==="](n)?(_(i=t.$attributes()["$[]"]("path"))?(s=r.$append_link_constraint_attrs(t,_(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),o=_(e=t.$text())?e:i):(s=_(t.$role())?' class="'+t.$role()+'"':"",_(o=t.$text())||(l=t.$attributes()["$[]"]("refid"),o=_(a(ct,"AbstractNode")["$==="](c=(r.refs=_(e=r.refs)?e:t.$document().$catalog()["$[]"]("refs"))["$[]"](l)))&&_(e=c.$xreftext(t.$attr("xrefstyle")))?e:"["+l+"]")),'<a href="'+t.$target()+'"'+s+">"+o+"</a>"):"ref"["$==="](n)?'<a id="'+t.$id()+'"></a>':"link"["$==="](n)?(s=_(t.$id())?[' id="'+t.$id()+'"']:[],_(t.$role())&&s["$<<"](' class="'+t.$role()+'"'),_(t["$attr?"]("title",$,!1))&&s["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+r.$append_link_constraint_attrs(t,s).$join()+">"+t.$text()+"</a>"):"bibref"["$==="](n)?'<a id="'+t.$id()+'"></a>'+t.$text():(r.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),$)},Y.$$arity=1),t.def(at,"$inline_break",G=function(t){return t.$text()+"<br"+this.void_element_slash+">"},G.$$arity=1),t.def(at,"$inline_button",W=function(t){return'<b class="button">'+t.$text()+"</b>"},W.$$arity=1),t.def(at,"$inline_callout",V=function(t){return _(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":_(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":t.$attributes()["$[]"]("guard")+'<b class="conum">('+t.$text()+")</b>"},V.$$arity=1),t.def(at,"$inline_footnote",K=function(t){var e=$;return _(e=t.$attr("index",$,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(_(t.$id())?' id="_footnote_'+t.$id()+'"':"")+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":$},K.$$arity=1),t.def(at,"$inline_image",X=function(t){var e,r,n,s,l,c,d=this,f=$,p=$,m=$,y=$,g=$,b=$,v=$,x=$,w=$,k=$;return _((e=(f=t.$type())["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(f=t.$type())["$=="]("icon"))?(p="fa fa-"+t.$target(),u(h(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((r=function(e,n){return r.$$s,null==e&&(e=$),null==n&&(n=$),_(t["$attr?"](e))?p=p+" "+n+t.$attr(e):$}).$$s=d,r.$$arity=2,r)),m=_(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"",y='<i class="'+p+'"'+m+"></i>"):_((e=f["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():f["$=="]("icon"))?y="["+t.$alt()+"]":(g=t.$target(),b=u(["width","height","title"],"map",[],(n=function(e){return n.$$s,null==e&&(e=$),_(t["$attr?"](e))?" "+e+'="'+t.$attr(e)+'"':""},n.$$s=d,n.$$arity=1,n)).$join(),_(_(e=_(s=_(l=f["$!="]("icon"))?_(c=t["$attr?"]("format","svg",!1))?c:g["$include?"](".svg"):l)?i(t.$document().$safe(),o(a(ct,"SafeMode"),"SECURE")):s)?_(s=v=t["$option?"]("inline"))?s:x=t["$option?"]("interactive"):e)&&(_(v)?y=_(e=d.$read_svg_contents(t,g))?e:'<span class="alt">'+t.$alt()+"</span>":_(x)&&(w=_(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+d.$encode_quotes(t.$alt())+'"'+b+d.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",y='<object type="image/svg+xml" data="'+t.$image_uri(g)+'"'+b+">"+w+"</object>")),y=_(e=y)?e:'<img src="'+(f["$=="]("icon")?t.$icon_uri(g):t.$image_uri(g))+'" alt="'+d.$encode_quotes(t.$alt())+'"'+b+d.void_element_slash+">"),_(t["$attr?"]("link",$,!1))&&(y='<a class="image" href="'+t.$attr("link")+'"'+d.$append_link_constraint_attrs(t).$join()+">"+y+"</a>"),'<span class="'+(p=_(k=t.$role())?_(t["$attr?"]("float"))?f+" "+t.$attr("float")+" "+k:f+" "+k:_(t["$attr?"]("float"))?f+" "+t.$attr("float"):f)+'">'+y+"</span>"},X.$$arity=1),t.def(at,"$inline_indexterm",J=function(t){return t.$type()["$=="]("visible")?t.$text():""},J.$$arity=1),t.def(at,"$inline_kbd",Z=function(t){var e=$;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e.$join("</kbd>+<kbd>")+"</kbd></span>"},Z.$$arity=1),t.def(at,"$inline_menu",Q=function(t){var e=$,r=$,n=$,i=$,s=$;return e=_(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',r="</b>"+e+'<b class="submenu">',n=t.$attr("menu"),_((i=t.$attr("submenus"))["$empty?"]())?_(s=t.$attr("menuitem",$,!1))?'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="menuitem">'+s+"</b></span>":'<b class="menuref">'+n+"</b>":'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="submenu">'+i.$join(r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},Q.$$arity=1),t.def(at,"$inline_quoted",tt=function(e){var r,n,i=$,s=$,o=$,l=$,c=$;return n=a(ct,"QUOTE_TAGS")["$[]"](e.$type()),r=t.to_ary(n),i=null==r[0]?$:r[0],s=null==r[1]?$:r[1],o=null==r[2]?$:r[2],_(e.$role())&&(l=' class="'+e.$role()+'"'),_(e.$id())&&(c=' id="'+e.$id()+'"'),_(_(r=l)?r:c)?_(o)?""+i.$chop()+(_(r=c)?r:"")+(_(r=l)?r:"")+">"+e.$text()+s:"<span"+(_(r=c)?r:"")+(_(r=l)?r:"")+">"+i+e.$text()+s+"</span>":""+i+e.$text()+s},tt.$$arity=1),t.def(at,"$append_boolean_attribute",et=function(t,e){return _(e)?" "+t+'="'+t+'"':" "+t},et.$$arity=2),t.def(at,"$encode_quotes",rt=function(t){return _(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},rt.$$arity=1),t.def(at,"$generate_manname_section",nt=function(t){var e,r=$,n=$,i=$,s=$;return r=t.$attr("manname-title","Name"),_(_(e=n=t.$sections()["$[]"](0))?(i=n.$title())["$=="](i.$upcase()):e)&&(r=r.$upcase()),"<h2"+(_(s=t.$attr("manname-id"))?' id="'+s+'"':"")+">"+r+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>"},nt.$$arity=1),t.def(at,"$append_link_constraint_attrs",it=function(t,e){var r,n=$,i=$;return null==e&&(e=[]),_(t["$option?"]("nofollow"))&&(n="nofollow"),_(i=t.$attributes()["$[]"]("window"))?(e["$<<"](' target="'+i+'"'),_(_(r=i["$=="]("_blank"))?r:t["$option?"]("noopener"))&&e["$<<"](_(n)?' rel="'+n+' noopener"':' rel="noopener"')):_(n)&&e["$<<"](' rel="'+n+'"'),e},it.$$arity=-2),t.def(at,"$read_svg_contents",st=function(e,r){var n,i=$,s=$,o=$;return _(i=e.$read_contents(r,h(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(_(i["$start_with?"]("<svg"))||(i=i.$sub(a(ct,"SvgPreambleRx"),"")),s=o=$,u(["width","height"],"each",[],((n=function(t){return n.$$s,null==t&&(t=$),_(e["$attr?"](t))?(_(o)||(o=(s=i.$match(a(ct,"SvgStartTagRx"))["$[]"](0)).$gsub(a(ct,"DimensionAttributeRx"),"")),o=o.$chop()+" "+t+'="'+e.$attr(t)+'px">'):$}).$$s=this,n.$$arity=1,n)),_(o)&&(i=""+o+i["$[]"](t.Range.$new(s.$length(),-1,!1)))),i},st.$$arity=2)}(a(y,"Converter"),o(a(y,"Converter"),"BuiltIn"),y)}(s[0],s)},i.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var s=t.top,$=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.truthy),u=t.module,h=t.klass,_=t.hash2,d=t.send,f=t.hash;return t.add_stubs(["$require","$to_s","$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$==","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$next_block","$dup","$<<","$has_more_lines?","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$respond_to?","$include?","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$capitalize","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$reduce","$const_defined?"]),c(l($,"Asciidoctor","skip_raise")?"constant":o)||s.$require("asciidoctor".$to_s()),function(s,$){function p(){}var m=p=u(s,"Asciidoctor",p),y=(m.prototype,[m].concat($));!function(s,$){function p(){}var m=p=u(s,"Extensions",p),y=(m.prototype,[m].concat($));!function(i,s,$){function u(){}var f,p,m,y,g,b,v,x,w,k,E,A=u=h(i,null,"Processor",u),O=A.prototype,S=[A].concat($);O.config=o,function(r,n){r.prototype;var i,s,$,a=[r].concat(n);t.def(r,"$config",i=function(){var t;return null==this.config&&(this.config=o),this.config=c(t=this.config)?t:_([],{})},i.$$arity=0),t.def(r,"$option",s=function(r,n){var i=o;return i=[r,n],d(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},s.$$arity=2),t.def(r,"$use_dsl",$=function(){return c(this.$name()["$nil_or_empty?"]())?c((t.Module.$$nesting=a,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):o:c((t.Module.$$nesting=a,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):o},$.$$arity=0),t.alias(r,"extend_dsl","use_dsl"),t.alias(r,"include_dsl","use_dsl")}(t.get_singleton_class(A),S),A.$attr_reader("config"),t.def(A,"$initialize",f=function(t){return null==t&&(t=_([],{})),this.config=this.$class().$config().$merge(t)},f.$$arity=-1),t.def(A,"$update_config",p=function(t){return this.config.$update(t)},p.$$arity=1),t.def(A,"$process",m=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},m.$$arity=-1),t.def(A,"$create_section",y=function(i,s,$,a){var u,h=o,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o;return null==a&&(a=_([],{})),h=i.$document(),f=(p=h.$doctype())["$=="]("book"),m=c(u=a["$[]"]("level"))?u:r(i.$level(),1),c(y=$.$delete("style"))?c(c(u=f)?y["$=="]("abstract"):u)?(g=(u=["chapter",1])[0],m=u[1]):(g=(u=[y,!0])[0],b=u[1],m["$=="](0)&&(m=1)):c(f)?g=m["$=="](0)?"part":c(n(m,1))?"section":"chapter":c((u=p["$=="]("manpage"))?s.$casecmp("synopsis")["$=="](0):p["$=="]("manpage"))?(g=(u=["synopsis",!0])[0],b=u[1]):g="section",v=l(S,"Section").$new(i,m),u=[s,g],v["$title="](u[0]),v["$sectname="](u[1]),c(b)?(x=[!0],d(v,"special=",t.to_a(x)),x[e(x.length,1)],c(a.$fetch("numbered",y["$=="]("appendix")))?(x=[!0],d(v,"numbered=",t.to_a(x)),x[e(x.length,1)]):c(c(u=a["$key?"]("numbered")["$!"]())?h["$attr?"]("sectnums","all"):u)&&(x=[!c(c(u=f)?m["$=="](1):u)||"chapter"],d(v,"numbered=",t.to_a(x)),x[e(x.length,1)])):c(n(m,0))?c(a.$fetch("numbered",h["$attr?"]("sectnums")))&&(x=[!c(v.$special())||!!c(u=i.$numbered())||u],d(v,"numbered=",t.to_a(x)),x[e(x.length,1)]):c(a.$fetch("numbered",c(u=f)?h["$attr?"]("partnums"):u))&&(x=[!0],d(v,"numbered=",t.to_a(x)),x[e(x.length,1)]),(w=$.$delete("id"))["$=="](!1)||(x=[(x=["id",c(u=w)?u:c(h["$attr?"]("sectids"))?l(S,"Section").$generate_id(v.$title(),h):o],d($,"[]=",t.to_a(x)),x[e(x.length,1)])],d(v,"id=",t.to_a(x)),x[e(x.length,1)]),v.$update_attributes($),v},y.$$arity=-4),t.def(A,"$create_block",g=function(t,e,r,n,i){return null==i&&(i=_([],{})),l(S,"Block").$new(t,e,_(["source","attributes"],{source:r,attributes:n}).$merge(i))},g.$$arity=-5),t.def(A,"$create_list",b=function(t,e,r){var n=o;return null==r&&(r=o),n=l(S,"List").$new(t,e),c(r)&&n.$update_attributes(r),n},b.$$arity=-3),t.def(A,"$create_list_item",v=function(t,e){return null==e&&(e=o),l(S,"ListItem").$new(t,e)},v.$$arity=-2),t.def(A,"$create_image_block",x=function(r,n,i){var s,$=o,u=o,h=o,f=o;return null==i&&(i=_([],{})),c($=n["$[]"]("target"))||this.$raise(a("::","ArgumentError"),"Unable to create an image block, target attribute is required"),c(s=n["$[]"]("alt"))||(u=["alt",(u=["default-alt",l(S,"Helpers").$basename($,!0).$tr("_-"," ")],d(n,"[]=",t.to_a(u)),u[e(u.length,1)])],d(n,"[]=",t.to_a(u)),u[e(u.length,1)]),h=c(n["$key?"]("title"))?n.$delete("title"):o,f=this.$create_block(r,"image",o,n,i),c(h)&&(u=[h],d(f,"title=",t.to_a(u)),u[e(u.length,1)],f.$assign_caption(n.$delete("caption"),c(s=i["$[]"]("caption_context"))?s:"figure")),f},x.$$arity=-3),t.def(A,"$create_inline",w=function(t,e,r,n){return null==n&&(n=_([],{})),l(S,"Inline").$new(t,e,r,n)},w.$$arity=-4),t.def(A,"$parse_content",k=function(t,e,r){var n,i,s=o,$=o;for(null==r&&(r=o),s=c(l(S,"Reader")["$==="](e))?e:l(S,"Reader").$new(e);c(c(n=c(i=$=l(S,"Parser").$next_block(s,t,c(r)?r.$dup():_([],{})))?t["$<<"]($):i)?n:s["$has_more_lines?"]()););return t},k.$$arity=-3),d([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],((E=function(e,r,n){var i,s=E.$$s||this;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),d(s,"define_method",[e],((i=function(e){var s,$,o=i.$$s||this;return s=t.slice.call(arguments,0,arguments.length),($=s).$unshift($.$shift(),n),d(o,"send",[r].concat(t.to_a($)))}).$$s=s,i.$$arity=-1,i))}).$$s=A,E.$$arity=3,E))}(y[0],0,y),function(r,n){function i(){}var s,$,l,h=i=u(r,"ProcessorDsl",i);h.prototype,[h].concat(n),t.def(h,"$option",s=function(r,n){var i=o;return i=[r,n],d(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},s.$$arity=2),t.def(h,"$process",$=function(e){var r,n,i,s=$.$$p,l=s||o;return null==this.process_block&&(this.process_block=o),s&&($.$$p=null),s&&($.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=r,l!==o?(c(n["$empty?"]())||this.$raise(a("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),this.process_block=l):c(null!=(i=this.process_block)&&i!==o?"instance-variable":o)?d(this.process_block,"call",t.to_a(n)):this.$raise(a("::","NotImplementedError"))},$.$$arity=-1),t.def(h,"$process_block_given?",l=function(){var t;return null!=(t=this.process_block)&&t!==o?"instance-variable":o},l.$$arity=0)}(y[0],y),function(e,r){function n(){}var i,s=n=u(e,"DocumentProcessorDsl",n),$=(s.prototype,[s].concat(r));s.$include(l($,"ProcessorDsl")),t.def(s,"$prefer",i=function(){return this.$option("position",">>")},i.$$arity=0)}(y[0],y),function(r,i){function s(){}var $,h,f,p,m,y=s=u(r,"SyntaxProcessorDsl",s),g=(y.prototype,[y].concat(i));y.$include(l(g,"ProcessorDsl")),t.def(y,"$named",$=function(t){return c(l(g,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},$.$$arity=1),t.alias(y,"match_name","named"),t.def(y,"$content_model",h=function(t){return this.$option("content_model",t)},h.$$arity=1),t.alias(y,"parse_content_as","content_model"),t.alias(y,"parses_content_as","content_model"),t.def(y,"$positional_attrs",f=function(e){var r,n;return r=t.slice.call(arguments,0,arguments.length),n=r,this.$option("pos_attrs",n.$flatten())},f.$$arity=-1),t.alias(y,"name_attributes","positional_attrs"),t.alias(y,"name_positional_attributes","positional_attrs"),t.def(y,"$default_attrs",p=function(t){return this.$option("default_attrs",t)},p.$$arity=1),t.def(y,"$resolves_attributes",m=function(r){var i,s,$,l,u,h=this,f=o,p=o,m=o;return i=t.slice.call(arguments,0,arguments.length),c(n((s=i).$size(),1))||c((s=s.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(s=[s]),(!0)["$==="](f=s)?(h.$option("pos_attrs",[]),h.$option("default_attrs",_([],{}))):a("::","Array")["$==="](f)?($=[[],_([],{})],p=$[0],m=$[1],d(s,"each",[],((l=function(r){l.$$s;var n,i,s=o,$=o,a=o,u=o;return null==r&&(r=o),c((r=r.$to_s())["$include?"]("="))?(i=r.$split("=",2),n=t.to_ary(i),s=null==n[0]?o:n[0],$=null==n[1]?o:n[1],c(s["$include?"](":"))&&(i=s.$split(":",2),n=t.to_ary(i),a=null==n[0]?o:n[0],s=null==n[1]?o:n[1],a=a["$=="]("@")?p.$size():a.$to_i(),u=[a,s],d(p,"[]=",t.to_a(u)),u[e(u.length,1)]),u=[s,$],d(m,"[]=",t.to_a(u)),u[e(u.length,1)]):c(r["$include?"](":"))?(i=r.$split(":",2),n=t.to_ary(i),a=null==n[0]?o:n[0],s=null==n[1]?o:n[1],a=a["$=="]("@")?p.$size():a.$to_i(),u=[a,s],d(p,"[]=",t.to_a(u)),u[e(u.length,1)]):p["$<<"](r)}).$$s=h,l.$$arity=1,l)),h.$option("pos_attrs",p.$compact()),h.$option("default_attrs",m)):a("::","Hash")["$==="](f)?($=[[],_([],{})],p=$[0],m=$[1],d(s,"each",[],((u=function(r,n){u.$$s;var i,s,$=o,a=o,l=o;return null==r&&(r=o),null==n&&(n=o),c(($=r.$to_s())["$include?"](":"))&&(s=$.$split(":",2),i=t.to_ary(s),a=null==i[0]?o:i[0],$=null==i[1]?o:i[1],a=a["$=="]("@")?p.$size():a.$to_i(),l=[a,$],d(p,"[]=",t.to_a(l)),l[e(l.length,1)]),c(n)?(l=[$,n],d(m,"[]=",t.to_a(l)),l[e(l.length,1)]):o}).$$s=h,u.$$arity=2,u)),h.$option("pos_attrs",p.$compact()),h.$option("default_attrs",m)):h.$raise(a("::","ArgumentError"),"unsupported attributes specification for macro: "+s.$inspect())},m.$$arity=-1),t.alias(y,"resolve_attributes","resolves_attributes")}(y[0],y),function(e,r,n){function i(){}var s,$=i=h(e,r,"Preprocessor",i);$.prototype,[$].concat(n),t.def($,"$process",s=function(t,e){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},s.$$arity=2)}(y[0],l(y,"Processor"),y),t.const_set(l(y,"Preprocessor"),"DSL",l(y,"DocumentProcessorDsl")),function(e,r,n){function i(){}var s,$=i=h(e,r,"TreeProcessor",i);$.prototype,[$].concat(n),t.def($,"$process",s=function(t){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},s.$$arity=1)}(y[0],l(y,"Processor"),y),t.const_set(l(y,"TreeProcessor"),"DSL",l(y,"DocumentProcessorDsl")),t.const_set(y[0],"Treeprocessor",l(y,"TreeProcessor")),function(e,r,n){function i(){}var s,$=i=h(e,r,"Postprocessor",i);$.prototype,[$].concat(n),t.def($,"$process",s=function(t,e){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},s.$$arity=2)}(y[0],l(y,"Processor"),y),t.const_set(l(y,"Postprocessor"),"DSL",l(y,"DocumentProcessorDsl")),function(e,r,n){function i(){}var s,$,o=i=h(e,r,"IncludeProcessor",i);o.prototype,[o].concat(n),t.def(o,"$process",s=function(t,e,r,n){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},s.$$arity=4),t.def(o,"$handles?",$=function(t){return!0},$.$$arity=1)}(y[0],l(y,"Processor"),y),function(e,r){function n(){}var i,s=n=u(e,"IncludeProcessorDsl",n),$=(s.prototype,[s].concat(r));s.$include(l($,"DocumentProcessorDsl")),t.def(s,"$handles?",i=function(e){var r,n,s,$=i.$$p,l=$||o;return null==this.handles_block&&(this.handles_block=o),$&&(i.$$p=null),$&&(i.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=r,l!==o?(c(n["$empty?"]())||this.$raise(a("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),this.handles_block=l):!c((s=this.handles_block,null!=s&&s!==o?"instance-variable":o))||this.handles_block.$call(n["$[]"](0))},i.$$arity=-1)}(y[0],y),t.const_set(l(y,"IncludeProcessor"),"DSL",l(y,"IncludeProcessorDsl")),function(r,n,i){function s(){}var $,l,u=s=h(r,n,"DocinfoProcessor",s),f=u.prototype;[u].concat(i),f.config=o,u.$attr_accessor("location"),t.def(u,"$initialize",$=function(r){var n,i=$.$$p,s=o;return i&&($.$$p=null),null==r&&(r=_([],{})),d(this,t.find_super_dispatcher(this,"initialize",$,!1),[r],null),c(n=this.config["$[]"]("location"))?n:(s=["location","head"],d(this.config,"[]=",t.to_a(s)),s[e(s.length,1)])},$.$$arity=-1),t.def(u,"$process",l=function(t){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},l.$$arity=1)}(y[0],l(y,"Processor"),y),function(e,r){function n(){}var i,s=n=u(e,"DocinfoProcessorDsl",n),$=(s.prototype,[s].concat(r));s.$include(l($,"DocumentProcessorDsl")),t.def(s,"$at_location",i=function(t){return this.$option("location",t)},i.$$arity=1)}(y[0],y),t.const_set(l(y,"DocinfoProcessor"),"DSL",l(y,"DocinfoProcessorDsl")),function(r,n,i){function s(){}var $,l,u=s=h(r,n,"BlockProcessor",s),f=u.prototype;[u].concat(i),f.config=o,u.$attr_accessor("name"),t.def(u,"$initialize",$=function(r,n){var i,s=$.$$p,l=o,u=o;return s&&($.$$p=null),null==r&&(r=o),null==n&&(n=_([],{})),d(this,t.find_super_dispatcher(this,"initialize",$,!1),[n],null),this.name=c(i=r)?i:this.config["$[]"]("name"),l=this.config["$[]"]("contexts"),a("::","NilClass")["$==="](l)?c(i=this.config["$[]"]("contexts"))||(u=["contexts",["open","paragraph"].$to_set()],d(this.config,"[]=",t.to_a(u)),u[e(u.length,1)]):a("::","Symbol")["$==="](l)?(u=["contexts",[this.config["$[]"]("contexts")].$to_set()],d(this.config,"[]=",t.to_a(u)),u[e(u.length,1)]):(u=["contexts",this.config["$[]"]("contexts").$to_set()],d(this.config,"[]=",t.to_a(u)),u[e(u.length,1)]),c(i=this.config["$[]"]("content_model"))?i:(u=["content_model","compound"],d(this.config,"[]=",t.to_a(u)),u[e(u.length,1)])},$.$$arity=-1),t.def(u,"$process",l=function(t,e,r){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},l.$$arity=3)}(y[0],l(y,"Processor"),y),function(e,r){function n(){}var i,s=n=u(e,"BlockProcessorDsl",n),$=(s.prototype,[s].concat(r));s.$include(l($,"SyntaxProcessorDsl")),t.def(s,"$contexts",i=function(e){var r,n;return r=t.slice.call(arguments,0,arguments.length),n=r,this.$option("contexts",n.$flatten().$to_set())},i.$$arity=-1),t.alias(s,"on_contexts","contexts"),t.alias(s,"on_context","contexts"),t.alias(s,"bound_to","contexts")}(y[0],y),t.const_set(l(y,"BlockProcessor"),"DSL",l(y,"BlockProcessorDsl")),function(r,n,i){function s(){}var $,l,u=s=h(r,n,"MacroProcessor",s),f=u.prototype;[u].concat(i),f.config=o,u.$attr_accessor("name"),t.def(u,"$initialize",$=function(r,n){var i,s=$.$$p,a=o;return s&&($.$$p=null),null==r&&(r=o),null==n&&(n=_([],{})),d(this,t.find_super_dispatcher(this,"initialize",$,!1),[n],null),this.name=c(i=r)?i:this.config["$[]"]("name"),c(i=this.config["$[]"]("content_model"))?i:(a=["content_model","attributes"],d(this.config,"[]=",t.to_a(a)),a[e(a.length,1)])},$.$$arity=-1),t.def(u,"$process",l=function(t,e,r){return this.$raise(a("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},l.$$arity=3)}(y[0],l(y,"Processor"),y),function(e,r){function n(){}var i,s=n=u(e,"MacroProcessorDsl",n),$=(s.prototype,[s].concat(r));s.$include(l($,"SyntaxProcessorDsl")),t.def(s,"$resolves_attributes",i=function(e){var r,n,s=i.$$p,$=o,a=o,l=o;for(s&&(i.$$p=null),a=0,l=arguments.length,$=new Array(l);a<l;a++)$[a]=arguments[a];return r=t.slice.call(arguments,0,arguments.length),c((n=r).$size()["$=="](1)?n["$[]"](0)["$!"]():n.$size()["$=="](1))?(this.$option("content_model","text"),o):(d(this,t.find_super_dispatcher(this,"resolves_attributes",i,!1),$,s),this.$option("content_model","attributes"))},i.$$arity=-1),t.alias(s,"resolve_attributes","resolves_attributes")}(y[0],y),function(e,r,n){function i(){}var s,$=i=h(e,r,"BlockMacroProcessor",i),u=$.prototype,_=[$].concat(n);u.name=o,t.def($,"$name",s=function(){return c(l(_,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(a("::","ArgumentError"),"invalid name for block macro: "+this.name),this.name},s.$$arity=0)}(y[0],l(y,"MacroProcessor"),y),t.const_set(l(y,"BlockMacroProcessor"),"DSL",l(y,"MacroProcessorDsl")),function(r,n,i){function s(){}var $,u,f=s=h(r,n,"InlineMacroProcessor",s),p=f.prototype,m=[f].concat(i);p.config=p.name=o,t.class_variable_set(s,"@@rx_cache",_([],{})),t.def(f,"$regexp",$=function(){var r,n=o;return c(r=this.config["$[]"]("regexp"))?r:(n=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],d(this.config,"[]=",t.to_a(n)),n[e(n.length,1)])},$.$$arity=0),t.def(f,"$resolve_regexp",u=function(r,n){var i,$,u=o;return c(l(m,"MacroNameRx")["$match?"](r))||this.$raise(a("::","ArgumentError"),"invalid name for inline macro: "+r),c(i=(null==($=s.$$cvars["@@rx_cache"])?o:$)["$[]"]([r,n]))?i:(u=[[r,n],new RegExp("\\\\?"+r+":"+(n["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],d(null==($=s.$$cvars["@@rx_cache"])?o:$,"[]=",t.to_a(u)),u[e(u.length,1)])},u.$$arity=2)}(y[0],l(y,"MacroProcessor"),y),function(e,r){function n(){}var i,s,$=n=u(e,"InlineMacroProcessorDsl",n),o=($.prototype,[$].concat(r));$.$include(l(o,"MacroProcessorDsl")),t.def($,"$with_format",i=function(t){return this.$option("format",t)},i.$$arity=1),t.alias($,"using_format","with_format"),t.def($,"$matches",s=function(t){return this.$option("regexp",t)},s.$$arity=1),t.alias($,"match","matches"),t.alias($,"matching","matches")}(y[0],y),t.const_set(l(y,"InlineMacroProcessor"),"DSL",l(y,"InlineMacroProcessorDsl")),function(e,r,n){function i(){}var s,$=i=h(e,null,"Extension",i);$.prototype,[$].concat(n),$.$attr_reader("kind"),$.$attr_reader("config"),$.$attr_reader("instance"),t.def($,"$initialize",s=function(t,e,r){return this.kind=t,this.instance=e,this.config=r},s.$$arity=3)}(y[0],0,y),function(e,r,n){function i(){}var s,$=i=h(e,r,"ProcessorExtension",i);$.prototype,[$].concat(n),$.$attr_reader("process_method"),t.def($,"$initialize",s=function(e,r,n){var i,$=s.$$p;return $&&(s.$$p=null),null==n&&(n=o),d(this,t.find_super_dispatcher(this,"initialize",s,!1),[e,r,r.$config()],null),this.process_method=c(i=n)?i:r.$method("process")},s.$$arity=-3)}(y[0],l(y,"Extension"),y),function(e,r,n){function i(){}var s,$=i=h(e,null,"Group",i),c=($.prototype,[$].concat(n));(function(e,r){e.prototype;var n,i=[e].concat(r);t.def(e,"$register",n=function(t){return null==t&&(t=o),l(i,"Extensions").$register(t,this)},n.$$arity=-1)})(t.get_singleton_class($),c),t.def($,"$activate",s=function(t){return this.$raise(a("::","NotImplementedError"))},s.$$arity=1)}(y[0],0,y),function(s,$,u){function f(){}var p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J=f=h(s,null,"Registry",f),Z=J.prototype,Q=[J].concat(u);Z.groups=Z.preprocessor_extensions=Z.tree_processor_extensions=Z.postprocessor_extensions=Z.include_processor_extensions=Z.docinfo_processor_extensions=Z.block_extensions=Z.block_macro_extensions=Z.inline_macro_extensions=o,J.$attr_reader("document"),J.$attr_reader("groups"),t.def(J,"$initialize",p=function(t){return null==t&&(t=_([],{})),this.groups=t,this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=o,this.document=o},p.$$arity=-1),t.def(J,"$activate",m=function(t){var e,n=o;return this.document=t,c((n=r(l(Q,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||d(n,"each",[],((e=function(t){var r=e.$$s||this,n=o;return null==t&&(t=o),n=t,a("::","Proc")["$==="](n)?(n=t.$arity(),(0)["$==="](n)||(-1)["$==="](n)?d(r,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(r):o):a("::","Class")["$==="](n)?t.$new().$activate(r):t.$activate(r)}).$$s=this,e.$$arity=1,e)),this},m.$$arity=1),t.def(J,"$preprocessor",y=function(e){var r,n=y.$$p,i=n||o;return n&&(y.$$p=null),n&&(y.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_document_processor",["preprocessor",r],i.$to_proc())},y.$$arity=-1),t.def(J,"$preprocessors?",g=function(){return this.preprocessor_extensions["$!"]()["$!"]()},g.$$arity=0),t.def(J,"$preprocessors",b=function(){return this.preprocessor_extensions},b.$$arity=0),t.def(J,"$tree_processor",v=function(e){var r,n=v.$$p,i=n||o;return n&&(v.$$p=null),n&&(v.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_document_processor",["tree_processor",r],i.$to_proc())},v.$$arity=-1),t.def(J,"$tree_processors?",x=function(){return this.tree_processor_extensions["$!"]()["$!"]()},x.$$arity=0),t.def(J,"$tree_processors",w=function(){return this.tree_processor_extensions},w.$$arity=0),t.alias(J,"treeprocessor","tree_processor"),t.alias(J,"treeprocessors?","tree_processors?"),t.alias(J,"treeprocessors","tree_processors"),t.def(J,"$postprocessor",k=function(e){var r,n=k.$$p,i=n||o;return n&&(k.$$p=null),n&&(k.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_document_processor",["postprocessor",r],i.$to_proc())},k.$$arity=-1),t.def(J,"$postprocessors?",E=function(){return this.postprocessor_extensions["$!"]()["$!"]()},E.$$arity=0),t.def(J,"$postprocessors",A=function(){return this.postprocessor_extensions},A.$$arity=0),t.def(J,"$include_processor",O=function(e){var r,n=O.$$p,i=n||o;return n&&(O.$$p=null),n&&(O.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_document_processor",["include_processor",r],i.$to_proc())},O.$$arity=-1),t.def(J,"$include_processors?",S=function(){return this.include_processor_extensions["$!"]()["$!"]()},S.$$arity=0),t.def(J,"$include_processors",R=function(){return this.include_processor_extensions},R.$$arity=0),t.def(J,"$docinfo_processor",C=function(e){var r,n=C.$$p,i=n||o;return n&&(C.$$p=null),n&&(C.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_document_processor",["docinfo_processor",r],i.$to_proc())},C.$$arity=-1),t.def(J,"$docinfo_processors?",T=function(t){var e;return null==t&&(t=o),!!c(this.docinfo_processor_extensions)&&(!c(t)||d(this.docinfo_processor_extensions,"any?",[],((e=function(r){return e.$$s,null==r&&(r=o),r.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)))},T.$$arity=-1),t.def(J,"$docinfo_processors",M=function(t){var e;return null==t&&(t=o),c(this.docinfo_processor_extensions)?c(t)?d(this.docinfo_processor_extensions,"select",[],((e=function(r){return e.$$s,null==r&&(r=o),r.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)):this.docinfo_processor_extensions:o},M.$$arity=-1),t.def(J,"$block",I=function(e){var r,n=I.$$p,i=n||o;return n&&(I.$$p=null),n&&(I.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_syntax_processor",["block",r],i.$to_proc())},I.$$arity=-1),t.def(J,"$blocks?",N=function(){return this.block_extensions["$!"]()["$!"]()},N.$$arity=0),t.def(J,"$registered_for_block?",P=function(t,e){var r=o;return!!c(r=this.block_extensions["$[]"](t.$to_sym()))&&!!c(r.$config()["$[]"]("contexts")["$include?"](e))&&r},P.$$arity=2),t.def(J,"$find_block_extension",L=function(t){return this.block_extensions["$[]"](t.$to_sym())},L.$$arity=1),t.def(J,"$block_macro",D=function(e){var r,n=D.$$p,i=n||o;return n&&(D.$$p=null),n&&(D.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_syntax_processor",["block_macro",r],i.$to_proc())},D.$$arity=-1),t.def(J,"$block_macros?",F=function(){return this.block_macro_extensions["$!"]()["$!"]()},F.$$arity=0),t.def(J,"$registered_for_block_macro?",z=function(t){var e=o;return!!c(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},z.$$arity=1),t.def(J,"$find_block_macro_extension",B=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},B.$$arity=1),t.def(J,"$inline_macro",q=function(e){var r,n=q.$$p,i=n||o;return n&&(q.$$p=null),n&&(q.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(this,"add_syntax_processor",["inline_macro",r],i.$to_proc())},q.$$arity=-1),t.def(J,"$inline_macros?",j=function(){return this.inline_macro_extensions["$!"]()["$!"]()},j.$$arity=0),t.def(J,"$registered_for_inline_macro?",U=function(t){var e=o;return!!c(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},U.$$arity=1),t.def(J,"$find_inline_macro_extension",H=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},H.$$arity=1),t.def(J,"$inline_macros",Y=function(){return this.inline_macro_extensions.$values()},Y.$$arity=0),t.def(J,"$prefer",G=function(e){var r,n,i=G.$$p,s=i||o,$=this,a=o,u=o,h=o;return i&&(G.$$p=null),i&&(G.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=r,a=c(l(Q,"ProcessorExtension")["$==="](u=n.$shift()))?u:d($,"send",[u].concat(t.to_a(n)),s.$to_proc()),(h=$.$instance_variable_get(("@"+a.$kind()+"_extensions").$to_sym())).$unshift(h.$delete(a)),a},G.$$arity=-1),J.$private(),t.def(J,"$add_document_processor",W=function(e,r){var n,s,$,u=W.$$p,h=u||o,_=this,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o;return u&&(W.$$p=null),u&&(W.$$p=null),f=e.$to_s().$tr("_"," "),p=d(f.$split(),"map",[],(n=function(t){return n.$$s,null==t&&(t=o),t.$capitalize()},n.$$s=_,n.$$arity=1,n)).$join().$to_sym(),m=l(Q,"Extensions").$const_get(p),y=c(a("::","AsciidoctorJ","skip_raise")?"constant":o)?a(a("::","AsciidoctorJ"),"Extensions").$const_get(p):o,g=c(s=_.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?s:_.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),(b=h!==o?(v=_.$resolve_args(r,1),x=m.$new(v),c(m.$constants().$grep("DSL"))&&x.$extend(m.$const_get("DSL")),d(x,"instance_exec",[],h.$to_proc()),x.$freeze(),c(x["$process_block_given?"]())||_.$raise(a("::","ArgumentError"),"No block specified to process "+f+" extension at "+h.$source_location()),l(Q,"ProcessorExtension").$new(e,x)):($=_.$resolve_args(r,2),s=t.to_ary($),x=null==s[0]?o:s[0],v=null==s[1]?o:s[1],c(w=l(Q,"Extensions").$resolve_class(x))?(c(c(s=i(w,m))?s:c($=y)?i(w,y):$)||_.$raise(a("::","ArgumentError"),"Invalid type for "+f+" extension: "+x),(k=w.$new(v)).$freeze(),l(Q,"ProcessorExtension").$new(e,k)):c(c(s=m["$==="](x))?s:c($=y)?y["$==="](x):$)?(x.$update_config(v),x.$freeze(),l(Q,"ProcessorExtension").$new(e,x)):_.$raise(a("::","ArgumentError"),"Invalid arguments specified for registering "+f+" extension: "+r))).$config()["$[]"]("position")["$=="](">>")?g.$unshift(b):g["$<<"](b),b},W.$$arity=2),t.def(J,"$add_syntax_processor",V=function(r,n){var s,$,u,h=V.$$p,f=h||o,p=this,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o;return h&&(V.$$p=null),h&&(V.$$p=null),m=r.$to_s().$tr("_"," "),y=d(m.$split(),"map",[],(s=function(t){return s.$$s,null==t&&(t=o),t.$capitalize()},s.$$s=p,s.$$arity=1,s)).$push("Processor").$join().$to_sym(),g=l(Q,"Extensions").$const_get(y),b=c(a("::","AsciidoctorJ","skip_raise")?"constant":o)?a(a("::","AsciidoctorJ"),"Extensions").$const_get(y):o,v=c($=p.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?$:p.$instance_variable_set(("@"+r+"_extensions").$to_sym(),_([],{})),f!==o?(u=p.$resolve_args(n,2),$=t.to_ary(u),x=null==$[0]?o:$[0],w=null==$[1]?o:$[1],k=g.$new(p.$as_symbol(x),w),c(g.$constants().$grep("DSL"))&&k.$extend(g.$const_get("DSL")),f.$arity()["$=="](1)?t.yield1(f,k):d(k,"instance_exec",[],f.$to_proc()),c(x=p.$as_symbol(k.$name()))||p.$raise(a("::","ArgumentError"),"No name specified for "+m+" extension at "+f.$source_location()),c(k["$process_block_given?"]())||p.$raise(a("::","NoMethodError"),"No block specified to process "+m+" extension at "+f.$source_location()),k.$freeze(),E=[x,l(Q,"ProcessorExtension").$new(r,k)],d(v,"[]=",t.to_a(E)),E[e(E.length,1)]):(u=p.$resolve_args(n,3),$=t.to_ary(u),k=null==$[0]?o:$[0],x=null==$[1]?o:$[1],w=null==$[2]?o:$[2],c(A=l(Q,"Extensions").$resolve_class(k))?(c(c($=i(A,g))?$:c(u=b)?i(A,b):u)||p.$raise(a("::","ArgumentError"),"Class specified for "+m+" extension does not inherit from "+g+": "+k),O=A.$new(p.$as_symbol(x),w),c(x=p.$as_symbol(O.$name()))||p.$raise(a("::","ArgumentError"),"No name specified for "+m+" extension: "+k),O.$freeze(),E=[x,l(Q,"ProcessorExtension").$new(r,O)],d(v,"[]=",t.to_a(E)),E[e(E.length,1)]):c(c($=g["$==="](k))?$:c(u=b)?b["$==="](k):u)?(k.$update_config(w),c(x=c(x)?(E=[p.$as_symbol(x)],d(k,"name=",t.to_a(E)),E[e(E.length,1)]):p.$as_symbol(k.$name()))||p.$raise(a("::","ArgumentError"),"No name specified for "+m+" extension: "+k),k.$freeze(),E=[x,l(Q,"ProcessorExtension").$new(r,k)],d(v,"[]=",t.to_a(E)),E[e(E.length,1)]):p.$raise(a("::","ArgumentError"),"Invalid arguments specified for registering "+m+" extension: "+n))},V.$$arity=2),t.def(J,"$resolve_args",K=function(t,s){var $=o,l=o;return $=c(a("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():_([],{}),s["$=="](1)?$:(c(n(l=e(e(s,1),t.$size()),0))?t=r(t,a("::","Array").$new(l)):c(i(l,0))&&t.$pop(l["$-@"]()),t["$<<"]($),t)},K.$$arity=2),t.def(J,"$as_symbol",X=function(t){return c(t)?t.$to_sym():o},X.$$arity=1)}(y[0],0,y),function(n,i){n.prototype;var s,$,u,h,p,m,y,g,b,v,x,w=[n].concat(i);t.def(n,"$generate_name",s=function(){return"extgrp"+this.$next_auto_id()},s.$$arity=0),t.def(n,"$next_auto_id",$=function(){var t;return null==this.auto_id&&(this.auto_id=o),this.auto_id=c(t=this.auto_id)?t:-1,this.auto_id=r(this.auto_id,1)},$.$$arity=0),t.def(n,"$groups",u=function(){var t;return null==this.groups&&(this.groups=o),this.groups=c(t=this.groups)?t:_([],{})},u.$$arity=0),t.def(n,"$create",h=function(t){var e,r=h.$$p,n=r||o;return r&&(h.$$p=null),r&&(h.$$p=null),null==t&&(t=o),n!==o?l(w,"Registry").$new(f(c(e=t)?e:this.$generate_name(),n)):l(w,"Registry").$new()},h.$$arity=-1),t.alias(n,"build_registry","create"),t.def(n,"$register",p=function(r){var n,i,s,$=p.$$p,l=$||o,u=o,h=o,_=o,f=o,m=o;return $&&(p.$$p=null),$&&(p.$$p=null),n=t.slice.call(arguments,0,arguments.length),u=(i=n).$size(),l!==o?h=l:c(_=i.$pop())?h=c(s=this.$resolve_class(_))?s:_:this.$raise(a("::","ArgumentError"),"Extension group to register not specified"),f=c(s=i.$pop())?s:this.$generate_name(),c(i["$empty?"]())||this.$raise(a("::","ArgumentError"),"Wrong number of arguments ("+u+" for 1..2)"),m=[f.$to_sym(),h],d(this.$groups(),"[]=",t.to_a(m)),m[e(m.length,1)]},p.$$arity=-1),t.def(n,"$unregister_all",m=function(){return this.groups=_([],{}),o},m.$$arity=0),t.def(n,"$unregister",y=function(e){var r,n;return r=t.slice.call(arguments,0,arguments.length),d(r,"each",[],((n=function(t){var e=n.$$s||this;return null==e.groups&&(e.groups=o),null==t&&(t=o),e.groups.$delete(t.$to_sym())}).$$s=this,n.$$arity=1,n)),o},y.$$arity=-1),t.def(n,"$resolve_class",g=function(t){var e=this,r=o;return r=t,a("::","Class")["$==="](r)?t:a("::","String")["$==="](r)?e.$class_for_name(t):o},g.$$arity=1),c(a("::","RUBY_MIN_VERSION_2"))?t.def(n,"$class_for_name",b=function(e){var r=o;try{return r=a("::","Object").$const_get(e,!1),c(a("::","Class")["$==="](r))||this.$raise(),r}catch(r){if(!t.rescue(r,[l(w,"StandardError")]))throw r;try{return this.$raise(a("::","NameError"),"Could not resolve class for name: "+e)}finally{t.pop_exception()}}},b.$$arity=1):c(a("::","RUBY_MIN_VERSION_1_9"))?t.def(n,"$class_for_name",v=function(e){var r,n=o;try{return n=d(e.$split("::"),"reduce",[a("::","Object")],((r=function(t,e){return r.$$s,null==t&&(t=o),null==e&&(e=o),c(e["$empty?"]())?t:t.$const_get(e,!1)}).$$s=this,r.$$arity=2,r)),c(a("::","Class")["$==="](n))||this.$raise(),n}catch(r){if(!t.rescue(r,[l(w,"StandardError")]))throw r;try{return this.$raise(a("::","NameError"),"Could not resolve class for name: "+e)}finally{t.pop_exception()}}},v.$$arity=1):t.def(n,"$class_for_name",x=function(e){var r,n=o;try{return n=d(e.$split("::"),"reduce",[a("::","Object")],((r=function(t,e){var n=r.$$s||this;return null==t&&(t=o),null==e&&(e=o),c(e["$empty?"]())?t:c(t["$const_defined?"](e))?t.$const_get(e):n.$raise()}).$$s=this,r.$$arity=2,r)),c(a("::","Class")["$==="](n))||this.$raise(),n}catch(r){if(!t.rescue(r,[l(w,"StandardError")]))throw r;try{return this.$raise(a("::","NameError"),"Could not resolve class for name: "+e)}finally{t.pop_exception()}}},x.$$arity=1)}(t.get_singleton_class(m),y)}(y[0],y)}($[0],$)},i.modules["asciidoctor/js/opal_ext/browser/reader"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.klass,$=t.truthy;return t.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(e,o){function a(){}var l=a=i(e,"Asciidoctor",a),c=(l.prototype,[l].concat(o));!function(e,i,o){function a(){}var l,c=a=s(e,i,"PreprocessorReader",a),u=c.prototype,h=[c].concat(o);u.path_resolver=u.document=u.include_stack=u.dir=r,t.def(c,"$resolve_include_path",l=function(t,e,i){var s,o=this,a=r,l=r,c=r,u=r,_=r,d=r,f=r;if(a=(o.path_resolver=$(s=o.path_resolver)?s:n(h,"PathResolver").$new("\\")).$posixify(t),(s=["file",o.document.$base_dir()])[0],l=s[1],$(a["$start_with?"]("file://")))c=u=a;else if($(n(h,"Helpers")["$uriish?"](a))){if(!$($(s=o.path_resolver["$descends_from?"](a,l))?s:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");c=u=a}else if($(o.path_resolver["$absolute_path?"](a)))c=u="file://"+($(a["$start_with?"]("/"))?"":"/")+a;else if((_=$(d=o.include_stack["$empty?"]())?l:o.dir)["$=="]("."))c=u=a;else if($($(s=_["$start_with?"]("file://"))?s:n(h,"Helpers")["$uriish?"](_)["$!"]()))c=_+"/"+a,u=$(d)?a:$($(s=l["$=="]("."))?s:(f=o.path_resolver["$descends_from?"](c,l))["$!"]())?c:c.$slice(f,c.$length());else if($(d))c=_+"/"+(u=a);else{if(!$($(s=f=o.path_resolver["$descends_from?"](_,l))?s:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");c=_+"/"+a,u=$(f)?c.$slice(f,c.$length()):a}return[c,"file",u]},l.$$arity=3)}(c[0],n(c,"Reader"),c)}(e[0],e)},i.modules["asciidoctor/js/postscript"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);return t.breaker,t.slice,t.add_stubs(["$require","$=="]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e.$require("asciidoctor/js/opal_ext/browser/reader"):r},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,i=[],s=t.nil,$=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.truthy),l=t.gvars,c=t.module,u=t.hash2,h=t.send,_=t.hash;null==l[":"]&&(l[":"]=s),t.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$default=","$to_a","$escape","$drop","$insert","$dup","$start","$logger","$logger=","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$utc_offset","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$mkdir_p","$directory?","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$file?","$write_coderay_stylesheet","$write_pygments_stylesheet"]),a(o(i,"RUBY_ENGINE","skip_raise")?"constant":s)||t.const_set(i[0],"RUBY_ENGINE","unknown"),t.const_set(i[0],"RUBY_ENGINE_OPAL",o(i,"RUBY_ENGINE")["$=="]("opal")),t.const_set(i[0],"RUBY_ENGINE_JRUBY",o(i,"RUBY_ENGINE")["$=="]("jruby")),t.const_set(i[0],"RUBY_MIN_VERSION_1_9",e(o(i,"RUBY_VERSION"),"1.9")),t.const_set(i[0],"RUBY_MIN_VERSION_2",e(o(i,"RUBY_VERSION"),"2")),n.$require("set"),o(i,"RUBY_ENGINE")["$=="]("opal")&&n.$require("asciidoctor/js"),l[":"].$unshift(o(i,"File").$dirname("asciidoctor.rb")),n.$require("asciidoctor/logging"),function(n,i){function l(){}var d,f,p,m,y=l=c(n,"Asciidoctor",l),g=(y.prototype,[y].concat(i)),b=s,v=s,x=s;t.const_set(g[0],"RUBY_ENGINE",$("::","RUBY_ENGINE")),function(e,n){function i(){}var $,o,a,l,_=i=c(e,"SafeMode",i),d=(_.prototype,[_].concat(n)),f=s;t.const_set(d[0],"UNSAFE",0),t.const_set(d[0],"SAFE",1),t.const_set(d[0],"SERVER",10),t.const_set(d[0],"SECURE",20),f=u([],{}),h((t.Module.$$nesting=d,_.$constants()),"each",[],(($=function(e){var n=$.$$s||this,i=s;return null==e&&(e=s),i=[n.$const_get(e),e.$to_s().$downcase()],h(f,"[]=",t.to_a(i)),i[r(i.length,1)]}).$$s=_,$.$$arity=1,$)),_.names_by_value=f,t.defs(_,"$value_for_name",o=function(t){return this.$const_get(t.$upcase())},o.$$arity=1),t.defs(_,"$name_for_value",a=function(t){return null==this.names_by_value&&(this.names_by_value=s),this.names_by_value["$[]"](t)},a.$$arity=1),t.defs(_,"$names",l=function(){return null==this.names_by_value&&(this.names_by_value=s),this.names_by_value.$values()},l.$$arity=0)}(g[0],g),function(e,r){function n(){}var i,o=n=c(e,"Compliance",n),a=(o.prototype,[o].concat(r));o.keys=$("::","Set").$new(),function(t,e){t.prototype,[t].concat(e),t.$attr_reader("keys")}(t.get_singleton_class(o),a),t.defs(o,"$define",i=function(e,r){return null==this.keys&&(this.keys=s),this.$instance_variable_set("@"+e,r),function(t,e){return t.prototype,[t].concat(e),t}(t.get_singleton_class(this),a).$send("attr_accessor",e),this.keys["$<<"](e),s},i.$$arity=2),o.$define("block_terminates_paragraph",!0),o.$define("strict_verbatim_paragraphs",!0),o.$define("underline_style_section_titles",!0),o.$define("unwrap_standalone_preamble",!0),o.$define("attribute_missing","skip"),o.$define("attribute_undefined","drop-line"),o.$define("shorthand_property_syntax",!0),o.$define("natural_xrefs",!0),o.$define("unique_id_start_index",2),o.$define("markdown_syntax",!0)}(g[0],g),t.const_set(g[0],"ROOT_PATH",$("::","File").$dirname($("::","File").$dirname($("::","File").$expand_path("asciidoctor.rb")))),t.const_set(g[0],"DATA_PATH",$("::","File").$join(o(g,"ROOT_PATH"),"data"));try{t.const_set(g[0],"USER_HOME",$("::","Dir").$home())}catch(e){if(!t.rescue(e,[o(g,"StandardError")]))throw e;try{t.const_set(g[0],"USER_HOME",a(d=$("::","ENV")["$[]"]("HOME"))?d:$("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(g[0],"COERCE_ENCODING",a(d=$("::","RUBY_ENGINE_OPAL")["$!"]())?$("::","RUBY_MIN_VERSION_1_9"):d),t.const_set(g[0],"FORCE_ENCODING",a(d=o(g,"COERCE_ENCODING"))?$("::","Encoding").$default_external()["$!="]($($("::","Encoding"),"UTF_8")):d),t.const_set(g[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(g[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(g[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(g[0],"FORCE_UNICODE_LINE_LENGTH",$("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(g[0],"LF",t.const_set(g[0],"EOL","\n")),t.const_set(g[0],"NULL","\0"),t.const_set(g[0],"TAB","\t"),t.const_set(g[0],"MAX_INT",9007199254740991),t.const_set(g[0],"DEFAULT_DOCTYPE","article"),t.const_set(g[0],"DEFAULT_BACKEND","html5"),t.const_set(g[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(g[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(g[0],"BACKEND_ALIASES",u(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(g[0],"DEFAULT_PAGE_WIDTHS",u(["docbook"],{docbook:425})),t.const_set(g[0],"DEFAULT_EXTENSIONS",u(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(g[0],"ASCIIDOC_EXTENSIONS",u([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),t.const_set(g[0],"SETEXT_SECTION_LEVELS",u(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(g[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(g[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),t.const_set(g[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(g[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(g[0],"DELIMITED_BLOCKS",u(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",$("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",$("::","Set").$new()],",===":["table",$("::","Set").$new()],":===":["table",$("::","Set").$new()],"!===":["table",$("::","Set").$new()],"////":["comment",$("::","Set").$new()],"```":["fenced_code",$("::","Set").$new()]})),t.const_set(g[0],"DELIMITED_BLOCK_HEADS",h(o(g,"DELIMITED_BLOCKS").$keys(),"map",[],(f=function(t){return f.$$s,null==t&&(t=s),t.$slice(0,2)},f.$$s=y,f.$$arity=1,f)).$to_set()),t.const_set(g[0],"LAYOUT_BREAK_CHARS",u(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(g[0],"MARKDOWN_THEMATIC_BREAK_CHARS",u(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(g[0],"HYBRID_LAYOUT_BREAK_CHARS",o(g,"LAYOUT_BREAK_CHARS").$merge(o(g,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(g[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(g[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(g[0],"ORDERED_LIST_KEYWORDS",u(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(g[0],"ATTR_REF_HEAD","{"),t.const_set(g[0],"LIST_CONTINUATION","+"),t.const_set(g[0],"HARD_LINE_BREAK"," +"),t.const_set(g[0],"LINE_CONTINUATION"," \\"),t.const_set(g[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(g[0],"MATHJAX_VERSION","2.7.4"),t.const_set(g[0],"BLOCK_MATH_DELIMITERS",u(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(g[0],"INLINE_MATH_DELIMITERS",u(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),b=["asciimath"],h(t.const_set(g[0],"STEM_TYPE_ALIASES",u(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",t.to_a(b)),b[r(b.length,1)],t.const_set(g[0],"FONT_AWESOME_VERSION","4.7.0"),t.const_set(g[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),o(g,"RUBY_ENGINE")["$=="]("opal")&&(a((d=o(g,"CC_ANY","skip_raise"))?"constant":s)||t.const_set(g[0],"CC_ANY","[^\\n]")),t.const_set(g[0],"AuthorInfoLineRx",new RegExp("^("+o(g,"CG_WORD")+"["+o(g,"CC_WORD")+"\\-'.]*)(?: +("+o(g,"CG_WORD")+"["+o(g,"CC_WORD")+"\\-'.]*))?(?: +("+o(g,"CG_WORD")+"["+o(g,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(g[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+o(g,"CC_ANY")+"*?),)? *(?!:)("+o(g,"CC_ANY")+"*?)(?: *(?!^),?: *("+o(g,"CC_ANY")+"*))?$")),t.const_set(g[0],"ManpageTitleVolnumRx",new RegExp("^("+o(g,"CC_ANY")+"+?) *\\( *("+o(g,"CC_ANY")+"+?) *\\)$")),t.const_set(g[0],"ManpageNamePurposeRx",new RegExp("^("+o(g,"CC_ANY")+"+?) +- +("+o(g,"CC_ANY")+"+)$")),t.const_set(g[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+o(g,"CC_ANY")+"+)?\\]$")),t.const_set(g[0],"EvalExpressionRx",new RegExp("^("+o(g,"CC_ANY")+"+?) *([=!><]=|[><]) *("+o(g,"CC_ANY")+"+)$")),t.const_set(g[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+o(g,"CC_ANY")+"+)?\\]$")),t.const_set(g[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),t.const_set(g[0],"AttributeEntryRx",new RegExp("^:(!?"+o(g,"CG_WORD")+"[^:]*):(?:[ \\t]+("+o(g,"CC_ANY")+"*))?$")),t.const_set(g[0],"InvalidAttributeNameCharsRx",new RegExp("[^-"+o(g,"CC_WORD")+"]")),o(g,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(g[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),t.const_set(g[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+o(g,"CG_WORD")+"[-"+o(g,"CC_WORD")+"]*|(set|counter2?):"+o(g,"CC_ANY")+"+?)(\\\\)?\\}")),t.const_set(g[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)(?:, *("+o(g,"CC_ANY")+"+))?)\\]\\]$")),t.const_set(g[0],"BlockAttributeListRx",new RegExp("^\\[(|["+o(g,"CC_WORD")+".#%{,\"']"+o(g,"CC_ANY")+"*)\\]$")),t.const_set(g[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+o(g,"CC_WORD")+".#%{,\"']"+o(g,"CC_ANY")+"*|\\[(?:|["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*(?:, *"+o(g,"CC_ANY")+"+)?)\\])\\]$")),t.const_set(g[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+o(g,"CC_ANY")+"*)$")),t.const_set(g[0],"AdmonitionParagraphRx",new RegExp("^("+o(g,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),t.const_set(g[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+o(g,"CC_ANY")+"*)$")),t.const_set(g[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+o(g,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(g[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+o(g,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(g[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+o(g,"CC_ANY")+"*?"+o(g,"CG_WORD")+o(g,"CC_ANY")+"*)$")),t.const_set(g[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)(?:, *("+o(g,"CC_ANY")+"+))?\\]\\]$")),t.const_set(g[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+o(g,"CC_WORD")+"\\-.]+?")),t.const_set(g[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])"+o(g,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<?\\d+>[ \\t])")),t.const_set(g[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+o(g,"CC_ANY")+"*)$")),t.const_set(g[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+o(g,"CC_ANY")+"*)$")),t.const_set(g[0],"OrderedListMarkerRxMap",u(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(g[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*("+o(g,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+o(g,"CC_ANY")+"*)$)")),t.const_set(g[0],"DescriptionListSiblingRx",u(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*("+o(g,"CC_ANY")+"*[^:]|)(::)(?:$|[ \\t]+("+o(g,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*("+o(g,"CC_ANY")+"*[^:]|)(:::)(?:$|[ \\t]+("+o(g,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*("+o(g,"CC_ANY")+"*[^:]|)(::::)(?:$|[ \\t]+("+o(g,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*("+o(g,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+o(g,"CC_ANY")+"*)$)")})),t.const_set(g[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+o(g,"CC_ANY")+"*)$")),t.const_set(g[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),t.const_set(g[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),t.const_set(g[0],"CalloutExtractRxMap",h($("::","Hash"),"new",[],((p=function(e,n){return p.$$s,null==e&&(e=s),null==n&&(n=s),b=[n,new RegExp("("+$("::","Regexp").$escape(n)+" ?)?"+o(g,"CalloutExtractRxt"))],h(e,"[]=",t.to_a(b)),b[r(b.length,1)]}).$$s=y,p.$$arity=2,p))),t.const_set(g[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+o(g,"CC_EOL")+")")),t.const_set(g[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+o(g,"CC_EOL")+")")),t.const_set(g[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+o(g,"CC_EOL")+")"),t.const_set(g[0],"CalloutSourceRxMap",h($("::","Hash"),"new",[],((m=function(e,n){return m.$$s,null==e&&(e=s),null==n&&(n=s),b=[n,new RegExp("("+$("::","Regexp").$escape(n)+" ?)?"+o(g,"CalloutSourceRxt"))],h(e,"[]=",t.to_a(b)),b[r(b.length,1)]}).$$s=y,m.$$arity=2,m))),t.const_set(g[0],"ListRxMap",u(["ulist","olist","dlist","colist"],{ulist:o(g,"UnorderedListRx"),olist:o(g,"OrderedListRx"),dlist:o(g,"DescriptionListRx"),colist:o(g,"CalloutListRx")})),t.const_set(g[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),t.const_set(g[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(g[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(g[0],"CustomBlockMacroRx",new RegExp("^("+o(g,"CG_WORD")+"[-"+o(g,"CC_WORD")+"]*)::(|\\S|\\S"+o(g,"CC_ANY")+"*?\\S)\\[("+o(g,"CC_ANY")+"+)?\\]$")),t.const_set(g[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+o(g,"CC_ANY")+"*?\\S)\\[("+o(g,"CC_ANY")+"+)?\\]$")),t.const_set(g[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+o(g,"CC_ANY")+"+)?\\]$")),t.const_set(g[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)(?:, *("+o(g,"CC_ANY")+"+?))?\\]\\]|anchor:(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)\\[(?:\\]|("+o(g,"CC_ANY")+"*?[^\\\\])\\]))")),t.const_set(g[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)(?:, *("+o(g,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)\\[(?:\\]|("+o(g,"CC_ANY")+"*?[^\\\\])\\])")),t.const_set(g[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)(?:, *("+o(g,"CC_ANY")+"+?))?\\]\\]")),t.const_set(g[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+o(g,"CC_ALPHA")+"_:]["+o(g,"CC_WORD")+":.-]*)(?:, *("+o(g,"CC_ANY")+"+?))?\\]\\]\\]")),t.const_set(g[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+o(g,"CG_WORD")+"["+o(g,"CC_WORD")+".%+-]*@"+o(g,"CG_ALNUM")+"["+o(g,"CC_ALNUM")+".-]*\\."+o(g,"CG_ALPHA")+"{2,4}\\b")),t.const_set(g[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+o(g,"CC_ALL")+"*?[^\\\\]))\\]","m")),t.const_set(g[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+o(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+o(g,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+o(g,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(g[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+o(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"InlineLinkRx",new RegExp("(^|link:|"+o(g,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+o(g,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(g[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+o(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"MacroNameRx",new RegExp("^"+o(g,"CG_WORD")+"[-"+o(g,"CC_WORD")+"]*$")),t.const_set(g[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+o(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+o(g,"CG_WORD")+"|["+o(g,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+o(g,"CC_ALL")+"*?[^\\\\])?\\]","m")),t.const_set(g[0],"InlineMenuRx",new RegExp('\\\\?"(['+o(g,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(g[0],"InlinePassRx",_(!1,["+","`",new RegExp("(^|[^"+o(g,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)\\4)(?!"+o(g,"CG_WORD")+")","m")],!0,["`",s,new RegExp("(^|[^`"+o(g,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+o(g,"CC_ALL")+"*?\\S)\\4)(?![`"+o(g,"CC_WORD")+"])","m")])),t.const_set(g[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)\\+$","m")),t.const_set(g[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+o(g,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+o(g,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(g[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+o(g,"CC_WORD")+"#/.:{]"+o(g,"CC_ALL")+"*?)&gt;&gt;|xref:(["+o(g,"CC_WORD")+"#/.:{]"+o(g,"CC_ALL")+"*?)\\[(?:\\]|("+o(g,"CC_ALL")+"*?[^\\\\])\\]))","m")),o(g,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(g[0],"HardLineBreakRx",new RegExp("^("+o(g,"CC_ANY")+"*) \\+$","m")),t.const_set(g[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(g[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(g[0],"BlankLineRx",/\n{2,}/),t.const_set(g[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(g[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(g[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(g[0],"SubModifierSniffRx",/[+-]/),t.const_set(g[0],"TrailingDigitsRx",/\d+$/),o(g,"RUBY_ENGINE")["$=="]("opal"),t.const_set(g[0],"UriSniffRx",new RegExp("^"+o(g,"CG_ALPHA")+"["+o(g,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(g[0],"UriTerminatorRx",/[);:]$/),t.const_set(g[0],"XmlSanitizeRx",/<[^>]+>/),t.const_set(g[0],"INTRINSIC_ATTRIBUTES",u(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),v=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+o(g,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)\\*(?!"+o(g,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+o(g,"CC_ALL")+'*?\\S)`"(?!'+o(g,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)`'(?!"+o(g,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+o(g,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)`(?!["+o(g,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+o(g,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)_(?!"+o(g,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+o(g,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)#(?!"+o(g,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]],x=v.$drop(0),b=[2,["double","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)''(?!"+o(g,"CG_WORD")+")","m")]],h(x,"[]=",t.to_a(b)),b[r(b.length,1)],b=[3,["single","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)'(?!"+o(g,"CG_WORD")+")","m")]],h(x,"[]=",t.to_a(b)),b[r(b.length,1)],b=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+o(g,"CC_ALL")+"+?)\\+\\+","m")]],h(x,"[]=",t.to_a(b)),b[r(b.length,1)],b=[5,["monospaced","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)\\+(?!"+o(g,"CG_WORD")+")","m")]],h(x,"[]=",t.to_a(b)),b[r(b.length,1)],x.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+o(g,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+o(g,"CC_ALL")+"*?\\S)'(?!"+o(g,"CG_WORD")+")","m")]),t.const_set(g[0],"QUOTE_SUBS",_(!1,v,!0,x)),v=s,x=s,t.const_set(g[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+o(g,"CG_WORD")+")\\\\?--(?="+o(g,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+o(g,"CG_ALNUM")+")\\\\?'(?="+o(g,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(n,i){n.prototype;var l,c,_,d,f=[n].concat(i);t.def(n,"$load",l=function(e,n){var i,l,c,_,d,p=this,m=s,y=s,g=s,b=s,v=s,x=s,w=s,k=s,E=s,A=s,O=s,S=s,R=s,C=s;null==n&&(n=u([],{}));try{if(n=n.$dup(),a(m=n["$[]"]("timings"))&&m.$start("read"),a(a(i=y=n["$[]"]("logger"))?y["$!="](o(f,"LoggerManager").$logger()):i)&&(g=[y],h(o(f,"LoggerManager"),"logger=",t.to_a(g)),g[r(g.length,1)]),a((b=n["$[]"]("attributes"))["$!"]())?b=u([],{}):a(a(i=$("::","Hash")["$==="](b))?i:a(l=$("::","RUBY_ENGINE_JRUBY"))?$($($("::","Java"),"JavaUtil"),"Map")["$==="](b):l)?b=b.$dup():a($("::","Array")["$==="](b))?(i=[u([],{}),b],b=i[0],v=i[1],h(v,"each",[],((c=function(e){c.$$s;var n,i,$=s,o=s;return null==e&&(e=s),i=e.$split("=",2),n=t.to_ary(i),$=null==n[0]?s:n[0],o=null==n[1]?s:n[1],g=[$,a(n=o)?n:""],h(b,"[]=",t.to_a(g)),g[r(g.length,1)]}).$$s=p,c.$$arity=1,c))):a($("::","String")["$==="](b))?(i=[u([],{}),b.$gsub(o(f,"SpaceDelimiterRx"),"\\1"+o(f,"NULL")).$gsub(o(f,"EscapedSpaceRx"),"\\1").$split(o(f,"NULL"))],b=i[0],v=i[1],h(v,"each",[],((_=function(e){_.$$s;var n,i,$=s,o=s;return null==e&&(e=s),i=e.$split("=",2),n=t.to_ary(i),$=null==n[0]?s:n[0],o=null==n[1]?s:n[1],g=[$,a(n=o)?n:""],h(b,"[]=",t.to_a(g)),g[r(g.length,1)]}).$$s=p,_.$$arity=1,_))):a(a(i=b["$respond_to?"]("keys"))?b["$respond_to?"]("[]"):i)?b=$("::","Hash")["$[]"](h(b.$keys(),"map",[],((d=function(t){return d.$$s,null==t&&(t=s),[t,b["$[]"](t)]}).$$s=p,d.$$arity=1,d))):p.$raise($("::","ArgumentError"),"illegal type for attributes option: "+b.$class().$ancestors().$join(" < ")),x=s,a($("::","File")["$==="](e)))w=$("::","File").$expand_path(e.$path()),k=a($("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?$("::","Time").$at(p.$Integer($("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():e.$mtime(),x=e.$readlines(),g=["docfile",w],h(b,"[]=",t.to_a(g)),g[r(g.length,1)],g=["docdir",$("::","File").$dirname(w)],h(b,"[]=",t.to_a(g)),g[r(g.length,1)],g=["docname",o(f,"Helpers").$basename(w,(g=["docfilesuffix",$("::","File").$extname(w)],h(b,"[]=",t.to_a(g)),g[r(g.length,1)]))],h(b,"[]=",t.to_a(g)),g[r(g.length,1)],a(E=b["$[]"]("docdate"))?a(i=b["$[]"]("docyear"))||(g=["docyear",E.$index("-")["$=="](4)?E.$slice(0,4):s],h(b,"[]=",t.to_a(g)),g[r(g.length,1)]):(g=["docdate",k.$strftime("%F")],h(b,"[]=",t.to_a(g)),E=g[r(g.length,1)],a(i=b["$[]"]("docyear"))||(g=["docyear",k.$year().$to_s()],h(b,"[]=",t.to_a(g)),g[r(g.length,1)])),A=a(i=b["$[]"]("doctime"))?i:(g=["doctime",k.$strftime("%T "+(k.$utc_offset()["$=="](0)?"UTC":"%z"))],h(b,"[]=",t.to_a(g)),g[r(g.length,1)]),g=["docdatetime",E+" "+A],h(b,"[]=",t.to_a(g)),g[r(g.length,1)];else if(a(e["$respond_to?"]("readlines"))){try{e.$rewind()}catch(e){if(!t.rescue(e,[o(f,"StandardError")]))throw e;t.pop_exception()}x=e.$readlines()}else a($("::","String")["$==="](e))?x=a($("::","RUBY_MIN_VERSION_2"))?e.$lines():e.$each_line().$to_a():a($("::","Array")["$==="](e))?x=e.$drop(0):p.$raise($("::","ArgumentError"),"unsupported input type: "+e.$class());return a(m)&&(m.$record("read"),m.$start("parse")),g=["attributes",b],h(n,"[]=",t.to_a(g)),g[r(g.length,1)],O=n["$[]"]("parse")["$=="](!1)?o(f,"Document").$new(x,n):o(f,"Document").$new(x,n).$parse(),a(m)&&m.$record("parse"),O}catch(e){if(!t.rescue(e,[o(f,"StandardError")]))throw e;S=e;try{try{R="asciidoctor: FAILED: "+(a(i=b["$[]"]("docfile"))?i:"<stdin>")+": Failed to load AsciiDoc document",a(S["$respond_to?"]("exception"))?(C=S.$exception(R+" - "+S.$message())).$set_backtrace(S.$backtrace()):(C=S.$class().$new(R,S),g=[S.$stack_trace()],h(C,"stack_trace=",t.to_a(g)),g[r(g.length,1)])}catch(e){if(!t.rescue(e,[o(f,"StandardError")]))throw e;try{C=S}finally{t.pop_exception()}}return p.$raise(C)}finally{t.pop_exception()}}},l.$$arity=-2),t.def(n,"$load_file",c=function(t,e){var r;return null==e&&(e=u([],{})),h($("::","File"),"open",[t,"rb"],((r=function(t){var n=r.$$s||this;return null==t&&(t=s),n.$load(t,e)}).$$s=this,r.$$arity=1,r))},c.$$arity=-2),t.def(n,"$convert",_=function(n,i){var l,c,_,d,p,m,y,g=s,b=s,v=s,x=s,w=s,k=s,E=s,A=s,O=s,S=s,R=s,C=s,T=s,M=s,I=s,N=s,P=s,L=s,D=s,F=s,z=s,B=s,q=s,j=s,U=s,H=s;if(null==i&&(i=u([],{})),(i=i.$dup()).$delete("parse"),g=i.$delete("to_file"),b=i.$delete("to_dir"),v=!!a(l=i.$delete("mkdirs"))&&l,(!0)["$==="](x=g)||s["$==="](x))w=a(l=b["$!"]())?$("::","File")["$==="](n):l,k=!1,E=b,g=s;else if((!1)["$==="](x))w=!1,k=!1,E=!1,g=s;else{if("/dev/null"["$==="](x))return this.$load(n,i);w=!1,E=!a(k=g["$respond_to?"]("write"))&&(A=["to_file",g],h(i,"[]=",t.to_a(A)),A[r(A.length,1)])}return a(i["$key?"]("header_footer"))||a(a(l=w)?l:E)&&(A=["header_footer",!0],h(i,"[]=",t.to_a(A)),A[r(A.length,1)]),a(w)?(O=$("::","File").$expand_path(n.$path()),A=["to_dir",S=$("::","File").$dirname(O)],h(i,"[]=",t.to_a(A)),A[r(A.length,1)]):a(E)&&(a(b)?a(g)?(A=["to_dir",$("::","File").$dirname($("::","File").$expand_path($("::","File").$join(b,g)))],h(i,"[]=",t.to_a(A)),A[r(A.length,1)]):(A=["to_dir",$("::","File").$expand_path(b)],h(i,"[]=",t.to_a(A)),A[r(A.length,1)]):a(g)&&(A=["to_dir",$("::","File").$dirname($("::","File").$expand_path(g))],h(i,"[]=",t.to_a(A)),A[r(A.length,1)])),R=this.$load(n,i),a(w)?(C=$("::","File").$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix()))["$=="](O)&&this.$raise($("::","IOError"),"input file and output file cannot be the same: "+C):a(E)?(T=a(i["$key?"]("base_dir"))?$("::","File").$expand_path(i["$[]"]("base_dir")):$("::","Dir").$pwd(),M=a(e(R.$safe(),$(o(f,"SafeMode"),"SAFE")))?T:s,a(b)?(S=R.$normalize_system_path(b,T,M,u(["target_name","recover"],{target_name:"to_dir",recover:!1})),a(g)?(C=R.$normalize_system_path(g,S,s,u(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=$("::","File").$dirname(C)):C=$("::","File").$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix())):a(g)&&(C=R.$normalize_system_path(g,T,M,u(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=$("::","File").$dirname(C)),a(a(l=$("::","File")["$==="](n))?C["$=="]($("::","File").$expand_path(n.$path())):l)&&this.$raise($("::","IOError"),"input file and output file cannot be the same: "+C),a(v)?o(f,"Helpers").$mkdir_p(S):a($("::","File")["$directory?"](S))||this.$raise($("::","IOError"),"target directory does not exist: "+b+" (hint: set mkdirs option)")):(C=g,S=s),I=a(a(l=C)?k["$!"]():l)?u(["outfile","outdir"],{outfile:C,outdir:S}):u([],{}),N=R.$convert(I),a(C)?(R.$write(N,C),a(a(l=a(c=a(_=a(d=a(p=k["$!"]())?(m=R.$safe(),y=$(o(f,"SafeMode"),"SECURE"),"number"==typeof m&&"number"==typeof y?m<y:m["$<"](y)):p)?R["$attr?"]("linkcss"):d)?R["$attr?"]("copycss"):_)?R["$attr?"]("basebackend-html"):c)?(a(c=P=R.$attr("stylesdir"))?o(f,"Helpers")["$uriish?"](P):c)["$!"]():l)&&(L=!1,D=!1,a(F=R.$attr("stylesheet"))&&(a(o(f,"DEFAULT_STYLESHEET_KEYS")["$include?"](F))?L=!0:a(o(f,"Helpers")["$uriish?"](F)["$!"]())&&(D=!0)),z=a(l=R["$attr?"]("source-highlighter","coderay"))?R.$attr("coderay-css","class")["$=="]("class"):l,B=a(l=R["$attr?"]("source-highlighter","pygments"))?R.$attr("pygments-css","class")["$=="]("class"):l,a(a(l=a(c=a(_=L)?_:D)?c:z)?l:B)&&(q=R.$normalize_system_path(P,S,a(e(R.$safe(),$(o(f,"SafeMode"),"SAFE")))?S:s),a(v)?o(f,"Helpers").$mkdir_p(q):a($("::","File")["$directory?"](q))||this.$raise($("::","IOError"),"target stylesheet directory does not exist: "+q+" (hint: set mkdirs option)"),a(L)?o(f,"Stylesheets").$instance().$write_primary_stylesheet(q):a(D)&&(j=a((j=R.$attr("copycss"))["$empty?"]())?R.$normalize_system_path(F):R.$normalize_system_path(j),U=R.$normalize_system_path(F,q,a(e(R.$safe(),$(o(f,"SafeMode"),"SAFE")))?S:s),a(a(l=j["$!="](U))?H=R.$read_asset(j,u(["warn_on_failure","label"],{warn_on_failure:$("::","File")["$file?"](U)["$!"](),label:"stylesheet"})):l)&&$("::","IO").$write(U,H)),a(z)?o(f,"Stylesheets").$instance().$write_coderay_stylesheet(q):a(B)&&o(f,"Stylesheets").$instance().$write_pygments_stylesheet(q,R.$attr("pygments-style")))),R):N},_.$$arity=-2),t.alias(n,"render","convert"),t.def(n,"$convert_file",d=function(t,e){var r;return null==e&&(e=u([],{})),h($("::","File"),"open",[t,"rb"],((r=function(t){var n=r.$$s||this;return null==t&&(t=s),n.$convert(t,e)}).$$s=this,r.$$arity=1,r))},d.$$arity=-2),t.alias(n,"render_file","convert_file"),o(f,"RUBY_ENGINE")["$=="]("opal")}(t.get_singleton_class(y),g),o(g,"RUBY_ENGINE")["$=="]("opal")&&(y.$require("asciidoctor/timings"),y.$require("asciidoctor/version"))}(i[0],i),n.$require("asciidoctor/core_ext"),n.$require("asciidoctor/helpers"),n.$require("asciidoctor/substitutors"),n.$require("asciidoctor/abstract_node"),n.$require("asciidoctor/abstract_block"),n.$require("asciidoctor/attribute_list"),n.$require("asciidoctor/block"),n.$require("asciidoctor/callouts"),n.$require("asciidoctor/converter"),n.$require("asciidoctor/document"),n.$require("asciidoctor/inline"),n.$require("asciidoctor/list"),n.$require("asciidoctor/parser"),n.$require("asciidoctor/path_resolver"),n.$require("asciidoctor/reader"),n.$require("asciidoctor/section"),n.$require("asciidoctor/stylesheets"),n.$require("asciidoctor/table"),o(i,"RUBY_ENGINE")["$=="]("opal")&&n.$require("asciidoctor/js/postscript")}(i);var r=function(t){return!t||"$$smap"in t?t:i.hash(t)},n=function(t){var e={},r=t.$$smap;for(var n in r)e[n]=r[n];return e},s=function(t){if(t=r(t)){var e=t["$[]"]("attributes");e&&"object"==typeof e&&"Object"===e.constructor.name&&(t=t.$dup())["$[]="]("attributes",r(e))}return t};function $(t,e,n,s,$){var o,a,l,c=i.klass(i.Object,t,e,function(){}),u={};for(var h in n)n.hasOwnProperty(h)&&function(t){var e=n[t];"postConstruct"===t?o=e:"initialize"===t?a=e:(s&&s.hasOwnProperty(t)&&(u[t]=!0),i.def(c,"$"+t,function(){var r;return r=$&&$.hasOwnProperty(t)?$[t](arguments):arguments,e.apply(this,r)}))}(h);if(l="function"==typeof a?function(){a.apply(this,arguments),"function"==typeof o&&o.bind(this)()}:function(){i.send(this,i.find_super_dispatcher(this,"initialize",l)),"function"==typeof o&&o.bind(this)()},i.def(c,"$initialize",l),i.def(c,"super",function(t){if("function"==typeof t)i.send(this,i.find_super_dispatcher(this,t.name,t));else{for(var e=Array.from(arguments),n=0;n<e.length;n++)"object"==typeof e[n]&&(e[n]=r(e[n]));i.send(this,i.find_super_dispatcher(this,"initialize",l),e)}}),s)for(var _ in s)s.hasOwnProperty(_)&&!u.hasOwnProperty(_)&&function(t){var e=s[t];i.def(c,"$"+t,function(){return e.apply(this,arguments)})}(_);return c}var o=i.Asciidoctor.$$class;o.prototype.getCoreVersion=function(){return this.$$const.VERSION},o.prototype.getRuntime=function(){return{ioModule:i.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:i.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:i.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:i.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},o.prototype.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,s(e));return r===i.nil?"":r},o.prototype.convertFile=function(t,e){return this.$convert_file(t,s(e))},o.prototype.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,s(e))},o.prototype.loadFile=function(t,e){return this.$load_file(t,s(e))};var a=i.Asciidoctor.AbstractBlock;a.prototype.append=function(t){return this.$append(t),this},a.prototype.applySubstitutions=function(t,e){return this.$apply_subs(t,e)},a.prototype.getTitle=function(){var t=this.$title();return t===i.nil?void 0:t},a.prototype.getCaptionedTitle=function(){return this.$captioned_title()},a.prototype.getStyle=function(){return this.style},a.prototype.getCaption=function(){return this.$caption()},a.prototype.setCaption=function(t){this.caption=t},a.prototype.getLevel=function(){return this.level},a.prototype.getSubstitutions=function(){return this.subs},a.prototype.hasSubstitution=function(t){return this["$sub?"](t)},a.prototype.removeSubstitution=function(t){this.$remove_sub(t)},a.prototype.hasBlocks=function(){return this.blocks.length>0},a.prototype.getBlocks=function(){return this.blocks},a.prototype.getContent=function(){return this.$content()},a.prototype.convert=function(){return this.$convert()},a.prototype.findBy=function(t,e){return void 0===e&&"function"==typeof t?i.send(this,"find_by",null,t):"function"==typeof e?i.send(this,"find_by",[r(t)],e):this.$find_by(r(t))},a.prototype.getLineNumber=function(){var t=this.$lineno();return t===i.nil?void 0:t},a.prototype.hasSections=function(){return this["$sections?"]()},a.prototype.getSections=function(){return this.$sections()},a.prototype.getNumeral=function(){return this.$number()},a.prototype.setNumeral=function(t){return this["$number="](t)},a.prototype.hasTitle=function(){return this["$title?"]()};var l=i.Asciidoctor.Section;l.prototype.getIndex=function(){return this.index},l.prototype.setIndex=function(t){this.index=t},l.prototype.getSectionName=function(){return this.sectname},l.prototype.setSectionName=function(t){this.sectname=t},l.prototype.isSpecial=function(){return this.special},l.prototype.setSpecial=function(t){this.special=t},l.prototype.isNumbered=function(){return this.numbered},l.prototype.getCaption=function(){var t=this.caption;return t===i.nil?void 0:t},l.prototype.getName=function(){return this.getTitle()};var c=i.Asciidoctor.Block;c.prototype.getSource=function(){return this.$source()},c.prototype.getSourceLines=function(){return this.lines};var u=i.Asciidoctor.AbstractNode;u.prototype.getNodeName=function(){return this.node_name},u.prototype.getAttributes=function(){return n(this.attributes)},u.prototype.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===i.nil?void 0:n},u.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},u.prototype.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==i.nil&&n},u.prototype.setAttribute=function(t,e,r){return void 0===r&&(r=!0),this.$set_attr(t,e,r)},u.prototype.removeAttribute=function(t){var e=this.$remove_attr(t);return e===i.nil?void 0:e},u.prototype.getDocument=function(){return this.document},u.prototype.getParent=function(){var t=this.parent;return t===i.nil?void 0:t},u.prototype.isInline=function(){return this["$inline?"]()},u.prototype.isBlock=function(){return this["$block?"]()},u.prototype.isRole=function(t){return this["$role?"](t)},u.prototype.getRole=function(){return this.$role()},u.prototype.hasRole=function(t){return this["$has_role?"](t)},u.prototype.getRoles=function(){return this.$roles()},u.prototype.addRole=function(t){return this.$add_role(t)},u.prototype.removeRole=function(t){return this.$remove_role(t)},u.prototype.isReftext=function(){return this["$reftext?"]()},u.prototype.getReftext=function(){return this.$reftext()},u.prototype.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},u.prototype.getId=function(){var t=this.id;return t===i.nil?void 0:t},u.prototype.isOption=function(t){return this["$option?"](t)},u.prototype.setOption=function(t){return this.$set_option(t)},u.prototype.getIconUri=function(t){return this.$icon_uri(t)},u.prototype.getMediaUri=function(t,e){return this.$media_uri(t,e)},u.prototype.getImageUri=function(t,e){return this.$image_uri(t,e)},u.prototype.getConverter=function(){return this.$converter()},u.prototype.readContents=function(t,e){return this.$read_contents(t,r(e))},u.prototype.readAsset=function(t,e){return this.$read_asset(t,r(e))},u.prototype.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},u.prototype.normalizeSystemPath=function(t,e,n,i){return this.$normalize_system_path(t,e,n,r(i))},u.prototype.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var h=i.Asciidoctor.Document;h.prototype.getIds=function(){return n(this.catalog.$$smap.ids)},h.prototype.getRefs=function(){return n(this.catalog.$$smap.refs)},h.prototype.getImages=function(){return this.catalog.$$smap.images},h.prototype.getIndexTerms=function(){return this.catalog.$$smap.indexterms},h.prototype.getLinks=function(){return this.catalog.$$smap.links},h.prototype.hasFootnotes=function(){return this["$footnotes?"]()},h.prototype.getFootnotes=function(){return this.$footnotes()},h.prototype.getHeader=function(){return this.header},h.prototype.setAttribute=function(t,e){return this.$set_attribute(t,e)},h.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},h.prototype.convert=function(t){var e=this.$convert(r(t));return e===i.nil?"":e},h.prototype.write=function(t,e){return this.$write(t,e)},h.prototype.getAuthor=function(){return this.$author()},h.prototype.getSource=function(){return this.$source()},h.prototype.getSourceLines=function(){return this.$source_lines()},h.prototype.isNested=function(){return this["$nested?"]()},h.prototype.isEmbedded=function(){return this["$embedded?"]()},h.prototype.hasExtensions=function(){return this["$extensions?"]()},h.prototype.getDoctype=function(){return this.doctype},h.prototype.getBackend=function(){return this.backend},h.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},h.prototype.getTitle=function(){var t=this.$title();return t===i.nil?void 0:t},h.prototype.setTitle=function(t){return this["$title="](t)},h.prototype.getDocumentTitle=function(t){var e=this.$doctitle(r(t));return e===i.nil?void 0:e},h.prototype.getDoctitle=h.prototype.getDocumentTitle,h.prototype.getCatalog=function(){return n(this.catalog)},h.prototype.getReferences=h.prototype.getCatalog,h.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},h.prototype.getRevdate=function(){return this.getRevisionDate()},h.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},h.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},h.prototype.setHeaderAttribute=function(t,e,r){return void 0===r&&(r=!0),void 0===e&&(e=""),this.$set_header_attribute(t,e,r)},h.prototype.getAuthors=function(){return this.$authors()};var _=h.Footnote;_.prototype.getIndex=function(){var t=this.$$data.index;return t===i.nil?void 0:t},_.prototype.getId=function(){var t=this.$$data.id;return t===i.nil?void 0:t},_.prototype.getText=function(){var t=this.$$data.text;return t===i.nil?void 0:t};var d=h.ImageReference;d.prototype.getTarget=function(){return this.$$data.target},d.prototype.getImagesDirectory=function(){var t=this.$$data.imagesdir;return t===i.nil?void 0:t};var f=h.Author;f.prototype.getName=function(){var t=this.$$data.name;return t===i.nil?void 0:t},f.prototype.getFirstName=function(){var t=this.$$data.firstname;return t===i.nil?void 0:t},f.prototype.getMiddleName=function(){var t=this.$$data.middlename;return t===i.nil?void 0:t},f.prototype.getLastName=function(){var t=this.$$data.lastname;return t===i.nil?void 0:t},f.prototype.getInitials=function(){var t=this.$$data.initials;return t===i.nil?void 0:t},f.prototype.getEmail=function(){var t=this.$$data.email;return t===i.nil?void 0:t},h.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var p=h.RevisionInfo;p.prototype.getDate=function(){return this.date},p.prototype.getNumber=function(){return this.number},p.prototype.getRemark=function(){return this.remark},p.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},h.prototype.getRevisionInfo=function(){return new h.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},h.prototype.hasRevisionInfo=function(){var t=this.getRevisionInfo();return!t.isEmpty()},h.prototype.getNotitle=function(){return this.$notitle()},h.prototype.getNoheader=function(){return this.$noheader()},h.prototype.getNofooter=function(){return this.$nofooter()},h.prototype.hasHeader=function(){return this["$header?"]()},h.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},h.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},h.prototype.parse=function(t){return this.$parse(t)},h.prototype.getDocinfo=function(t,e){return this.$docinfo(t,e)},h.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},h.prototype.counterIncrement=function(t,e){return this.$counter_increment(t,e)},h.prototype.counter=function(t,e){return this.$counter(t,e)},h.prototype.getSafe=function(){return this.safe},h.prototype.getCompatMode=function(){return this.compat_mode},h.prototype.getSourcemap=function(){return this.sourcemap},h.prototype.getCounters=function(){return n(this.counters)},h.prototype.getCallouts=function(){return this.$callouts()},h.prototype.getBaseDir=function(){return this.base_dir},h.prototype.getOptions=function(){return n(this.options)},h.prototype.getOutfilesuffix=function(){return this.outfilesuffix},h.prototype.getParentDocument=function(){return this.parent_document},h.prototype.getReader=function(){return this.reader},h.prototype.getConverter=function(){return this.converter},h.prototype.getExtensions=function(){return this.extensions};var m=h.Title;m.prototype.getMain=function(){return this.main},m.prototype.getCombined=function(){return this.combined},m.prototype.getSubtitle=function(){var t=this.subtitle;return t===i.nil?void 0:t},m.prototype.isSanitized=function(){var t=this["$sanitized?"]();return t!==i.nil&&t},m.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var y=i.Asciidoctor.Inline;i.Asciidoctor.Inline.$$class.prototype.create=function(t,e,n,i){return this.$new(t,e,n,r(i))},y.prototype.convert=function(){return this.$convert()},y.prototype.getText=function(){var t=this.$text();return t===i.nil?void 0:t},y.prototype.getType=function(){return this.$type()},y.prototype.getTarget=function(){var t=this.$target();return t===i.nil?void 0:t},i.Asciidoctor.List.prototype.getItems=function(){return this.blocks};var g=i.Asciidoctor.ListItem;g.prototype.getText=function(){return this.$text()},g.prototype.setText=function(t){return this.text=t};var b=i.Asciidoctor.Reader;b.prototype.pushInclude=function(t,e,n,i,s){return this.$push_include(t,e,n,i,r(s))},b.prototype.getCursor=function(){return this.$cursor()},b.prototype.getLines=function(){return this.$lines()},b.prototype.getString=function(){return this.$string()};var v=i.Asciidoctor.Reader.Cursor;v.prototype.getFile=function(){var t=this.file;return t===i.nil?void 0:t},v.prototype.getDirectory=function(){var t=this.dir;return t===i.nil?void 0:t},v.prototype.getPath=function(){var t=this.path;return t===i.nil?void 0:t},v.prototype.getLineNumber=function(){return this.lineno};var x=i.const_get_qualified(i.Asciidoctor,"LoggerManager",!0);i.Asciidoctor.LoggerManager=x,x&&(x.getLogger=function(){return this.$logger()},x.setLogger=function(t){this.logger=t},x.newLogger=function(t,e){return function(t,e){return $(i.const_get_qualified(i.Asciidoctor,"Logger"),t,e,{},{add:function(t){if(t.length>=2&&"object"==typeof t[2]&&"$$smap"in t[2]){var e=t[2],r=n(e);r.getText=function(){return this.text},r.getSourceLocation=function(){return this.source_location},r.$inspect=function(){var t=this.getSourceLocation();return t?t.getPath()+": line "+t.getLineNumber()+": "+this.getText():this.getText()},t[2]=r}return t}})}(t,e).$new()},x.newFormatter=function(t,e){return function(t,e){return $(i.const_get_qualified(i.Logger,"Formatter"),t,e,{},{call:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=n(t[e]));return t}})}(t,e).$new()});var w=i.const_get_qualified(i.Logger,"Severity",!0);i.Asciidoctor.LoggerSeverity=w,w&&(w.get=function(t){return w.$constants()[t]});var k=i.const_get_qualified(i.Logger,"Formatter",!0);i.Asciidoctor.LoggerFormatter=k,k&&(k.prototype.call=function(t,e,r,n){return this.$call(w.get(t),e,r,n)});var E=i.const_get_qualified(i.Asciidoctor,"MemoryLogger",!0);i.Asciidoctor.MemoryLogger=E,E&&(E.prototype.getMessages=function(){for(var t=this.messages,e=[],r=0;r<t.length;r++){var i=t[r],s=n(i);"string"==typeof s.message?s.getText=function(){return this.message}:(s.message=n(s.message),s.getText=function(){return this.message.text}),s.getSeverity=function(){return this.severity.toString()},s.getSourceLocation=function(){return this.message.source_location},e.push(s)}return e});var A=i.const_get_qualified(i.Asciidoctor,"Logger",!0);i.Asciidoctor.Logger=A,A&&(A.prototype.getMaxSeverity=function(){return this.max_severity},A.prototype.getFormatter=function(){return this.formatter},A.prototype.setFormatter=function(t){return this.formatter=t},A.prototype.getLevel=function(){return this.level},A.prototype.setLevel=function(t){return this.level=t},A.prototype.getProgramName=function(){return this.progname},A.prototype.setProgramName=function(t){return this.progname=t});var O=i.const_get_qualified(i.Asciidoctor,"NullLogger",!0);i.Asciidoctor.NullLogger=O,O&&(O.prototype.getMaxSeverity=function(){return this.max_severity}),i.Asciidoctor.StopIteration=i.StopIteration;var S=function(t){return t.$$arity=t.length,t},R=function(t,e,r,n){return"object"==typeof r||r.$$is_class?t["$"+e](r,n):i.send(t,e,n&&[n],S(r))},C=i.const_get_qualified(i.Asciidoctor,"Extensions");i.Asciidoctor.Extensions=C,C.create=function(t,e){return"function"==typeof t&&void 0===e?i.send(this,"build_registry",null,S(t)):"function"==typeof e?i.send(this,"build_registry",[t],S(e)):this.$build_registry()},C.register=function(t,e){return"function"==typeof t&&void 0===e?i.send(this,"register",null,S(t)):i.send(this,"register",[t],S(e))},C.getGroups=function(){return n(this.$groups())},C.unregisterAll=function(){this.$unregister_all()},C.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,s=e.$$keys;n<s.length;n++){var $=s[n];r[$.toString()]=$}for(var o=0;o<t.length;o++){var a=t[o];a in r&&i.hash_delete(e,r[a])}};var T=C.Registry;T.prototype.getGroups=C.getGroups,T.prototype.unregisterAll=function(){this.groups=i.hash()},T.prototype.unregister=C.unregister,T.prototype.prefer=function(t,e){return 1===arguments.length&&(e=t,t=null),"object"==typeof e||e.$$is_class?this.$prefer(t,e):i.send(this,"prefer",t&&[t],S(e))},T.prototype.block=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"block",e,t)},T.prototype.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"inline_macro",e,t)},T.prototype.includeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"include_processor",e,t)},T.prototype.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"block_macro",e,t)},T.prototype.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"tree_processor",e,t)},T.prototype.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"postprocessor",e,t)},T.prototype.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"preprocessor",e,t)},T.prototype.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),R(this,"docinfo_processor",e,t)};var M=C.Processor;M.prototype.prepend=function(){this.$option("position",">>")},M.prototype.process=function(t){var e={apply:function(t,e,r){for(var i=0;i<r.length;i++)"object"==typeof r[i]&&"$$smap"in r[i]&&(r[i]=n(r[i]));return t.apply(e,r)}},r=new Proxy(t,e);return i.send(this,"process",null,S(r))},M.prototype.named=function(t){return this.$named(t)},M.prototype.createBlock=function(t,e,n,i,s){return this.$create_block(t,e,n,r(i),r(s))},M.prototype.createList=function(t,e,n){return this.$create_list(t,e,r(n))},M.prototype.createListItem=function(t,e){return this.$create_list_item(t,e)},M.prototype.createImageBlock=function(t,e,n){return this.$create_image_block(t,r(e),r(n))},M.prototype.createInline=function(t,e,n,i){return i&&i.attributes&&(i.attributes=r(i.attributes)),this.$create_inline(t,e,n,r(i))},M.prototype.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},M.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},M.prototype.resolvesAttributes=function(t){return this.$resolves_attributes(t)};var I=C.BlockProcessor;I.prototype.onContext=function(t){return this.$on_context(t)},I.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))},I.prototype.getName=function(){var t=this.name;return t===i.nil?void 0:t},C.BlockMacroProcessor.prototype.getName=function(){var t=this.name;return t===i.nil?void 0:t},C.InlineMacroProcessor.prototype.getName=function(){var t=this.name;return t===i.nil?void 0:t};var N=C.IncludeProcessor;N.prototype.handles=function(t){return i.send(this,"handles?",null,S(t))},N.prototype.prefer=function(){this.$prefer()},C.TreeProcessor.prototype.prefer=function(){this.$prefer()},C.Postprocessor.prototype.prefer=function(){this.$prefer()},C.Preprocessor.prototype.prefer=function(){this.$prefer()};var P=C.DocinfoProcessor;function L(t,e,r){var n=i.const_get_qualified(C,t);return $(n,e,r,{"handles?":function(){return!0}})}P.prototype.prefer=function(){this.$prefer()},P.prototype.atLocation=function(t){this.$at_location(t)},C.createPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("Postprocessor",t,e)},C.newPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPostprocessor(t,e).$new()},C.createPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("Preprocessor",t,e)},C.newPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPreprocessor(t,e).$new()},C.createTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("TreeProcessor",t,e)},C.newTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createTreeProcessor(t,e).$new()},C.createIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("IncludeProcessor",t,e)},C.newIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createIncludeProcessor(t,e).$new()},C.createDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("DocinfoProcessor",t,e)},C.newDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createDocinfoProcessor(t,e).$new()},C.createBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("BlockProcessor",t,e)},C.newBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockProcessor(t,e).$new()},C.createInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("InlineMacroProcessor",t,e)},C.newInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createInlineMacroProcessor(t,e).$new()},C.createBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),L("BlockMacroProcessor",t,e)},C.newBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockMacroProcessor(t,e).$new()};var D=i.const_get_qualified(i.Asciidoctor,"Converter");i.Asciidoctor.Converter=D,D.prototype.convert=function(t,e,n){return this.$convert(t,e,r(n))},D.BuiltIn.prototype.convert=D.prototype.convert;var F=i.Asciidoctor.Converter.Factory;i.Asciidoctor.ConverterFactory=F,F.register=function(t,e){return"object"==typeof t&&void 0===t.$convert&&"function"==typeof t.convert&&i.def(t,"$convert",t.convert),this.$register(t,e)},F.getDefault=function(t){return this.$default(t)},F.prototype.create=function(t,e){return this.$create(t,r(e))};var z=i.Asciidoctor.Converter.Html5Converter;return i.Asciidoctor.Html5Converter=z,z.prototype.convert=function(t,e,r){return this.$convert(t,e,r)},o.prototype.getVersion=function(){return"1.5.9"},i.Asciidoctor}}).call(this,"/")},function(t,e,r){const n=[Function,Boolean,Error,Number,Date,String,RegExp,Array],i={};for(let t in n){const e=n[t];i[e.name]={call:e.call,apply:e.apply,bind:e.bind}}r(12);for(let t in n){const e=n[t],r=e.name;"function"!=typeof e.call&&(e.call=i[r].call),"function"!=typeof e.apply&&(e.apply=i[r].apply),"function"!=typeof e.bind&&(e.bind=i[r].bind)}r(13),r(28),r(29),r(30),r(31),t.exports.Opal=Opal},function(module,exports){(function(t){var e,r,n,i,s,$,o=this;if("undefined"!=typeof global&&(o=global),"undefined"!=typeof window&&(o=window),"log"in(e="object"==typeof o.console?o.console:null==o.console?o.console={}:{})||(e.log=function(){}),"warn"in e||(e.warn=e.log),void 0!==this.Opal)return e.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var a=this.Opal={};a.global=o,o.Opal=a,a.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var l=Object.hasOwnProperty,c=Function.prototype.bind,u=Object.setPrototypeOf,h=Array.prototype.slice,_=4;function d(t,e,r){"string"==typeof t?t[e]=r:Object.defineProperty(t,e,{value:r,enumerable:!1,configurable:!0,writable:!0})}function f(t,e){if(t)return t.$$const[e]}function p(t,e){var r,n,i;if(null!=t)for(r=0,n=(i=a.ancestors(t)).length;r<n;r++)if(i[r].$$const&&l.call(i[r].$$const,e))return i[r].$$const[e]}function m(t,e,r){if(!r)return(t||i).$const_missing(e)}function y(t){return t.hasOwnProperty("$$iclass")&&t.hasOwnProperty("$$root")}function g(t){var e=b(t);return t.$$is_module&&t.$$iclasses.push(e),e}function b(t){var e={},r=t.prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var n,i=Object.getOwnPropertyNames(r),s=i.length;for(n=0;n<s;n++){var $=i[n];d(e,$,r[$])}return d(e,"$$iclass",!0),d(e,"$$module",t),e}function v(t){var e=t.length,r=t[0];if(d(r,"$$root",!0),1===e)return{first:r,last:r};for(var n=r,i=1;i<e;i++){var s=t[i];u(n,s),n=s}return{first:t[0],last:t[e-1]}}function x(t){if(!t.hasOwnProperty("$$dummy"))return t.hasOwnProperty("$$iclass")?t.$$module:t.hasOwnProperty("$$class")?t.$$class:void 0}function w(t){return"function"==typeof t&&!t.$$stub}a.uid=function(){return _+=2},a.id=function(t){return t.$$is_number?2*t+1:null!=t.$$id?t.$$id:(d(t,"$$id",a.uid()),t.$$id)},a.gvars={},a.exit=function(t){a.gvars.DEBUG&&e.log("Exited with status "+t)},a.exceptions=[],a.pop_exception=function(){a.gvars["!"]=a.exceptions.pop()||r},a.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},a.defineProperty=d,a.slice=h,a.truthy=function(t){return t!==r&&null!=t&&(!t.$$is_boolean||1==t)},a.falsy=function(t){return t===r||null==t||t.$$is_boolean&&0==t},a.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=i),!t.$$is_module&&!t.$$is_class)throw new a.TypeError(t.toString()+" is not a class/module");return null!=(n=f(t,e))?n:null!=(n=m(t,e,r))?n:void 0}},a.const_get_qualified=function(t,e,r){var n,s,$,o=a.const_cache_version;if(null!=t){if("::"===t&&(t=i),!t.$$is_module&&!t.$$is_class)throw new a.TypeError(t.toString()+" is not a class/module");return null==(s=t.$$const_cache)&&(d(t,"$$const_cache",Object.create(null)),s=t.$$const_cache),null==($=s[e])||$[0]!==o?(null!=(n=f(t,e))||(n=p(t,e)),s[e]=[o,n]):n=$[1],null!=n?n:m(t,e,r)}},a.const_cache_version=1,a.const_get_relative=function(t,e,r){var n,s,$,o=t[0],l=a.const_cache_version;return null==(s=t.$$const_cache)&&(d(t,"$$const_cache",Object.create(null)),s=t.$$const_cache),null==($=s[e])||$[0]!==l?(null!=(n=f(o,e))||null!=(n=function(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(null!=(i=t[r].$$const[e]))return i}(t,e))||null!=(n=p(o,e))||(n=function(t,e){if(null==t||t.$$is_module)return p(i,e)}(o,e)),s[e]=[l,n]):n=$[1],null!=n?n:m(o,e,r)},a.const_set=function(t,e,n){return null!=t&&"::"!==t||(t=i),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==r||(n.$$name=e),null==n.$$base_module&&(n.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=n,t.$$=t.$$const,a.const_cache_version++,t===i&&(a[e]=n),d(t,e,n),n},a.constants=function(t,e){null==e&&(e=!0);var r,n,s,$,o=[t],l={};for(e&&(o=o.concat(a.ancestors(t))),e&&t.$$is_module&&(o=o.concat([a.Object]).concat(a.ancestors(a.Object))),n=0,s=o.length;n<s&&(r=o[n],t===i||r!=i);n++)for($ in r.$$const)l[$]=!0;return Object.keys(l)},a.const_remove=function(t,e){if(a.const_cache_version++,null!=t.$$const[e]){var n=t.$$const[e];return delete t.$$const[e],n}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],r;throw a.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},a.allocate_class=function(t,e,r){var n=r;return null!=e&&e.$$bridge&&(n=function(){var t=h.call(arguments),r=new(c.apply(e,[null].concat(t)));return u(r,n.prototype),r}),d(n,"$$name",t),d(n,"$$const",{}),d(n,"$$is_class",!0),d(n,"$$is_a_module",!0),d(n,"$$super",e),d(n,"$$cvars",{}),d(n,"$$own_included_modules",[]),d(n,"$$own_prepended_modules",[]),d(n,"$$ancestors",[]),d(n,"$$ancestors_cache_version",null),d(n.prototype,"$$class",n),a.Class&&u(n,a.Class.prototype),null!=e&&(u(n.prototype,e.prototype),e!==a.Module&&e.$$meta&&a.build_class_singleton_class(n)),n},a.klass=function(t,e,r,n){var s;null==t?t=i:t.$$is_class||t.$$is_module||(t=t.$$class),null==e||e.hasOwnProperty("$$is_class")||(s=e,e=i);var $=function(t,e){var r=f(t,e);if(r){if(!r.$$is_class)throw a.TypeError.$new(e+" is not a class");return r}}(t,r);return $?(e&&function(t,e){if(t.$$super!==e)throw a.TypeError.$new("superclass mismatch for class "+t.$$name)}($,e),$):(null==e&&(e=i),s?(a.bridge(s),$=s,a.const_set(t,r,$)):($=a.allocate_class(r,e,n),a.const_set(t,r,$),e.$inherited&&e.$inherited($)),$)},a.allocate_module=function(t,e){var r=e;return d(r,"$$name",t),d(r,"$$const",{}),d(r,"$$is_module",!0),d(r,"$$is_a_module",!0),d(r,"$$cvars",{}),d(r,"$$iclasses",[]),d(r,"$$own_included_modules",[]),d(r,"$$own_prepended_modules",[]),d(r,"$$ancestors",[r]),d(r,"$$ancestors_cache_version",null),u(r,a.Module.prototype),r},a.module=function(t,e,r){var n;return null==t?t=i:t.$$is_class||t.$$is_module||(t=t.$$class),(n=function(t,e){var r=f(t,e);if(null==r&&t===i&&(r=p(i,e)),r&&!r.$$is_module&&r!==i)throw a.TypeError.$new(e+" is not a module");return r}(t,e))?n:(n=a.allocate_module(e,r),a.const_set(t,e,n),n)},a.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.hasOwnProperty("$$is_class")?a.build_class_singleton_class(t):t.hasOwnProperty("$$is_module")?a.build_module_singletin_class(t):a.build_object_singleton_class(t)},a.build_class_singleton_class=function(t){var e,r;return t.$$meta?t.$$meta:(e=t===n?$:a.get_singleton_class(t.$$super),d(r=a.allocate_class(null,e,function(){}),"$$is_singleton",!0),d(r,"$$singleton_of",t),d(t,"$$meta",r),u(t,r.prototype),d(t,"$$class",a.Class),r)},a.build_module_singletin_class=function(t){if(t.$$meta)return t.$$meta;var e=a.allocate_class(null,a.Module,function(){});return d(e,"$$is_singleton",!0),d(e,"$$singleton_of",t),d(t,"$$meta",e),u(t,e.prototype),d(t,"$$class",a.Module),e},a.build_object_singleton_class=function(t){var e=t.$$class,n=a.allocate_class(r,e,function(){});return d(n,"$$is_singleton",!0),d(n,"$$singleton_of",t),delete n.prototype.$$class,d(t,"$$meta",n),u(t,t.$$meta.prototype),n},a.is_method=function(t){return"$"===t[0]&&"$"!==t[1]},a.instance_methods=function(t){for(var e=[],r=[],n=a.ancestors(t),i=0,s=n.length;i<s;i++){var $=n[i].prototype;$.hasOwnProperty("$$dummy")&&($=$.$$define_methods_on);for(var o=Object.getOwnPropertyNames($),l=0,c=o.length;l<c;l++){var u=o[l];if(a.is_method(u)){var h=u.slice(1),_=$[u];_.$$stub&&-1===e.indexOf(h)&&e.push(h),_.$$stub||-1!==r.indexOf(h)||-1!==e.indexOf(h)||r.push(h)}}}return r},a.own_instance_methods=function(t){var e=[],r=t.prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var n=Object.getOwnPropertyNames(r),i=0,s=n.length;i<s;i++){var $=n[i];if(a.is_method($))if(!r[$].$$stub){var o=$.slice(1);e.push(o)}}return e},a.methods=function(t){return a.instance_methods(a.get_singleton_class(t))},a.own_methods=function(t){return a.own_instance_methods(a.get_singleton_class(t))},a.receiver_methods=function(t){var e=a.get_singleton_class(t),r=a.own_instance_methods(e),n=a.own_instance_methods(e.$$super);return r.concat(n)},a.class_variables=function(t){var e,r=a.ancestors(t),n={};for(e=r.length-1;e>=0;e--){var i=r[e];for(var s in i.$$cvars)n[s]=i.$$cvars[s]}return n},a.class_variable_set=function(t,e,r){var n,i=a.ancestors(t);for(n=i.length-2;n>=0;n--){var s=i[n];if(l.call(s.$$cvars,e))return s.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},a.append_features=function(t,e){var r=a.ancestors(t),n=[];if(-1!==r.indexOf(e))throw a.ArgumentError.$new("cyclic include detected");for(var i=0,s=r.length;i<s;i++){var $=g(r[i]);d($,"$$included",!0),n.push($)}var o,l,c=a.ancestors(e),h=v(n);if(-1===c.indexOf(t))o=e.prototype,l=Object.getPrototypeOf(e.prototype);else{for(var _=e.prototype,f=Object.getPrototypeOf(_);null!=f&&(!y(f)||f.$$module!==t);)_=f,f=Object.getPrototypeOf(f);for(var p=Object.getPrototypeOf(f);p.hasOwnProperty("$$iclass")&&!y(p);)p=Object.getPrototypeOf(p);o=_,l=p}u(o,h.first),u(h.last,l),e.$$own_included_modules=function(t){for(var e,r=[],n=Object.getPrototypeOf(t.prototype);n&&!n.hasOwnProperty("$$class");)(e=x(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),a.const_cache_version++},a.prepend_features=function(t,e){var r=a.ancestors(t),n=[];if(-1!==r.indexOf(e))throw a.ArgumentError.$new("cyclic prepend detected");for(var i=0,s=r.length;i<s;i++){var $=g(r[i]);d($,"$$prepended",!0),n.push($)}var o,l,c,h=v(n),_=e.prototype,f=Object.getPrototypeOf(_);if(_.hasOwnProperty("$$dummy")?o=_.$$define_methods_on:(o=b(e),function(t){for(var e=t.prototype,r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n];a.is_method(i)&&delete e[i]}}(e),d(_,"$$dummy",!0),d(_,"$$define_methods_on",o),u(_,o),u(o,f)),-1!==a.ancestors(e).indexOf(t))throw a.RuntimeError.$new("Prepending a module multiple times is not supported");for(l=_,c=Object.getPrototypeOf(_);null!=c&&!c.hasOwnProperty("$$root")&&c!==o&&c.hasOwnProperty("$$iclass");)c=Object.getPrototypeOf(c);u(l,h.first),u(h.last,c),e.$$own_prepended_modules=function(t){var e,r=[],n=Object.getPrototypeOf(t.prototype);if(t.prototype.hasOwnProperty("$$dummy"))for(;n&&n!==t.prototype.$$define_methods_on;)(e=x(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),a.const_cache_version++},a.bridge=function(t,e){if(t.hasOwnProperty("$$bridge"))throw a.ArgumentError.$new("already bridged");var r,n;null==e?(r=a.Object,n=t):(r=e,n=e),u(t.prototype,r.prototype),d(t.prototype,"$$class",n),d(t,"$$bridge",!0),d(t,"$$is_class",!0),d(t,"$$is_a_module",!0),d(t,"$$super",r),d(t,"$$const",{}),d(t,"$$own_included_modules",[]),d(t,"$$own_prepended_modules",[]),d(t,"$$ancestors",[]),d(t,"$$ancestors_cache_version",null),u(t,a.Class.prototype)},a.ancestors=function(t){if(!t)return[];if(t.$$ancestors_cache_version===a.const_cache_version)return t.$$ancestors;var e,r,n,i=[];for(e=0,n=(r=function(t){return t.$$own_prepended_modules.concat([t]).concat(t.$$own_included_modules)}(t)).length;e<n;e++)i.push(r[e]);if(t.$$super)for(e=0,n=(r=a.ancestors(t.$$super)).length;e<n;e++)i.push(r[e]);return t.$$ancestors_cache_version=a.const_cache_version,t.$$ancestors=i,i},a.included_modules=function(t){for(var e=[],r=null,n=Object.getPrototypeOf(t.prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(r=x(n))&&r.$$is_module&&n.$$iclass&&n.$$included&&e.push(r);return e},a.add_stubs=function(t){for(var e=a.BasicObject.prototype,r=0,n=t.length;r<n;r++){var i=t[r],s=e[i];(null==s||s.$$stub)&&a.add_stub_for(e,i)}},a.add_stub_for=function(t,e){d(t,e,a.stub_for(e))},a.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},a.ac=function(t,e,r,n){var i="";throw r.$$is_a_module?i+=r.$$name+".":i+=r.$$class.$$name+"#",i+=n,a.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},a.block_ac=function(t,e,r){var n="`block in "+r+"'";throw a.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},a.find_super_dispatcher=function(t,e,r,n,i){for(var s,$,o="$"+e,l=(s=t.hasOwnProperty("$$meta")?a.ancestors(t.$$meta):a.ancestors(t.$$class)).indexOf(r.$$owner)+1;l<s.length;l++){var c=s[l].prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty(o)){var u=c[o];u.$$stub||($=u);break}}if(!n&&null==$&&a.Kernel.$method_missing===t.$method_missing)throw a.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},a.find_iter_super_dispatcher=function(t,e,r,n,i){var s=e;if(!r)throw a.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw a.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(s=r.$$jsid),a.find_super_dispatcher(t,s,r,n)},a.ret=function(t){throw a.returner.$v=t,a.returner},a.brk=function(t,e){throw e.$v=t,e},a.new_brk=function(){return new Error("unexpected break")},a.yield1=function(t,e){if("function"!=typeof t)throw a.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=a.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},a.yieldX=function(t,e){if("function"!=typeof t)throw a.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},a.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=a.rescue(t,n);if(i)return i}else{if(n===a.JS.Error)return n;if(n["$==="](t))return n}}return null},a.is_a=function(t,e){if(null!=e&&t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=a.ancestors(t.$$is_class?a.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},a.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw a.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw a.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},a.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===r)return[t];if(e.$$is_array)return e;throw a.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},a.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===r)return[t];if(e.$$is_array)return e;throw a.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},a.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):a.hash2([],{})},a.kwrestargs=function(t,e){var r=[],n={},i=null,s=t.$$smap;for(i in s)e[i]||(r.push(i),n[i]=s[i]);return a.hash2(r,n)},a.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?("function"==typeof n&&(i.$$p=n),i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},a.lambda=function(t){return t.$$is_lambda=!0,t},a.def=function(t,e,r){t===a.top?a.defn(a.Object,e,r):!t.$$eval&&t.$$is_a_module?a.defn(t,e,r):a.defs(t,e,r)},a.defn=function(t,e,r){r.$$owner=t;var n=t.prototype;if(n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on),d(n,e,r),t.$$is_module){t.$$module_function&&a.defs(t,e,r);for(var i=0,s=t.$$iclasses,$=s.length;i<$;i++){d(s[i],e,r)}}var o=t.$$singleton_of;!t.$method_added||t.$method_added.$$stub||o?o&&o.$singleton_method_added&&!o.$singleton_method_added.$$stub&&o.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1))},a.defs=function(t,e,r){t.$$is_string||t.$$is_number||a.defn(a.get_singleton_class(t),e,r)},a.rdef=function(t,e){if(!l.call(t.prototype,e))throw a.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.prototype[e],t.$$is_singleton?t.prototype.$singleton_method_removed&&!t.prototype.$singleton_method_removed.$$stub&&t.prototype.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},a.udef=function(t,e){if(!t.prototype[e]||t.prototype[e].$$stub)throw a.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());a.add_stub_for(t.prototype,e),t.$$is_singleton?t.prototype.$singleton_method_undefined&&!t.prototype.$singleton_method_undefined.$$stub&&t.prototype.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},a.alias=function(t,e,r){var n,i="$"+e,s="$"+r,$=t.prototype["$"+r];if(t.$$eval)return a.alias(a.get_singleton_class(t),e,r);if(!w($)){for(var o=t.$$super;"function"!=typeof $&&o;)$=o[s],o=o.$$super;if(!w($)&&t.$$is_module&&($=a.Object.prototype[s]),!w($))throw a.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),(n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),a.send(this,$,t,i)}).displayName=e,n.length=$.length,n.$$arity=$.$$arity,n.$$parameters=$.$$parameters,n.$$source_location=$.$$source_location,n.$$alias_of=$,n.$$alias_name=e,a.defn(t,i,n),t},a.alias_native=function(t,e,r){var n="$"+e,i=t.prototype[r];if("function"!=typeof i||i.$$stub)throw a.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return a.defn(t,n,i),t},a.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},a.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,s=t.$$keys,$=t.$$smap,o=s.length;i<o;i++)(r=s[i]).$$is_string?n=$[r]:(n=r.value,r=r.key),a.hash_put(e,r,n)},a.hash_put=function(e,r,n){if(r.$$is_string)return l.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,s,$;if(i=e.$$by_identity?a.id(r):r.$hash(),!l.call(e.$$map,i))return s={key:r,key_hash:i,value:n},e.$$keys.push(s),void(e.$$map[i]=s);for(s=e.$$map[i];s;){if(r===s.key||r["$eql?"](s.key)){$=t,s.value=n;break}$=s,s=s.next}$&&(s={key:r,key_hash:i,value:n},e.$$keys.push(s),$.next=s)},a.hash_get=function(t,e){if(e.$$is_string)return l.call(t.$$smap,e)?t.$$smap[e]:void 0;var r,n;if(r=t.$$by_identity?a.id(e):e.$hash(),l.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},a.hash_delete=function(t,e){var r,n,i=t.$$keys,s=i.length;if(e.$$is_string){if(!l.call(t.$$smap,e))return;for(r=0;r<s;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var $=e.$hash();if(l.call(t.$$map,$))for(var o,a=t.$$map[$];a;){if(e===a.key||e["$eql?"](a.key)){for(n=a.value,r=0;r<s;r++)if(i[r]===a){i.splice(r,1);break}return o&&a.next?o.next=a.next:o?delete o.next:a.next?t.$$map[$]=a.next:delete t.$$map[$],n}o=a,a=a.next}},a.hash_rehash=function(e){for(var r,n,i,s=0,$=e.$$keys.length;s<$;s++)if(!e.$$keys[s].$$is_string&&(r=e.$$keys[s].key.$hash())!==e.$$keys[s].key_hash){for(n=e.$$map[e.$$keys[s].key_hash],i=t;n;){if(n===e.$$keys[s]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[s].key_hash]=n.next:delete e.$$map[e.$$keys[s].key_hash];break}i=n,n=n.next}if(e.$$keys[s].key_hash=r,l.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[s]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[s])}else e.$$map[r]=e.$$keys[s]}},a.hash=function(){var t,e,r,n,i,s,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(e=new a.Hash,a.hash_init(e),1===$&&arguments[0].$$is_array){for(n=(t=arguments[0]).length,r=0;r<n;r++){if(2!==t[r].length)throw a.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],s=t[r][1],a.hash_put(e,i,s)}return e}if(1===$){for(i in t=arguments[0])l.call(t,i)&&(s=t[i],a.hash_put(e,i,s));return e}if($%2!=0)throw a.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<$;r+=2)i=arguments[r],s=arguments[r+1],a.hash_put(e,i,s);return e},a.hash2=function(t,e){var r=new a.Hash;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},a.range=function(t,e,r){var n=new a.Range;return n.begin=t,n.end=e,n.excl=r,n},a.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},a.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},a.global_regexp=function(t){return t.global?t:(null==t.$$g?t.$$g=new RegExp(t.source,(t.multiline?"gm":"g")+(t.ignoreCase?"i":"")):t.$$g.lastIndex=null,t.$$g)},a.global_multiline_regexp=function(t){var e;if(t.multiline){if(t.global)return t;e=null!=t.$$g?t.$$g:t.$$g=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""))}else e=null!=t.$$gm?t.$$gm:t.$$gm=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));return e.lastIndex=null,e},a.modules={},a.loaded_features=["corelib/runtime"],a.current_dir=".",a.require_table={"corelib/runtime":!0},a.normalize=function(t){var e,r,n=[];"."!==a.current_dir&&(t=a.current_dir.replace(/\/*$/,"/")+t);for(var i=0,s=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<s;i++)""!==(r=e[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},a.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++)n=a.normalize(t[e]),a.require_table[n]||(a.loaded_features.push(n),a.require_table[n]=!0)},a.load=function(t){t=a.normalize(t),a.loaded([t]);var r=a.modules[t];if(r)r(a);else{var n=a.config.missing_require_severity,i="cannot load such file -- "+t;if("error"===n)throw a.LoadError?a.LoadError.$new(i):i;"warning"===n&&e.warn("WARNING: LoadError: "+i)}return!0},a.require=function(t){return t=a.normalize(t),!a.require_table[t]&&a.load(t)},a.BasicObject=n=a.allocate_class("BasicObject",null,function(){}),a.Object=i=a.allocate_class("Object",a.BasicObject,function(){}),a.Module=s=a.allocate_class("Module",a.Object,function(){}),a.Class=$=a.allocate_class("Class",a.Module,function(){}),u(a.BasicObject,a.Class.prototype),u(a.Object,a.Class.prototype),u(a.Module,a.Class.prototype),u(a.Class,a.Class.prototype),n.$$const.BasicObject=n,a.const_set(i,"BasicObject",n),a.const_set(i,"Object",i),a.const_set(i,"Module",s),a.const_set(i,"Class",$),n.$$class=$,i.$$class=$,s.$$class=$,$.$$class=$,d(i.prototype,"toString",function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t}),d(i.prototype,"$require",a.require),a.$$=i.$$,a.top=new i,a.top.$to_s=a.top.$inspect=function(){return"main"},a.NilClass=a.allocate_class("NilClass",a.Object,function(){}),a.const_set(i,"NilClass",a.NilClass),(r=a.nil=new a.NilClass).$$id=4,r.call=r.apply=function(){throw a.LocalJumpError.$new("no block given")},a.breaker=new Error("unexpected break (old)"),a.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,$){function o(){}var a,l,c,u,h,_,d,f,p,m,y,g,b,v,x=o=i(e,"Opal",o),w=(x.prototype,[x].concat($));t.defs(x,"$bridge",a=function(e,r){return t.bridge(e,r)},a.$$arity=2),t.defs(x,"$type_error",l=function(t,e,i,$){var o;return null==i&&(i=r),null==$&&($=r),s(s(o=i)?$:o)?n(w,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+$.$class()+")"):n(w,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},l.$$arity=-3),t.defs(x,"$coerce_to",c=function(t,e,r){return s(e["$==="](t))?t:(s(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},c.$$arity=3),t.defs(x,"$coerce_to!",u=function(t,e,r){var n;return n=this.$coerce_to(t,e,r),s(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n},u.$$arity=3),t.defs(x,"$coerce_to?",h=function(t,e,n){var i=r;return s(t["$respond_to?"](n))?(i=this.$coerce_to(t,e,n),s(i["$nil?"]())?r:(s(e["$==="](i))||this.$raise(this.$type_error(t,e,n,i)),i)):r},h.$$arity=3),t.defs(x,"$try_convert",_=function(t,e,n){return s(e["$==="](t))?t:s(t["$respond_to?"](n))?t.$__send__(n):r},_.$$arity=3),t.defs(x,"$compare",d=function(t,e){var i;return i=t["$<=>"](e),s(i===r)&&this.$raise(n(w,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),i},d.$$arity=2),t.defs(x,"$destructure",f=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},f.$$arity=1),t.defs(x,"$respond_to?",p=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},p.$$arity=-3),t.defs(x,"$inspect_obj",m=function(e){return t.inspect(e)},m.$$arity=1),t.defs(x,"$instance_variable_name!",y=function(t){return t=n(w,"Opal")["$coerce_to!"](t,n(w,"String"),"to_str"),s(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(n(w,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},y.$$arity=1),t.defs(x,"$class_variable_name!",g=function(t){return t=n(w,"Opal")["$coerce_to!"](t,n(w,"String"),"to_str"),s(t.length<3||"@@"!==t.slice(0,2))&&this.$raise(n(w,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),t.defs(x,"$const_name!",b=function(t){return t=n(w,"Opal")["$coerce_to!"](t,n(w,"String"),"to_str"),s(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(n(w,"NameError"),"wrong constant name "+t),t},b.$$arity=1),t.defs(x,"$pristine",v=function(e,n){for(var i,s,$,o=(i=t.slice.call(arguments,1,arguments.length)).length-1;o>=0;o--)s=i[o],($=e.prototype["$"+s])&&!$.$$stub&&($.$$pristine=!0);return r},v.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.prototype,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_inherited_2,TMP_Module_initialize_3,TMP_Module_$eq$eq$eq_4,TMP_Module_$lt_5,TMP_Module_$lt$eq_6,TMP_Module_$gt_7,TMP_Module_$gt$eq_8,TMP_Module_$lt$eq$gt_9,TMP_Module_alias_method_10,TMP_Module_alias_native_11,TMP_Module_ancestors_12,TMP_Module_append_features_13,TMP_Module_attr_accessor_14,TMP_Module_attr_reader_15,TMP_Module_attr_writer_16,TMP_Module_autoload_17,TMP_Module_class_variables_18,TMP_Module_class_variable_get_19,TMP_Module_class_variable_set_20,TMP_Module_class_variable_defined$q_21,TMP_Module_remove_class_variable_22,TMP_Module_constants_23,TMP_Module_constants_24,TMP_Module_nesting_25,TMP_Module_const_defined$q_26,TMP_Module_const_get_27,TMP_Module_const_missing_29,TMP_Module_const_set_30,TMP_Module_public_constant_31,TMP_Module_define_method_32,TMP_Module_remove_method_34,TMP_Module_singleton_class$q_35,TMP_Module_include_36,TMP_Module_included_modules_37,TMP_Module_include$q_38,TMP_Module_instance_method_39,TMP_Module_instance_methods_40,TMP_Module_included_41,TMP_Module_extended_42,TMP_Module_extend_object_43,TMP_Module_method_added_44,TMP_Module_method_removed_45,TMP_Module_method_undefined_46,TMP_Module_module_eval_47,TMP_Module_module_exec_49,TMP_Module_method_defined$q_50,TMP_Module_module_function_51,TMP_Module_name_52,TMP_Module_prepend_53,TMP_Module_prepend_features_54,TMP_Module_prepended_55,TMP_Module_remove_const_56,TMP_Module_to_s_57,TMP_Module_undef_method_58,TMP_Module_instance_variables_59,TMP_Module_dup_60,TMP_Module_copy_class_variables_61,TMP_Module_copy_constants_62;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){return Opal.allocate_module(nil,function(){})},TMP_Module_allocate_1.$$arity=0),Opal.defs(self,"$inherited",TMP_Module_inherited_2=function(t){t.$allocate=function(){var e=Opal.allocate_module(nil,function(){});return Object.setPrototypeOf(e,t.prototype),e}},TMP_Module_inherited_2.$$arity=1),Opal.def(self,"$initialize",TMP_Module_initialize_3=function(){var t=TMP_Module_initialize_3.$$p,e=t||nil;return t&&(TMP_Module_initialize_3.$$p=null),t&&(TMP_Module_initialize_3.$$p=null),e!==nil?$send(this,"module_eval",[],e.$to_proc()):nil},TMP_Module_initialize_3.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_4=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},TMP_Module_$eq$eq$eq_4.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_5=function(t){$truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module");var e,r,n;if(this===t)return!1;for(r=0,n=(e=Opal.ancestors(this)).length;r<n;r++)if(e[r]===t)return!0;for(r=0,n=(e=Opal.ancestors(t)).length;r<n;r++)if(e[r]===this)return!1;return nil},TMP_Module_$lt_5.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_6=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},TMP_Module_$lt$eq_6.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_7=function(t){return $truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},TMP_Module_$gt_7.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_8=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},TMP_Module_$gt$eq_8.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_9=function(t){var e=nil;return this===t?0:$truthy($$($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},TMP_Module_$lt$eq$gt_9.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_10=function(t,e){return Opal.alias(this,t,e),this},TMP_Module_alias_method_10.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_11=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},TMP_Module_alias_native_11.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_12=function(){return Opal.ancestors(this)},TMP_Module_ancestors_12.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_13=function(t){return Opal.append_features(this,t),this},TMP_Module_append_features_13.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_14=function(t){var e;return e=Opal.slice.call(arguments,0,arguments.length),$send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_14.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_15=function(t){var e;e=Opal.slice.call(arguments,0,arguments.length);for(var r=this.prototype,n=e.length-1;n>=0;n--){var i=e[n],s="$"+i,$=Opal.ivar(i),o=function(t){return function(){return null==this[t]?nil:this[t]}}($);Opal.defineProperty(r,$,nil),o.$$parameters=[],o.$$arity=0,Opal.defn(this,s,o)}return nil},TMP_Module_attr_reader_15.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_16=function(t){var e;e=Opal.slice.call(arguments,0,arguments.length);for(var r=this.prototype,n=e.length-1;n>=0;n--){var i=e[n],s="$"+i+"=",$=Opal.ivar(i),o=function(t){return function(e){return this[t]=e}}($);o.$$parameters=[["req"]],o.$$arity=1,Opal.defineProperty(r,$,nil),Opal.defn(this,s,o)}return nil},TMP_Module_attr_writer_16.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_17=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},TMP_Module_autoload_17.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_18=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_18.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_19=function(t){t=$$($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},TMP_Module_class_variable_get_19.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_20=function(t,e){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},TMP_Module_class_variable_set_20.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_21=function(t){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_21.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_22=function(t){if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(this.$$cvars,t)){var e=this.$$cvars[t];return delete this.$$cvars[t],e}this.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+this)},TMP_Module_remove_class_variable_22.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_23=function(t){return null==t&&(t=!0),Opal.constants(this,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_24=function(t){if(null==t){var e,r,n,i=(this.$$nesting||[]).concat(Opal.Object),s={};for(r=0,n=i.length;r<n;r++)for(e in i[r].$$const)s[e]=!0;return Object.keys(s)}return Opal.constants(this,t)},TMP_Module_constants_24.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_25=function(){return this.$$nesting||[]},TMP_Module_nesting_25.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_26=function(t,e){null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var r,n,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),r=0,n=i.length;r<n;r++)if(null!=i[r].$$const[t])return!0;return!1},TMP_Module_const_defined$q_26.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r;return null==e&&(e=!0),0===(t=$$($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[this],((r=function(t,e){r.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=this,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([this],t):Opal.const_get_local(this,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_29=function(t){var e,r=this;if(r.$$autoload){var n=r.$$autoload[t];if(n)return r.$require(n),r.$const_get(t)}return e=r["$=="]($$($nesting,"Object"))?t:r+"::"+t,r.$raise($$($nesting,"NameError").$new("uninitialized constant "+e,t))},TMP_Module_const_missing_29.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_30=function(t,e){var r;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},TMP_Module_const_set_30.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_31=function(t){return nil},TMP_Module_public_constant_31.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_32=function(t,e){var r,n,i=TMP_Module_define_method_32.$$p,s=i||nil,$=this,o=nil;i&&(TMP_Module_define_method_32.$$p=null),i&&(TMP_Module_define_method_32.$$p=null),$truthy(void 0===e&&s===nil)&&$.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block");var a="$"+t;return(s=$truthy(r=s)?r:(o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda(((n=function(t){var r,i,s=n.$$s||this;return r=Opal.slice.call(arguments,0,arguments.length),i=e.$bind(s),$send(i,"call",Opal.to_a(r))}).$$s=$,n.$$arity=-1,n)):$.$raise($$($nesting,"TypeError"),"wrong argument type "+s.$class()+" (expected Proc/Method)"))).$$jsid=t,s.$$s=null,s.$$def=s,s.$$define_meth=!0,Opal.defn($,a,s),t},TMP_Module_define_method_32.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_34=function(t){for(var e,r=0,n=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<n;r++)Opal.rdef(this,"$"+e[r]);return this},TMP_Module_remove_method_34.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_35=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_35.$$arity=0),Opal.def(self,"$include",TMP_Module_include_36=function(t){for(var e,r=(e=Opal.slice.call(arguments,0,arguments.length)).length-1;r>=0;r--){var n=e[r];n.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+n.$class()+" (expected Module)"),n.$append_features(this),n.$included(this)}return this},TMP_Module_include_36.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_37=function(){return Opal.included_modules(this)},TMP_Module_included_modules_37.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_38=function(t){t.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,r,n,i=Opal.ancestors(this);for(e=0,r=i.length;e<r;e++)if((n=i[e])===t&&n!==this)return!0;return!1},TMP_Module_include$q_38.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_39=function(t){var e=this.prototype["$"+t];return e&&!e.$$stub||this.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+this.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(this,e.$$owner||this,e,t)},TMP_Module_instance_method_39.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_40=function(t){return null==t&&(t=!0),$truthy(t)?Opal.instance_methods(this):Opal.own_instance_methods(this)},TMP_Module_instance_methods_40.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_41=function(t){return nil},TMP_Module_included_41.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_42=function(t){return nil},TMP_Module_extended_42.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_43=function(t){return nil},TMP_Module_extend_object_43.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_44=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_Module_method_added_44.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_45=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_Module_method_removed_45.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_46=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_Module_method_undefined_46.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_47=function $$module_eval($a){var $iter=TMP_Module_module_eval_47.$$p,block=$iter||nil,$post_args,args,$b,TMP_48,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&(TMP_Module_module_eval_47.$$p=null),$iter&&(TMP_Module_module_eval_47.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(TMP_48=function(){var self=TMP_48.$$s||this;return function(self){return eval(compiled)}(self)},TMP_48.$$s=self,TMP_48.$$arity=0,TMP_48))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_47.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_49=function(t){var e,r=TMP_Module_module_exec_49.$$p,n=r||nil;r&&(TMP_Module_module_exec_49.$$p=null),r&&(TMP_Module_module_exec_49.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),n===nil&&this.$raise($$($nesting,"LocalJumpError"),"no block given");var i,s=n.$$s;return n.$$s=null,i=n.apply(this,e),n.$$s=s,i},TMP_Module_module_exec_49.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_50=function(t){var e=this.prototype["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_50.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_51=function(t){var e;if(0===(e=Opal.slice.call(arguments,0,arguments.length)).length)this.$$module_function=!0;else for(var r=0,n=e.length;r<n;r++){var i="$"+e[r],s=this.prototype[i];Opal.defs(this,i,s)}return this},TMP_Module_module_function_51.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_52=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},TMP_Module_name_52.$$arity=0),Opal.def(self,"$prepend",TMP_Module_prepend_53=function(t){var e;0===(e=Opal.slice.call(arguments,0,arguments.length)).length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var r=e.length-1;r>=0;r--){var n=e[r];n.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+n.$class()+" (expected Module)"),n.$prepend_features(this),n.$prepended(this)}return this},TMP_Module_prepend_53.$$arity=-1),Opal.def(self,"$prepend_features",TMP_Module_prepend_features_54=function(t){return this.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)"),Opal.prepend_features(this,t),this},TMP_Module_prepend_features_54.$$arity=1),Opal.def(self,"$prepended",TMP_Module_prepended_55=function(t){return nil},TMP_Module_prepended_55.$$arity=1),Opal.def(self,"$remove_const",TMP_Module_remove_const_56=function(t){return Opal.const_remove(this,t)},TMP_Module_remove_const_56.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_57=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_57.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_58=function(t){for(var e,r=0,n=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<n;r++)Opal.udef(this,"$"+e[r]);return this},TMP_Module_undef_method_58.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_59=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!t["$include?"](r)&&e.push("@"+r);return e},TMP_Module_instance_variables_59.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_60=function(){var t,e=TMP_Module_dup_60.$$p,r=nil,n=nil,i=nil;for(e&&(TMP_Module_dup_60.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Module_dup_60,!1),n,e)).$copy_class_variables(this),r.$copy_constants(this),r},TMP_Module_dup_60.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_61=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},TMP_Module_copy_class_variables_61.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_62=function(t){var e,r=t.$$const;for(e in r)Opal.const_set(this,e,r[e])},TMP_Module_copy_constants_62.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),$=t.send;return t.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){function a(){}var l,c,u,h,_,d,f,p=a=s(e,null,"Class",a),m=(p.prototype,[p].concat(o));return t.defs(p,"$new",l=function(e){var r=l.$$p,s=r||n;if(r&&(l.$$p=null),r&&(l.$$p=null),null==e&&(e=i(m,"Object")),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var o=t.allocate_class(n,e,function(){});return e.$inherited(o),s!==n&&$(o,"class_eval",[],s.$to_proc()),o},l.$$arity=-1),t.def(p,"$allocate",c=function(){var e=new this;return e.$$id=t.uid(),e},c.$$arity=0),t.def(p,"$inherited",u=function(t){return n},u.$$arity=1),t.def(p,"$initialize_dup",h=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},h.$$arity=1),t.def(p,"$new",_=function(e){var r,i=_.$$p,s=i||n;i&&(_.$$p=null),i&&(_.$$p=null),r=t.slice.call(arguments,0,arguments.length);var $=this.$allocate();return t.send($,$.$initialize,r,s),$},_.$$arity=-1),t.def(p,"$superclass",d=function(){return this.$$super||n},d.$$arity=0),t.def(p,"$to_s",f=function(){var e=f.$$p;e&&(f.$$p=null);var r=this.$$singleton_of;return r&&r.$$is_a_module?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+t.id(r).$to_s(16)+">>":$(this,t.find_super_dispatcher(this,"to_s",f,!1),[],null)},f.$$arity=0),n&&"to_s"}(r[0],0,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.prototype,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_class_14,TMP_BasicObject_method_missing_15;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){return null!=this.$$id?this.$$id:(Opal.defineProperty(this,"$$id",Opal.uid()),this.$$id)},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=TMP_BasicObject___send___5.$$p,i=n||nil;n&&(TMP_BasicObject___send___5.$$p=null),n&&(TMP_BasicObject___send___5.$$p=null),r=Opal.slice.call(arguments,1,arguments.length);var s=this["$"+t];return s?(i!==nil&&(s.$$p=i),s.apply(this,r)):(i!==nil&&(this.$method_missing.$$p=i),this.$method_missing.apply(this,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a){var $iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,$post_args,args,$b,TMP_9,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=TMP_BasicObject_instance_exec_10.$$p,n=r||nil;r&&(TMP_BasicObject_instance_exec_10.$$p=null),r&&(TMP_BasicObject_instance_exec_10.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),$truthy(n)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var i,s=n.$$s;if(n.$$s=null,this.$$is_a_module){this.$$eval=!0;try{i=n.apply(this,e)}finally{this.$$eval=!1}}else i=n.apply(this,e);return n.$$s=s,i},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$class",TMP_BasicObject_class_14=function(){return this.$$class},TMP_BasicObject_class_14.$$arity=0),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_15=function(t,e){var r,n=TMP_BasicObject_method_missing_15.$$p,i=this;return n&&(TMP_BasicObject_method_missing_15.$$p=null),n&&(TMP_BasicObject_method_missing_15.$$p=null),Opal.slice.call(arguments,1,arguments.length),r=$truthy(i.$inspect&&!i.$inspect.$$stub)?"undefined method `"+t+"' for "+i.$inspect()+":"+i.$$class:"undefined method `"+t+"' for "+i.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(r,t))},TMP_BasicObject_method_missing_15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,s=(t.breaker,t.slice,t.module),$=t.truthy,o=t.gvars,a=t.hash2,l=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(e,c){function u(){}var h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut,ht,_t,dt,ft,pt,mt,yt,gt,bt,vt,xt,wt,kt=u=s(e,"Kernel",u),Et=(kt.prototype,[kt].concat(c));t.def(kt,"$method_missing",h=function(e,r){var n,s=h.$$p;return s&&(h.$$p=null),s&&(h.$$p=null),n=t.slice.call(arguments,1,arguments.length),this.$raise(i(Et,"NoMethodError").$new("undefined method `"+e+"' for "+this.$inspect(),e,n))},h.$$arity=-2),t.def(kt,"$=~",_=function(t){return!1},_.$$arity=1),t.def(kt,"$!~",d=function(t){return this["$=~"](t)["$!"]()},d.$$arity=1),t.def(kt,"$===",f=function(t){var e;return $(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},f.$$arity=1),t.def(kt,"$<=>",p=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==r?0:r},p.$$arity=1),t.def(kt,"$method",m=function(t){var e=this["$"+t];return e&&!e.$$stub||this.$raise(i(Et,"NameError").$new("undefined method `"+t+"' for class `"+this.$class()+"'",t)),i(Et,"Method").$new(this,e.$$owner||this.$class(),e,t)},m.$$arity=1),t.def(kt,"$methods",y=function(e){return null==e&&(e=!0),$(e)?t.methods(this):t.own_methods(this)},y.$$arity=-1),t.def(kt,"$public_methods",g=function(e){return null==e&&(e=!0),$(e)?t.methods(this):t.receiver_methods(this)},g.$$arity=-1),t.def(kt,"$Array",b=function(t){var e;return t===r?[]:t.$$is_array?t:(e=i(Et,"Opal")["$coerce_to?"](t,i(Et,"Array"),"to_ary"))!==r?e:(e=i(Et,"Opal")["$coerce_to?"](t,i(Et,"Array"),"to_a"))!==r?e:[t]},b.$$arity=1),t.def(kt,"$at_exit",v=function(){var t,e=v.$$p,n=e||r;return null==o.__at_exit__&&(o.__at_exit__=r),e&&(v.$$p=null),e&&(v.$$p=null),o.__at_exit__=$(t=o.__at_exit__)?t:[],o.__at_exit__["$<<"](n)},v.$$arity=0),t.def(kt,"$caller",x=function(e){return t.slice.call(arguments,0,arguments.length),[]},x.$$arity=-1),t.def(kt,"$class",w=function(){return this.$$class},w.$$arity=0),t.def(kt,"$copy_instance_variables",k=function(t){var e,r,n,i=Object.keys(t);for(e=0,r=i.length;e<r;e++)"$"!==(n=i[e]).charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},k.$$arity=1),t.def(kt,"$copy_singleton_methods",E=function(e){var r,n,i,s;if(e.hasOwnProperty("$$meta")){var $=t.get_singleton_class(e),o=t.get_singleton_class(this);for(r=0,s=(i=Object.getOwnPropertyNames($.prototype)).length;r<s;r++)n=i[r],t.is_method(n)&&(o.prototype[n]=$.prototype[n]);o.$$const=Object.assign({},$.$$const),Object.setPrototypeOf(o.prototype,Object.getPrototypeOf($.prototype))}for(r=0,s=(i=Object.getOwnPropertyNames(e)).length;r<s;r++)"$"===(n=i[r]).charAt(0)&&"$"!==n.charAt(1)&&e.hasOwnProperty(n)&&(this[n]=e[n])},E.$$arity=1),t.def(kt,"$clone",A=function(e){var n=r;if(null==e)e=a([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,(n=this.$class().$allocate()).$copy_instance_variables(this),n.$copy_singleton_methods(this),n.$initialize_clone(this),n},A.$$arity=-1),t.def(kt,"$initialize_clone",O=function(t){return this.$initialize_copy(t)},O.$$arity=1),t.def(kt,"$define_singleton_method",S=function(t,e){var n=S.$$p,i=n||r;return n&&(S.$$p=null),n&&(S.$$p=null),l(this.$singleton_class(),"define_method",[t,e],i.$to_proc())},S.$$arity=-2),t.def(kt,"$dup",R=function(){var t=r;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},R.$$arity=0),t.def(kt,"$initialize_dup",C=function(t){return this.$initialize_copy(t)},C.$$arity=1),t.def(kt,"$enum_for",T=function(e,n){var s,$,o,a=T.$$p,c=a||r,u=this;return a&&(T.$$p=null),a&&(T.$$p=null),(s=t.slice.call(arguments,0,arguments.length)).length>0&&($=s[0],s.splice(0,1)),null==$&&($="each"),o=s,l(i(Et,"Enumerator"),"for",[u,$].concat(t.to_a(o)),c.$to_proc())},T.$$arity=-1),t.alias(kt,"to_enum","enum_for"),t.def(kt,"$equal?",M=function(t){return this===t},M.$$arity=1),t.def(kt,"$exit",I=function(e){var n;for(null==o.__at_exit__&&(o.__at_exit__=r),null==e&&(e=!0),o.__at_exit__=$(n=o.__at_exit__)?n:[];!$(o.__at_exit__["$empty?"]());)o.__at_exit__.$pop().$call();return e=e.$$is_boolean?e?0:1:i(Et,"Opal").$coerce_to(e,i(Et,"Integer"),"to_int"),t.exit(e),r},I.$$arity=-1),t.def(kt,"$extend",N=function(e){var r;r=t.slice.call(arguments,0,arguments.length);for(var n=this.$singleton_class(),s=r.length-1;s>=0;s--){var $=r[s];$.$$is_module||this.$raise(i(Et,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$append_features(n),$.$extend_object(this),$.$extended(this)}return this},N.$$arity=-1),t.def(kt,"$format",P=function(e,n){var s,a,l=this,c=r;null==o.DEBUG&&(o.DEBUG=r),s=t.slice.call(arguments,1,arguments.length),$((a=s).$length()["$=="](1)?a["$[]"](0)["$respond_to?"]("to_ary"):a.$length()["$=="](1))&&(c=i(Et,"Opal")["$coerce_to?"](a["$[]"](0),i(Et,"Array"),"to_ary"),$(c["$nil?"]())||(a=c.$to_a()));var u,h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O="",S=0,R=e.length,C=1,T=0,M=32,I=128;function N(){A&M&&l.$raise(i(Et,"ArgumentError"),"flag after width"),A&I&&l.$raise(i(Et,"ArgumentError"),"flag after precision")}function P(){A&M&&l.$raise(i(Et,"ArgumentError"),"width given twice"),A&I&&l.$raise(i(Et,"ArgumentError"),"width after precision")}function L(t){return t>=a.length&&l.$raise(i(Et,"ArgumentError"),"too few arguments"),a[t]}function D(){switch(T){case-1:l.$raise(i(Et,"ArgumentError"),"unnumbered("+C+") mixed with numbered");case-2:l.$raise(i(Et,"ArgumentError"),"unnumbered("+C+") mixed with named")}return L((T=C++)-1)}function F(t){return T>0&&l.$raise(i(Et,"ArgumentError"),"numbered("+t+") after unnumbered("+T+")"),-2===T&&l.$raise(i(Et,"ArgumentError"),"numbered("+t+") after named"),t<1&&l.$raise(i(Et,"ArgumentError"),"invalid index - "+t+"$"),T=-1,L(t-1)}function z(){return void 0===E?D():E}function B(t){for(var r,n="";;h++){if(h===R&&l.$raise(i(Et,"ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(h)<48||e.charCodeAt(h)>57)return h--,(r=parseInt(n,10)||0)>2147483647&&l.$raise(i(Et,"ArgumentError"),t+" too big"),r;n+=e.charAt(h)}}function q(t){var r,n=B(t);return"$"===e.charAt(h+1)?(h++,r=F(n)):r=D(),r.$to_int()}for(h=e.indexOf("%");-1!==h;h=e.indexOf("%",h)){switch(d=void 0,A=0,p=-1,m=-1,E=void 0,u=h,h++,e.charAt(h)){case"%":S=h;case"":case"\n":case"\0":h++;continue}t:for(;h<R;h++)switch(e.charAt(h)){case" ":N(),A|=16;continue t;case"#":N(),A|=1;continue t;case"+":N(),A|=4;continue t;case"-":N(),A|=2;continue t;case"0":N(),A|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(y=B("width"),"$"===e.charAt(h+1)){if(h+2===R){d="%",h++;break t}void 0!==E&&l.$raise(i(Et,"ArgumentError"),"value given twice - %"+y+"$"),E=F(y),h++}else P(),A|=M,p=y;continue t;case"<":case"{":for(b="<"===e.charAt(h)?">":"}",g="",h++;;h++){if(h===R&&l.$raise(i(Et,"ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(h)===b){if(T>0&&l.$raise(i(Et,"ArgumentError"),"named "+g+" after unnumbered("+T+")"),-1===T&&l.$raise(i(Et,"ArgumentError"),"named "+g+" after numbered"),T=-2,void 0!==a[0]&&a[0].$$is_hash||l.$raise(i(Et,"ArgumentError"),"one hash required"),E=a[0].$fetch(g),">"===b)continue t;if(d=E.toString(),-1!==m&&(d=d.slice(0,m)),2&A)for(;d.length<p;)d+=" ";else for(;d.length<p;)d=" "+d;break t}g+=e.charAt(h)}case"*":h++,P(),A|=M,(p=q("width"))<0&&(A|=2,p=-p);continue t;case".":if(A&I&&l.$raise(i(Et,"ArgumentError"),"precision given twice"),A|=64|I,m=0,h++,"*"===e.charAt(h)){h++,(m=q("precision"))<0&&(A&=-65);continue t}m=B("precision");continue t;case"d":case"i":case"u":if((_=l.$Integer(z()))>=0){for(d=_.toString();d.length<m;)d="0"+d;if(2&A)for((4&A||16&A)&&(d=(4&A?"+":" ")+d);d.length<p;)d+=" ";else if(8&A&&-1===m){for(;d.length<p-(4&A||16&A?1:0);)d="0"+d;(4&A||16&A)&&(d=(4&A?"+":" ")+d)}else for((4&A||16&A)&&(d=(4&A?"+":" ")+d);d.length<p;)d=" "+d}else{for(d=(-_).toString();d.length<m;)d="0"+d;if(2&A)for(d="-"+d;d.length<p;)d+=" ";else if(8&A&&-1===m){for(;d.length<p-1;)d="0"+d;d="-"+d}else for(d="-"+d;d.length<p;)d=" "+d}break t;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(h)){case"b":case"B":v=2,x="0b",w=/^1+/,k="1";break;case"o":v=8,x="0",w=/^3?7+/,k="7";break;case"x":case"X":v=16,x="0x",w=/^f+/,k="f"}if((_=l.$Integer(z()))>=0){for(d=_.toString(v);d.length<m;)d="0"+d;if(2&A)for((4&A||16&A)&&(d=(4&A?"+":" ")+d),1&A&&0!==_&&(d=x+d);d.length<p;)d+=" ";else if(8&A&&-1===m){for(;d.length<p-(4&A||16&A?1:0)-(1&A&&0!==_?x.length:0);)d="0"+d;1&A&&0!==_&&(d=x+d),(4&A||16&A)&&(d=(4&A?"+":" ")+d)}else for(1&A&&0!==_&&(d=x+d),(4&A||16&A)&&(d=(4&A?"+":" ")+d);d.length<p;)d=" "+d}else if(4&A||16&A){for(d=(-_).toString(v);d.length<m;)d="0"+d;if(2&A)for(1&A&&(d=x+d),d="-"+d;d.length<p;)d+=" ";else if(8&A&&-1===m){for(;d.length<p-1-(1&A?2:0);)d="0"+d;1&A&&(d=x+d),d="-"+d}else for(1&A&&(d=x+d),d="-"+d;d.length<p;)d=" "+d}else{for(d=(_>>>0).toString(v).replace(w,k);d.length<m-2;)d=k+d;if(2&A)for(d=".."+d,1&A&&(d=x+d);d.length<p;)d+=" ";else if(8&A&&-1===m){for(;d.length<p-2-(1&A?x.length:0);)d=k+d;d=".."+d,1&A&&(d=x+d)}else for(d=".."+d,1&A&&(d=x+d);d.length<p;)d=" "+d}e.charAt(h)===e.charAt(h).toUpperCase()&&(d=d.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if((_=l.$Float(z()))>=0||isNaN(_)){if(_===1/0)d="Inf";else switch(e.charAt(h)){case"f":d=_.toFixed(-1===m?6:m);break;case"e":case"E":d=_.toExponential(-1===m?6:m);break;case"g":case"G":d=_.toExponential(),(f=parseInt(d.split("e")[1],10))<-4||f>=(-1===m?6:m)||(d=_.toPrecision(-1===m?1&A?6:void 0:m))}if(2&A)for((4&A||16&A)&&(d=(4&A?"+":" ")+d);d.length<p;)d+=" ";else if(8&A&&_!==1/0&&!isNaN(_)){for(;d.length<p-(4&A||16&A?1:0);)d="0"+d;(4&A||16&A)&&(d=(4&A?"+":" ")+d)}else for((4&A||16&A)&&(d=(4&A?"+":" ")+d);d.length<p;)d=" "+d}else{if(_===-1/0)d="Inf";else switch(e.charAt(h)){case"f":d=(-_).toFixed(-1===m?6:m);break;case"e":case"E":d=(-_).toExponential(-1===m?6:m);break;case"g":case"G":d=(-_).toExponential(),(f=parseInt(d.split("e")[1],10))<-4||f>=(-1===m?6:m)||(d=(-_).toPrecision(-1===m?1&A?6:void 0:m))}if(2&A)for(d="-"+d;d.length<p;)d+=" ";else if(8&A&&_!==-1/0){for(;d.length<p-1;)d="0"+d;d="-"+d}else for(d="-"+d;d.length<p;)d=" "+d}e.charAt(h)!==e.charAt(h).toUpperCase()||_===1/0||_===-1/0||isNaN(_)||(d=d.toUpperCase()),d=d.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":l.$raise(i(Et,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((_=z())["$respond_to?"]("to_ary")&&(_=_.$to_ary()[0]),1!==(d=_["$respond_to?"]("to_str")?_.$to_str():String.fromCharCode(i(Et,"Opal").$coerce_to(_,i(Et,"Integer"),"to_int"))).length&&l.$raise(i(Et,"ArgumentError"),"%c requires a character"),2&A)for(;d.length<p;)d+=" ";else for(;d.length<p;)d=" "+d;break t;case"p":if(d=z().$inspect(),-1!==m&&(d=d.slice(0,m)),2&A)for(;d.length<p;)d+=" ";else for(;d.length<p;)d=" "+d;break t;case"s":if(d=z().$to_s(),-1!==m&&(d=d.slice(0,m)),2&A)for(;d.length<p;)d+=" ";else for(;d.length<p;)d=" "+d;break t;default:l.$raise(i(Et,"ArgumentError"),"malformed format string - %"+e.charAt(h))}void 0===d&&l.$raise(i(Et,"ArgumentError"),"malformed format string - %"),O+=e.slice(S,u)+d,S=h+1}return o.DEBUG&&T>=0&&C<a.length&&l.$raise(i(Et,"ArgumentError"),"too many arguments for format string"),O+e.slice(S)},P.$$arity=-2),t.def(kt,"$hash",L=function(){return this.$__id__()},L.$$arity=0),t.def(kt,"$initialize_copy",D=function(t){return r},D.$$arity=1),t.def(kt,"$inspect",F=function(){return this.$to_s()},F.$$arity=0),t.def(kt,"$instance_of?",z=function(t){return t.$$is_class||t.$$is_module||this.$raise(i(Et,"TypeError"),"class or module required"),this.$$class===t},z.$$arity=1),t.def(kt,"$instance_variable_defined?",B=function(e){return e=i(Et,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},B.$$arity=1),t.def(kt,"$instance_variable_get",q=function(e){e=i(Et,"Opal")["$instance_variable_name!"](e);var n=this[t.ivar(e.substr(1))];return null==n?r:n},q.$$arity=1),t.def(kt,"$instance_variable_set",j=function(e,r){return e=i(Et,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=r},j.$$arity=2),t.def(kt,"$remove_instance_variable",U=function(e){e=i(Et,"Opal")["$instance_variable_name!"](e);var r,n=t.ivar(e.substr(1));return this.hasOwnProperty(n)?(r=this[n],delete this[n],r):this.$raise(i(Et,"NameError"),"instance variable "+e+" not defined")},U.$$arity=1),t.def(kt,"$instance_variables",H=function(){var t,e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,e.push("@"+t));return e},H.$$arity=0),t.def(kt,"$Integer",Y=function(t,e){var n,s,$,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(1===(e=i(Et,"Opal").$coerce_to(e,i(Et,"Integer"),"to_int"))||e<0||e>36)&&o.$raise(i(Et,"ArgumentError"),"invalid radix "+e),s=(s=(s=t.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,s){switch(s){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}o.$raise(i(Et,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),$="0-"+((e=0===e?10:e)<=10?e-1:"9a-"+String.fromCharCode(e-11+97)),new RegExp("^\\s*[+-]?["+$+"]+\\s*$").test(s)||o.$raise(i(Et,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),n=parseInt(s,e),isNaN(n)&&o.$raise(i(Et,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),n):(void 0!==e&&o.$raise(i(Et,"ArgumentError"),"base specified for non string value"),t===r&&o.$raise(i(Et,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-1/0||isNaN(t))&&o.$raise(i(Et,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(n=t.$to_int())!==r?n:i(Et,"Opal")["$coerce_to!"](t,i(Et,"Integer"),"to_i"))},Y.$$arity=-2),t.def(kt,"$Float",G=function(t){var e;return t===r&&this.$raise(i(Et,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(i(Et,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):i(Et,"Opal")["$coerce_to!"](t,i(Et,"Float"),"to_f")},G.$$arity=1),t.def(kt,"$Hash",W=function(t){var e;return $($(e=t["$nil?"]())?e:t["$=="]([]))?a([],{}):$(i(Et,"Hash")["$==="](t))?t:i(Et,"Opal")["$coerce_to!"](t,i(Et,"Hash"),"to_hash")},W.$$arity=1),t.def(kt,"$is_a?",V=function(e){return e.$$is_class||e.$$is_module||this.$raise(i(Et,"TypeError"),"class or module required"),t.is_a(this,e)},V.$$arity=1),t.def(kt,"$itself",K=function(){return this},K.$$arity=0),t.alias(kt,"kind_of?","is_a?"),t.def(kt,"$lambda",X=function(){var e=X.$$p,n=e||r;return e&&(X.$$p=null),e&&(X.$$p=null),t.lambda(n)},X.$$arity=0),t.def(kt,"$load",J=function(e){return e=i(Et,"Opal")["$coerce_to!"](e,i(Et,"String"),"to_str"),t.load(e)},J.$$arity=1),t.def(kt,"$loop",Z=function(){var e,s=Z.$$p,o=s||r,a=r;if(s&&(Z.$$p=null),o===r)return l(this,"enum_for",["loop"],((e=function(){e.$$s;return n(i(Et,"Float"),"INFINITY")}).$$s=this,e.$$arity=0,e));for(;$(!0);)try{t.yieldX(o,[])}catch(e){if(!t.rescue(e,[i(Et,"StopIteration")]))throw e;a=e;try{return a.$result()}finally{t.pop_exception()}}return this},Z.$$arity=0),t.def(kt,"$nil?",Q=function(){return!1},Q.$$arity=0),t.alias(kt,"object_id","__id__"),t.def(kt,"$printf",tt=function(e){var n,i;return n=t.slice.call(arguments,0,arguments.length),$((i=n)["$any?"]())&&this.$print(l(this,"format",t.to_a(i))),r},tt.$$arity=-1),t.def(kt,"$proc",et=function(){var t=et.$$p,e=t||r;return t&&(et.$$p=null),t&&(et.$$p=null),$(e)||this.$raise(i(Et,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},et.$$arity=0),t.def(kt,"$puts",rt=function(e){var n;return null==o.stdout&&(o.stdout=r),n=t.slice.call(arguments,0,arguments.length),l(o.stdout,"puts",t.to_a(n))},rt.$$arity=-1),t.def(kt,"$p",nt=function(e){var n,i,s,a,c;return n=t.slice.call(arguments,0,arguments.length),l(i=n,"each",[],((s=function(t){s.$$s;return null==o.stdout&&(o.stdout=r),null==t&&(t=r),o.stdout.$puts(t.$inspect())}).$$s=this,s.$$arity=1,s)),$((a=i.$length(),c=1,"number"==typeof a&&"number"==typeof c?a<=c:a["$<="](c)))?i["$[]"](0):i},nt.$$arity=-1),t.def(kt,"$print",it=function(e){var n;return null==o.stdout&&(o.stdout=r),n=t.slice.call(arguments,0,arguments.length),l(o.stdout,"print",t.to_a(n))},it.$$arity=-1),t.def(kt,"$warn",st=function(e){var n,i;return null==o.VERBOSE&&(o.VERBOSE=r),null==o.stderr&&(o.stderr=r),n=t.slice.call(arguments,0,arguments.length),$($(i=o.VERBOSE["$nil?"]())?i:n["$empty?"]())?r:l(o.stderr,"puts",t.to_a(n))},st.$$arity=-1),t.def(kt,"$raise",$t=function(e,n,s){if(null==o["!"]&&(o["!"]=r),null==n&&(n=r),null==s&&(s=r),null==e&&o["!"]!==r)throw o["!"];throw null==e?e=i(Et,"RuntimeError").$new():e.$$is_string?e=i(Et,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(n):e["$is_a?"](i(Et,"Exception"))||(e=i(Et,"TypeError").$new("exception class/object expected")),o["!"]!==r&&t.exceptions.push(o["!"]),o["!"]=e,e},$t.$$arity=-1),t.alias(kt,"fail","raise"),t.def(kt,"$rand",ot=function(t){return void 0===t?n(i(Et,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),n(i(Et,"Random"),"DEFAULT").$rand(t))},ot.$$arity=-1),t.def(kt,"$respond_to?",at=function(t,e){if(null==e&&(e=!1),$(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},at.$$arity=-2),t.def(kt,"$respond_to_missing?",lt=function(t,e){return null==e&&(e=!1),!1},lt.$$arity=-2),t.def(kt,"$require",ct=function(e){return e=i(Et,"Opal")["$coerce_to!"](e,i(Et,"String"),"to_str"),t.require(e)},ct.$$arity=1),t.def(kt,"$require_relative",ut=function(e){return i(Et,"Opal")["$try_convert!"](e,i(Et,"String"),"to_str"),e=i(Et,"File").$expand_path(i(Et,"File").$join(t.current_file,"..",e)),t.require(e)},ut.$$arity=1),t.def(kt,"$require_tree",ht=function(e){var r=[];for(var n in e=i(Et,"File").$expand_path(e),"."===(e=t.normalize(e))&&(e=""),t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ht.$$arity=1),t.alias(kt,"send","__send__"),t.alias(kt,"public_send","__send__"),t.def(kt,"$singleton_class",_t=function(){return t.get_singleton_class(this)},_t.$$arity=0),t.def(kt,"$sleep",dt=function(e){null==e&&(e=r),e===r&&this.$raise(i(Et,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||this.$raise(i(Et,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&this.$raise(i(Et,"ArgumentError"),"time interval must be positive");for(var n=t.global.performance?function(){return performance.now()}:function(){return new Date},s=n();n()-s<=1e3*e;);return e},dt.$$arity=-1),t.alias(kt,"sprintf","format"),t.def(kt,"$srand",ft=function(t){return null==t&&(t=i(Et,"Random").$new_seed()),i(Et,"Random").$srand(t)},ft.$$arity=-1),t.def(kt,"$String",pt=function(t){var e;return $(e=i(Et,"Opal")["$coerce_to?"](t,i(Et,"String"),"to_str"))?e:i(Et,"Opal")["$coerce_to!"](t,i(Et,"String"),"to_s")},pt.$$arity=1),t.def(kt,"$tap",mt=function(){var e=mt.$$p,n=e||r;return e&&(mt.$$p=null),e&&(mt.$$p=null),t.yield1(n,this),this},mt.$$arity=0),t.def(kt,"$to_proc",yt=function(){return this},yt.$$arity=0),t.def(kt,"$to_s",gt=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},gt.$$arity=0),t.def(kt,"$catch",bt=function(e){var n=bt.$$p,s=n||r,$=r;n&&(bt.$$p=null);try{return t.yieldX(s,[])}catch(r){if(!t.rescue(r,[i(Et,"UncaughtThrowError")]))throw r;$=r;try{return $.$sym()["$=="](e)?$.$arg():this.$raise()}finally{t.pop_exception()}}},bt.$$arity=1),t.def(kt,"$throw",vt=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),this.$raise(i(Et,"UncaughtThrowError"),r)},vt.$$arity=-1),t.def(kt,"$open",xt=function(e){var n,s=xt.$$p,$=s||r;return s&&(xt.$$p=null),s&&(xt.$$p=null),n=t.slice.call(arguments,0,arguments.length),l(i(Et,"File"),"open",t.to_a(n),$.$to_proc())},xt.$$arity=-1),t.def(kt,"$yield_self",wt=function(){var e,n=wt.$$p,i=n||r;return n&&(wt.$$p=null),i===r?l(this,"enum_for",["yield_self"],((e=function(){e.$$s;return 1}).$$s=this,e.$$arity=0,e)):t.yield1(i,this)},wt.$$arity=0)}(e[0],e),function(t,e,r){function n(){}var s=n=c(t,null,"Object",n),$=(s.prototype,[s].concat(r));return s.$include(i($,"Kernel"))}(e[0],0,e)},Opal.modules["corelib/error"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.send,$=t.truthy,o=t.module,a=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,o,a){function l(){}var c,u,h,_,d,f,p,m,y,g,b=l=i(e,o,"Exception",l),v=b.prototype,x=[b].concat(a);v.message=r,t.defs(b,"$new",c=function(e){var n,i=(n=t.slice.call(arguments,0,arguments.length)).length>0?n[0]:r,s=new this(i);return s.name=this.$$name,s.message=i,t.send(s,s.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,g),s},c.$$arity=-1),g=b.$new,t.defs(b,"$exception",u=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),s(this,"new",t.to_a(r))},u.$$arity=-1),t.def(b,"$initialize",h=function(e){var n;return n=t.slice.call(arguments,0,arguments.length),this.message=n.length>0?n[0]:r},h.$$arity=-1),t.def(b,"$backtrace",_=function(){if(this.backtrace)return this.backtrace;var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},_.$$arity=0),t.def(b,"$exception",d=function(t){if(null==t&&(t=r),t===r||this===t)return this;var e=this.$clone();return e.message=t,e},d.$$arity=-1),t.def(b,"$message",f=function(){return this.$to_s()},f.$$arity=0),t.def(b,"$inspect",p=function(){var t=r;return t=this.$to_s(),$(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},p.$$arity=0),t.def(b,"$set_backtrace",m=function(t){var e,i,s=!0;if(t===r)this.backtrace=r;else if(t.$$is_string)this.backtrace=[t];else{if(t.$$is_array){for(e=0,i=t.length;e<i;e++)if(!t[e].$$is_string){s=!1;break}}else s=!1;!1===s&&this.$raise(n(x,"TypeError"),"backtrace must be Array of String"),this.backtrace=t}return t},m.$$arity=1),t.def(b,"$to_s",y=function(){var t,e;return $(t=$(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},y.$$arity=0)}(e[0],Error,e),function(t,e,r){function n(){}var s=n=i(t,e,"ScriptError",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"SyntaxError",n);s.prototype,[s].concat(r)}(e[0],n(e,"ScriptError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"LoadError",n);s.prototype,[s].concat(r)}(e[0],n(e,"ScriptError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"NotImplementedError",n);s.prototype,[s].concat(r)}(e[0],n(e,"ScriptError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"SystemExit",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"NoMemoryError",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"SignalException",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"Interrupt",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"SecurityError",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"StandardError",n);s.prototype,[s].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){function n(){}var s=n=i(t,e,"EncodingError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"ZeroDivisionError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"NameError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"NoMethodError",n);s.prototype,[s].concat(r)}(e[0],n(e,"NameError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"RuntimeError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"FrozenError",n);s.prototype,[s].concat(r)}(e[0],n(e,"RuntimeError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"LocalJumpError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"TypeError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"ArgumentError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"IndexError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"StopIteration",n);s.prototype,[s].concat(r)}(e[0],n(e,"IndexError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"KeyError",n);s.prototype,[s].concat(r)}(e[0],n(e,"IndexError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"RangeError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"FloatDomainError",n);s.prototype,[s].concat(r)}(e[0],n(e,"RangeError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"IOError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){function n(){}var s=n=i(t,e,"SystemCallError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(e,a){function l(){}var c=l=o(e,"Errno",l),u=(c.prototype,[c].concat(a));!function(e,n,o){function a(){}var l,c=a=i(e,n,"EINVAL",a);c.prototype,[c].concat(o);t.defs(c,"$new",l=function(e){var n,i,o=l.$$p,c=r;return o&&(l.$$p=null),null==e&&(e=r),c="Invalid argument",$(e)&&(i=" - "+e,c="number"==typeof(n=c)&&"number"==typeof i?n+i:n["$+"](i)),s(this,t.find_super_dispatcher(this,"new",l,!1,a),[c],null)},l.$$arity=-1)}(u[0],n(u,"SystemCallError"),u)}(e[0],e),function(e,n,o){function a(){}var l,c=a=i(e,n,"UncaughtThrowError",a),u=c.prototype;[c].concat(o);u.sym=r,c.$attr_reader("sym","arg"),t.def(c,"$initialize",l=function(e){var r,n,i=l.$$p;return i&&(l.$$p=null),this.sym=e["$[]"](0),$((r=e.$length(),n=1,"number"==typeof r&&"number"==typeof n?r>n:r["$>"](n)))&&(this.arg=e["$[]"](1)),s(this,t.find_super_dispatcher(this,"initialize",l,!1),["uncaught throw "+this.sym.$inspect()],null)},l.$$arity=1)}(e[0],n(e,"ArgumentError"),e),function(e,n,$){function o(){}var a,l=o=i(e,null,"NameError",o);l.prototype,[l].concat($);l.$attr_reader("name"),t.def(l,"$initialize",a=function(e,n){var i=a.$$p;return i&&(a.$$p=null),null==n&&(n=r),s(this,t.find_super_dispatcher(this,"initialize",a,!1),[e],null),this.name=n},a.$$arity=-2)}(e[0],0,e),function(e,n,$){function o(){}var a,l=o=i(e,null,"NoMethodError",o);l.prototype,[l].concat($);l.$attr_reader("args"),t.def(l,"$initialize",a=function(e,n,i){var $=a.$$p;return $&&(a.$$p=null),null==n&&(n=r),null==i&&(i=[]),s(this,t.find_super_dispatcher(this,"initialize",a,!1),[e,n],null),this.args=i},a.$$arity=-2)}(e[0],0,e),function(t,e,r){function n(){}var s=n=i(t,null,"StopIteration",n);s.prototype,[s].concat(r);s.$attr_reader("result")}(e[0],0,e),function(e,o,l){function c(){}var u,h,_,d=c=i(e,null,"KeyError",c),f=d.prototype,p=[d].concat(l);f.receiver=f.key=r,t.def(d,"$initialize",u=function(e,n){var i,$,o=u.$$p;if(o&&(u.$$p=null),null==n)n=a([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(i=n.$$smap.receiver)&&(i=r),null==($=n.$$smap.key)&&($=r),s(this,t.find_super_dispatcher(this,"initialize",u,!1),[e],null),this.receiver=i,this.key=$},u.$$arity=-2),t.def(d,"$receiver",h=function(){var t;return $(t=this.receiver)?t:this.$raise(n(p,"ArgumentError"),"no receiver is available")},h.$$arity=0),t.def(d,"$key",_=function(){var t;return $(t=this.key)?t:this.$raise(n(p,"ArgumentError"),"no key is available")},_.$$arity=0)}(e[0],0,e),function(t,e){function r(){}var n=r=o(t,"JS",r),s=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var s=n=i(t,null,"Error",n);s.prototype,[s].concat(r)}(s[0],0,s)}(e[0],e)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.1"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-12-25"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.hash2,$=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(e,o,a){function l(){}var c,u,h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S=l=i(e,null,"NilClass",l),R=S.prototype,C=[S].concat(a);R.$$meta=S,function(e,r){e.prototype;var i,s=[e].concat(r);t.def(e,"$allocate",i=function(){return this.$raise(n(s,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(S),C),t.def(S,"$!",c=function(){return!0},c.$$arity=0),t.def(S,"$&",u=function(t){return!1},u.$$arity=1),t.def(S,"$|",h=function(t){return!1!==t&&t!==r},h.$$arity=1),t.def(S,"$^",_=function(t){return!1!==t&&t!==r},_.$$arity=1),t.def(S,"$==",d=function(t){return t===r},d.$$arity=1),t.def(S,"$dup",f=function(){return r},f.$$arity=0),t.def(S,"$clone",p=function(e){if(null==e)e=s([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,r},p.$$arity=-1),t.def(S,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(S,"$nil?",y=function(){return!0},y.$$arity=0),t.def(S,"$singleton_class",g=function(){return n(C,"NilClass")},g.$$arity=0),t.def(S,"$to_a",b=function(){return[]},b.$$arity=0),t.def(S,"$to_h",v=function(){return t.hash()},v.$$arity=0),t.def(S,"$to_i",x=function(){return 0},x.$$arity=0),t.alias(S,"to_f","to_i"),t.def(S,"$to_s",w=function(){return""},w.$$arity=0),t.def(S,"$to_c",k=function(){return n(C,"Complex").$new(0,0)},k.$$arity=0),t.def(S,"$rationalize",E=function(e){var r,i,s;return r=t.slice.call(arguments,0,arguments.length),$((i=r.$length(),s=1,"number"==typeof i&&"number"==typeof s?i>s:i["$>"](s)))&&this.$raise(n(C,"ArgumentError")),this.$Rational(0,1)},E.$$arity=-1),t.def(S,"$to_r",A=function(){return this.$Rational(0,1)},A.$$arity=0),t.def(S,"$instance_variables",O=function(){return[]},O.$$arity=0)}(e[0],0,e),t.const_set(e[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,$,o){function a(){}var l,c,u,h,_,d,f,p,m,y,g=a=i(e,$,"Boolean",a),b=(g.prototype,[g].concat(o));t.defineProperty(Boolean.prototype,"$$is_boolean",!0),t.defineProperty(Boolean.prototype,"$$meta",g),function(e,r){e.prototype;var i,s=[e].concat(r);t.def(e,"$allocate",i=function(){return this.$raise(n(s,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(g),b),t.def(g,"$__id__",l=function(){return this.valueOf()?2:0},l.$$arity=0),t.alias(g,"object_id","__id__"),t.def(g,"$!",c=function(){return 1!=this},c.$$arity=0),t.def(g,"$&",u=function(t){return 1==this&&(!1!==t&&t!==r)},u.$$arity=1),t.def(g,"$|",h=function(t){return 1==this||!1!==t&&t!==r},h.$$arity=1),t.def(g,"$^",_=function(t){return 1==this?!1===t||t===r:!1!==t&&t!==r},_.$$arity=1),t.def(g,"$==",d=function(t){return 1==this===t.valueOf()},d.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.def(g,"$singleton_class",f=function(){return n(b,"Boolean")},f.$$arity=0),t.def(g,"$to_s",p=function(){return 1==this?"true":"false"},p.$$arity=0),t.def(g,"$dup",m=function(){return this},m.$$arity=0),t.def(g,"$clone",y=function(e){if(null==e)e=s([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},y.$$arity=-1)}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],i=t.nil,s=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,a){function l(){}var c,u,h,_,d,f,p,m,y=l=$(n,"Comparable",l),g=(y.prototype,[y].concat(a));t.defs(y,"$normalize",c=function(t){return o(s(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},c.$$arity=1),t.def(y,"$==",u=function(e){var r=i;try{return!!o(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!o(r=this["$<=>"](e))&&0==s(g,"Comparable").$normalize(r))}catch(e){if(!t.rescue(e,[s(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},u.$$arity=1),t.def(y,"$>",h=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)>0},h.$$arity=1),t.def(y,"$>=",_=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)>=0},_.$$arity=1),t.def(y,"$<",d=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)<0},d.$$arity=1),t.def(y,"$<=",f=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)<=0},f.$$arity=1),t.def(y,"$between?",p=function(t,n){return!r(this,t)&&!e(this,n)},p.$$arity=2),t.def(y,"$clamp",m=function(t,n){var i;return i=t["$<=>"](n),o(i)||this.$raise(s(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e(s(g,"Comparable").$normalize(i),0))&&this.$raise(s(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r(s(g,"Comparable").$normalize(this["$<=>"](t)),0))?t:o(e(s(g,"Comparable").$normalize(this["$<=>"](n)),0))?n:this},m.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.send,$=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,r){function n(){}var s=n=i(t,e,"RegexpError",n);s.prototype,[s].concat(r)}(e[0],n(e,"StandardError"),e),function(e,a,l){function c(){}var u,h,_,d,f,p,m,y,g,b,v=c=i(e,a,"Regexp",c),x=(v.prototype,[v].concat(l));t.const_set(x[0],"IGNORECASE",1),t.const_set(x[0],"EXTENDED",2),t.const_set(x[0],"MULTILINE",4),t.defineProperty(RegExp.prototype,"$$is_regexp",!0),function(e,i){e.prototype;var a,l,c,u,h,_=[e].concat(i);t.def(e,"$allocate",a=function(){var e,n=a.$$p,i=r,$=r,o=r;for(n&&(a.$$p=null),o=0,e=arguments.length,$=new Array(e);o<e;o++)$[o]=arguments[o];return(i=s(this,t.find_super_dispatcher(this,"allocate",a,!1),$,n)).uninitialized=!0,i},a.$$arity=0),t.def(e,"$escape",l=function(e){return t.escape_regexp(e)},l.$$arity=1),t.def(e,"$last_match",c=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),$(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},c.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",u=function(e){var r,i,s,$,o,a;if(0==(r=t.slice.call(arguments,0,arguments.length)).length)return/(?!)/;if(1==r.length&&r[0].$$is_regexp)return r[0];i=r[0].$$is_array,r.length>1&&i&&this.$raise(n(_,"TypeError"),"no implicit conversion of Array into String"),i&&(r=r[0]),o=void 0,s=[];for(var l=0;l<r.length;l++)($=r[l]).$$is_string?s.push(this.$escape($)):$.$$is_regexp?(a=$.$options(),null!=o&&o!=a&&this.$raise(n(_,"TypeError"),"All expressions must use the same options"),o=a,s.push("("+$.source+")")):s.push(this.$escape($.$to_str()));return this.$new(s.$join("|"),o)},u.$$arity=-1),t.def(e,"$new",h=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=n(_,"Opal")["$coerce_to!"](t,n(_,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(n(_,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";n(_,"IGNORECASE")&e&&(r+="i"),n(_,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},h.$$arity=-2)}(t.get_singleton_class(v),x),t.def(v,"$==",u=function(t){return t instanceof RegExp&&this.toString()===t.toString()},u.$$arity=1),t.def(v,"$===",h=function(t){return this.$match(n(x,"Opal")["$coerce_to?"](t,n(x,"String"),"to_str"))!==r},h.$$arity=1),t.def(v,"$=~",_=function(t){var e;return null==o["~"]&&(o["~"]=r),$(e=this.$match(t))?o["~"].$begin(0):e},_.$$arity=1),t.alias(v,"eql?","=="),t.def(v,"$inspect",d=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var r=e[1],n=e[2],i=r.split(""),s=i.length,$=!1,o="",a=0;a<s;a++){var l=i[a];$||"/"!=l||(o=o.concat("\\")),o=o.concat(l),$="\\"==l&&!$}return"/"+o+"/"+n}return t},d.$$arity=0),t.def(v,"$match",f=function(e,i){var s=f.$$p,$=s||r;if(null==o["~"]&&(o["~"]=r),s&&(f.$$p=null),s&&(f.$$p=null),this.uninitialized&&this.$raise(n(x,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var a=this.exec(n(x,"Opal").$coerce_to(e,n(x,"String"),"to_str"));return a?(o["~"]=n(x,"MatchData").$new(this,a),$===r?o["~"]:t.yield1($,o["~"])):o["~"]=r}if(i=n(x,"Opal").$coerce_to(i,n(x,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(x,"Opal").$coerce_to(e,n(x,"String"),"to_str"),i<0&&(i+=e.length)<0)return o["~"]=r;for(var l,c=t.global_regexp(this);;){if(null===(l=c.exec(e)))return o["~"]=r;if(l.index>=i)return o["~"]=n(x,"MatchData").$new(c,l),$===r?o["~"]:t.yield1($,o["~"]);c.lastIndex=l.index+1}},f.$$arity=-2),t.def(v,"$match?",p=function(e,i){var s;return this.uninitialized&&this.$raise(n(x,"TypeError"),"uninitialized Regexp"),void 0===i?e!==r&&this.test(n(x,"Opal").$coerce_to(e,n(x,"String"),"to_str")):(i=n(x,"Opal").$coerce_to(i,n(x,"Integer"),"to_int"),e!==r&&(e=n(x,"Opal").$coerce_to(e,n(x,"String"),"to_str"),!(i<0&&(i+=e.length)<0)&&!(null===(s=t.global_regexp(this).exec(e))||s.index<i)))},p.$$arity=-2),t.def(v,"$~",m=function(){return null==o._&&(o._=r),this["$=~"](o._)},m.$$arity=0),t.def(v,"$source",y=function(){return this.source},y.$$arity=0),t.def(v,"$options",g=function(){this.uninitialized&&this.$raise(n(x,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=n(x,"MULTILINE")),this.ignoreCase&&(t|=n(x,"IGNORECASE")),t},g.$$arity=0),t.def(v,"$casefold?",b=function(){return this.ignoreCase},b.$$arity=0),t.alias(v,"to_s","source")}(e[0],RegExp,e),function(e,a,l){function c(){}var u,h,_,d,f,p,m,y,g,b,v,x,w=c=i(e,null,"MatchData",c),k=w.prototype,E=[w].concat(l);return k.matches=r,w.$attr_reader("post_match","pre_match","regexp","string"),t.def(w,"$initialize",u=function(t,e){o["~"]=this,this.regexp=t,this.begin=e.index,this.string=e.input,this.pre_match=e.input.slice(0,e.index),this.post_match=e.input.slice(e.index+e[0].length),this.matches=[];for(var n=0,i=e.length;n<i;n++){var s=e[n];null==s?this.matches.push(r):this.matches.push(s)}},u.$$arity=2),t.def(w,"$[]",h=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),s(this.matches,"[]",t.to_a(r))},h.$$arity=-1),t.def(w,"$offset",_=function(t){return 0!==t&&this.$raise(n(E,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},_.$$arity=1),t.def(w,"$==",d=function(t){var e,r,i,s;return!!$(n(E,"MatchData")["$==="](t))&&($(e=$(r=$(i=$(s=this.string==t.string)?this.regexp.toString()==t.regexp.toString():s)?this.pre_match==t.pre_match:i)?this.post_match==t.post_match:r)?this.begin==t.begin:e)},d.$$arity=1),t.alias(w,"eql?","=="),t.def(w,"$begin",f=function(t){return 0!==t&&this.$raise(n(E,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},f.$$arity=1),t.def(w,"$end",p=function(t){return 0!==t&&this.$raise(n(E,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},p.$$arity=1),t.def(w,"$captures",m=function(){return this.matches.slice(1)},m.$$arity=0),t.def(w,"$inspect",y=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,r=this.matches.length;e<r;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},y.$$arity=0),t.def(w,"$length",g=function(){return this.matches.length},g.$$arity=0),t.alias(w,"size","length"),t.def(w,"$to_a",b=function(){return this.matches},b.$$arity=0),t.def(w,"$to_s",v=function(){return this.matches[0]},v.$$arity=0),t.def(w,"$values_at",x=function(e){var i;i=t.slice.call(arguments,0,arguments.length);var s,$,o,a=[];for(s=0;s<i.length;s++)i[s].$$is_range&&(($=i[s].$to_a()).unshift(s,1),Array.prototype.splice.apply(i,$)),(o=n(E,"Opal")["$coerce_to!"](i[s],n(E,"Integer"),"to_int"))<0&&(o+=this.matches.length)<0?a.push(r):a.push(this.matches[o]);return a},x.$$arity=-1),r&&"values_at"}(e[0],0,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.send,c=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,u){function h(){}var _,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut,ht,_t,dt,ft,pt,mt,yt,gt,bt,vt,xt,wt,kt,Et,At,Ot,St,Rt,Ct,Tt,Mt,It,Nt,Pt=h=o(n,i,"String",h),Lt=(Pt.prototype,[Pt].concat(u));function Dt(t){function e(t){var e,r,n,i,s,o,a="",l=t.length;for(e=0;e<l;e++)if("-"===(r=t.charAt(e))&&e>0&&e<l-1&&!n){for((i=t.charCodeAt(e-1))>(s=t.charCodeAt(e+1))&&Pt.$raise($(Lt,"ArgumentError"),'invalid range "'+i+"-"+s+'" in string transliteration'),o=i+1;o<s+1;o++)a+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,a+=r;return a}function r(t,e){if(0===t.length)return e;var r,n,i="",s=t.length;for(r=0;r<s;r++)n=t.charAt(r),-1!==e.indexOf(n)&&(i+=n);return i}var n,i,s,o,a,l,c="",u="";for(n=0,i=t.length;n<i;n++)o="^"===(s=$(Lt,"Opal").$coerce_to(t[n],$(Lt,"String"),"to_str")).charAt(0)&&s.length>1,s=e(o?s.slice(1):s),o?u=r(u,s):c=r(c,s);if(c.length>0&&u.length>0){for(l="",n=0,i=c.length;n<i;n++)a=c.charAt(n),-1===u.indexOf(a)&&(l+=a);c=l,u=""}return c.length>0?"["+$(Lt,"Regexp").$escape(c)+"]":u.length>0?"[^"+$(Lt,"Regexp").$escape(u)+"]":null}Pt.$include($(Lt,"Comparable")),t.defineProperty(String.prototype,"$$is_string",!0),t.defineProperty(String.prototype,"$$cast",function(t){var e=this.$$class;return e===String?t:new e(t)}),t.def(Pt,"$__id__",_=function(){return this.toString()},_.$$arity=0),t.alias(Pt,"object_id","__id__"),t.defs(Pt,"$try_convert",d=function(t){return $(Lt,"Opal")["$coerce_to?"](t,$(Lt,"String"),"to_str")},d.$$arity=1),t.defs(Pt,"$new",f=function(t){return null==t&&(t=""),new this(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str"))},f.$$arity=-1),t.def(Pt,"$initialize",p=function(t){return void 0===t?this:this.$raise($(Lt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},p.$$arity=-1),t.def(Pt,"$%",m=function(e){var r=this;return a($(Lt,"Array")["$==="](e))?l(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},m.$$arity=1),t.def(Pt,"$*",y=function(t){if((t=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int"))<0&&this.$raise($(Lt,"ArgumentError"),"negative argument"),0===t)return this.$$cast("");var e="",r=this.toString();for(r.length*t>=1<<28&&this.$raise($(Lt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(e+=r),0!==(t>>>=1);)r+=r;return this.$$cast(e)},y.$$arity=1),t.def(Pt,"$+",g=function(t){return this+(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str")).$to_s()},g.$$arity=1),t.def(Pt,"$<=>",b=function(t){if(a(t["$respond_to?"]("to_str")))return this>(t=t.$to_str().$to_s())?1:this<t?-1:0;var e=t["$<=>"](this);return e===s?s:e>0?-1:e<0?1:0},b.$$arity=1),t.def(Pt,"$==",v=function(t){return t.$$is_string?this.toString()===t.toString():!!$(Lt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},v.$$arity=1),t.alias(Pt,"eql?","=="),t.alias(Pt,"===","=="),t.def(Pt,"$=~",x=function(t){return t.$$is_string&&this.$raise($(Lt,"TypeError"),"type mismatch: String given"),t["$=~"](this)},x.$$arity=1),t.def(Pt,"$[]",w=function(t,e){var r,n=this.length;if(t.$$is_range)return r=t.excl,e=$(Lt,"Opal").$coerce_to(t.end,$(Lt,"Integer"),"to_int"),t=$(Lt,"Opal").$coerce_to(t.begin,$(Lt,"Integer"),"to_int"),Math.abs(t)>n?s:(t<0&&(t+=n),e<0&&(e+=n),r||(e+=1),(e-=t)<0&&(e=0),this.$$cast(this.substr(t,e)));if(t.$$is_string)return null!=e&&this.$raise($(Lt,"TypeError")),-1!==this.indexOf(t)?this.$$cast(t):s;if(t.$$is_regexp){var i=this.match(t);return null===i?(c["~"]=s,s):(c["~"]=$(Lt,"MatchData").$new(t,i),null==e?this.$$cast(i[0]):(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"Integer"),"to_int"))<0&&-e<i.length?this.$$cast(i[e+=i.length]):e>=0&&e<i.length?this.$$cast(i[e]):s)}return(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int"))<0&&(t+=n),null==e?t>=n||t<0?s:this.$$cast(this.substr(t,1)):(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"Integer"),"to_int"))<0?s:t>n||t<0?s:this.$$cast(this.substr(t,e))},w.$$arity=-2),t.alias(Pt,"byteslice","[]"),t.def(Pt,"$b",k=function(){return this.$force_encoding("binary")},k.$$arity=0),t.def(Pt,"$capitalize",E=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},E.$$arity=0),t.def(Pt,"$casecmp",A=function(t){var e=this;if(!a(t["$respond_to?"]("to_str")))return s;t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},A.$$arity=1),t.def(Pt,"$casecmp?",O=function(t){var e=this.$casecmp(t);return e===s?s:0===e},O.$$arity=1),t.def(Pt,"$center",S=function(t,n){if(null==n&&(n=" "),t=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int"),n=$(Lt,"Opal").$coerce_to(n,$(Lt,"String"),"to_str").$to_s(),a(n["$empty?"]())&&this.$raise($(Lt,"ArgumentError"),"zero width padding"),a(t<=this.length))return this;var i=this.$ljust(e(r(t,this.length),2).$ceil(),n),s=this.$rjust(e(r(t,this.length),2).$floor(),n);return this.$$cast(s+i.slice(this.length))},S.$$arity=-2),t.def(Pt,"$chars",R=function(){var t=R.$$p,e=t||s;return t&&(R.$$p=null),t&&(R.$$p=null),a(e)?l(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},R.$$arity=0),t.def(Pt,"$chomp",C=function(t){var e;if(null==c["/"]&&(c["/"]=s),null==t&&(t=c["/"]),a(t===s||0===this.length))return this;if("\n"===(t=$(Lt,"Opal")["$coerce_to!"](t,$(Lt,"String"),"to_str").$to_s()))e=this.replace(/\r?\n?$/,"");else if(""===t)e=this.replace(/(\r?\n)+$/,"");else if(this.length>t.length){this.substr(this.length-t.length,t.length)===t&&(e=this.substr(0,this.length-t.length))}return null!=e?this.$$cast(e):this},C.$$arity=-1),t.def(Pt,"$chop",T=function(){var t,e=this.length;return t=e<=1?"":"\n"===this.charAt(e-1)&&"\r"===this.charAt(e-2)?this.substr(0,e-2):this.substr(0,e-1),this.$$cast(t)},T.$$arity=0),t.def(Pt,"$chr",M=function(){return this.charAt(0)},M.$$arity=0),t.def(Pt,"$clone",I=function(){var t=s;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},I.$$arity=0),t.def(Pt,"$dup",N=function(){var t=s;return(t=this.slice()).$initialize_dup(this),t},N.$$arity=0),t.def(Pt,"$count",P=function(e){var r;0===(r=t.slice.call(arguments,0,arguments.length)).length&&this.$raise($(Lt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var n=Dt(r);return null===n?0:this.length-this.replace(new RegExp(n,"g"),"").length},P.$$arity=-1),t.def(Pt,"$delete",L=function(e){var r;0===(r=t.slice.call(arguments,0,arguments.length)).length&&this.$raise($(Lt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var n=Dt(r);return null===n?this:this.$$cast(this.replace(new RegExp(n,"g"),""))},L.$$arity=-1),t.def(Pt,"$delete_prefix",D=function(t){return t.$$is_string||(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str")),this.slice(0,t.length)===t?this.$$cast(this.slice(t.length)):this},D.$$arity=1),t.def(Pt,"$delete_suffix",F=function(t){return t.$$is_string||(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str")),this.slice(this.length-t.length)===t?this.$$cast(this.slice(0,this.length-t.length)):this},F.$$arity=1),t.def(Pt,"$downcase",z=function(){return this.$$cast(this.toLowerCase())},z.$$arity=0),t.def(Pt,"$each_char",B=function(){var e,r=B.$$p,n=r||s;if(r&&(B.$$p=null),r&&(B.$$p=null),n===s)return l(this,"enum_for",["each_char"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i=0,$=this.length;i<$;i++)t.yield1(n,this.charAt(i));return this},B.$$arity=0),t.def(Pt,"$each_line",q=function(e){var r,n,i,o,a,l,u,h=q.$$p,_=h||s;if(null==c["/"]&&(c["/"]=s),h&&(q.$$p=null),h&&(q.$$p=null),null==e&&(e=c["/"]),_===s)return this.$enum_for("each_line",e);if(e===s)return t.yield1(_,this),this;if(0===(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str")).length){for(n=0,i=(r=this.split(/(\n{2,})/)).length;n<i;n+=2)if(r[n]||r[n+1]){var d=(r[n]||"")+(r[n+1]||"");t.yield1(_,this.$$cast(d))}return this}for(a=this.$chomp(e),l=this.length!=a.length,n=0,o=(u=a.split(e)).length;n<o;n++)n<o-1||l?t.yield1(_,this.$$cast(u[n]+e)):t.yield1(_,this.$$cast(u[n]));return this},q.$$arity=-1),t.def(Pt,"$empty?",j=function(){return 0===this.length},j.$$arity=0),t.def(Pt,"$end_with?",U=function(e){for(var r,n=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;n<i;n++){var s=$(Lt,"Opal").$coerce_to(r[n],$(Lt,"String"),"to_str").$to_s();if(this.length>=s.length&&this.substr(this.length-s.length,s.length)==s)return!0}return!1},U.$$arity=-1),t.alias(Pt,"equal?","==="),t.def(Pt,"$gsub",H=function(e,r){var n=H.$$p,i=n||s,o=this;if(n&&(H.$$p=null),n&&(H.$$p=null),void 0===r&&i===s)return o.$enum_for("gsub",e);var a,l,u,h="",_=s,d=0;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(a=e.exec(o))){c["~"]=s,h+=o.slice(d);break}_=$(Lt,"MatchData").$new(e,a),void 0===r?(u=e.lastIndex,l=i(a[0]),e.lastIndex=u):r.$$is_hash?l=r["$[]"](a[0]).$to_s():(r.$$is_string||(r=$(Lt,"Opal").$coerce_to(r,$(Lt,"String"),"to_str")),l=r.replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return e.slice(1)+a[n];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+o.slice(0,a.index);case"'":return e.slice(1)+o.slice(a.index+a[0].length);default:return e.slice(1)+(a[r]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===a.index?(h+=l+o.slice(d,a.index+1),e.lastIndex+=1):h+=o.slice(d,a.index)+l,d=e.lastIndex}return c["~"]=_,o.$$cast(h)},H.$$arity=-2),t.def(Pt,"$hash",Y=function(){return this.toString()},Y.$$arity=0),t.def(Pt,"$hex",G=function(){return this.$to_i(16)},G.$$arity=0),t.def(Pt,"$include?",W=function(t){return t.$$is_string||(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str")),-1!==this.indexOf(t)},W.$$arity=1),t.def(Pt,"$index",V=function(e,r){var n,i,o;if(void 0===r)r=0;else if((r=$(Lt,"Opal").$coerce_to(r,$(Lt,"Integer"),"to_int"))<0&&(r+=this.length)<0)return s;if(e.$$is_regexp)for(o=t.global_multiline_regexp(e);;){if(null===(i=o.exec(this))){c["~"]=s,n=-1;break}if(i.index>=r){c["~"]=$(Lt,"MatchData").$new(o,i),n=i.index;break}o.lastIndex=i.index+1}else n=0===(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str")).length&&r>this.length?-1:this.indexOf(e,r);return-1===n?s:n},V.$$arity=-2),t.def(Pt,"$inspect",K=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},K.$$arity=0),t.def(Pt,"$intern",X=function(){return this.toString()},X.$$arity=0),t.def(Pt,"$lines",J=function(t){var e=J.$$p,r=e||s,n=s;return null==c["/"]&&(c["/"]=s),e&&(J.$$p=null),e&&(J.$$p=null),null==t&&(t=c["/"]),n=l(this,"each_line",[t],r.$to_proc()),a(r)?this:n.$to_a()},J.$$arity=-1),t.def(Pt,"$length",Z=function(){return this.length},Z.$$arity=0),t.def(Pt,"$ljust",Q=function(t,e){if(null==e&&(e=" "),t=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int"),e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str").$to_s(),a(e["$empty?"]())&&this.$raise($(Lt,"ArgumentError"),"zero width padding"),a(t<=this.length))return this;var r=-1,n="";for(t-=this.length;++r<t;)n+=e;return this.$$cast(this+n.slice(0,t))},Q.$$arity=-2),t.def(Pt,"$lstrip",tt=function(){return this.replace(/^\s*/,"")},tt.$$arity=0),t.def(Pt,"$ascii_only?",et=function(){return this.match(/[ -~\n]*/)[0]===this},et.$$arity=0),t.def(Pt,"$match",rt=function(t,e){var r,n=rt.$$p,i=n||s;return n&&(rt.$$p=null),n&&(rt.$$p=null),a(a(r=$(Lt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=$(Lt,"Regexp").$new(t.$to_str())),a($(Lt,"Regexp")["$==="](t))||this.$raise($(Lt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),l(t,"match",[this,e],i.$to_proc())},rt.$$arity=-2),t.def(Pt,"$match?",nt=function(t,e){var r;return a(a(r=$(Lt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=$(Lt,"Regexp").$new(t.$to_str())),a($(Lt,"Regexp")["$==="](t))||this.$raise($(Lt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),t["$match?"](this,e)},nt.$$arity=-2),t.def(Pt,"$next",it=function(){var t=this.length;if(0===t)return this.$$cast("");for(var e,r=this,n=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if((e=this.charCodeAt(t))>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===n?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(r=r.slice(0,t)+String.fromCharCode(e)+r.slice(t+1),i&&(0===t||t===n)){switch(e){case 65:case 97:break;default:e+=1}r=0===t?String.fromCharCode(e)+r:r.slice(0,t)+String.fromCharCode(e)+r.slice(t),i=!1}if(!i)break}return this.$$cast(r)},it.$$arity=0),t.def(Pt,"$oct",st=function(){var t,e=this,r=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n)return t}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return e+i}),t=parseInt(e.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},st.$$arity=0),t.def(Pt,"$ord",$t=function(){return this.charCodeAt(0)},$t.$$arity=0),t.def(Pt,"$partition",ot=function(t){var e,r;return t.$$is_regexp?null===(r=t.exec(this))?e=-1:($(Lt,"MatchData").$new(t,r),t=r[0],e=r.index):(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str"),e=this.indexOf(t)),-1===e?[this,"",""]:[this.slice(0,e),this.slice(e,e+t.length),this.slice(e+t.length)]},ot.$$arity=1),t.def(Pt,"$reverse",at=function(){return this.split("").reverse().join("")},at.$$arity=0),t.def(Pt,"$rindex",lt=function(e,r){var n,i,o,a;if(void 0===r)r=this.length;else if((r=$(Lt,"Opal").$coerce_to(r,$(Lt,"Integer"),"to_int"))<0&&(r+=this.length)<0)return s;if(e.$$is_regexp){for(i=null,o=t.global_multiline_regexp(e);!(null===(a=o.exec(this))||a.index>r);)i=a,o.lastIndex=i.index+1;null===i?(c["~"]=s,n=-1):($(Lt,"MatchData").$new(o,i),n=i.index)}else e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str"),n=this.lastIndexOf(e,r);return-1===n?s:n},lt.$$arity=-2),t.def(Pt,"$rjust",ct=function(t,e){if(null==e&&(e=" "),t=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int"),e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str").$to_s(),a(e["$empty?"]())&&this.$raise($(Lt,"ArgumentError"),"zero width padding"),a(t<=this.length))return this;var r=Math.floor(t-this.length),n=Math.floor(r/e.length),i=Array(n+1).join(e),s=r-i.length;return this.$$cast(i+e.slice(0,s)+this)},ct.$$arity=-2),t.def(Pt,"$rpartition",ut=function(e){var r,n,i,s;if(e.$$is_regexp){for(n=null,i=t.global_multiline_regexp(e);null!==(s=i.exec(this));)n=s,i.lastIndex=n.index+1;null===n?r=-1:($(Lt,"MatchData").$new(i,n),e=n[0],r=n.index)}else e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str"),r=this.lastIndexOf(e);return-1===r?["","",this]:[this.slice(0,r),this.slice(r,r+e.length),this.slice(r+e.length)]},ut.$$arity=1),t.def(Pt,"$rstrip",ht=function(){return this.replace(/[\s\u0000]*$/,"")},ht.$$arity=0),t.def(Pt,"$scan",_t=function(e){var r=_t.$$p,n=r||s;r&&(_t.$$p=null),r&&(_t.$$p=null);var i,o=[],a=s;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=e.exec(this));)a=$(Lt,"MatchData").$new(e,i),n===s?1==i.length?o.push(i[0]):o.push(a.$captures()):1==i.length?n(i[0]):n.call(this,a.$captures()),e.lastIndex===i.index&&(e.lastIndex+=1);return c["~"]=a,n!==s?this:o},_t.$$arity=1),t.alias(Pt,"size","length"),t.alias(Pt,"slice","[]"),t.def(Pt,"$split",dt=function(e,r){var n,i=this;if(null==c[";"]&&(c[";"]=s),0===i.length)return[];if(void 0===r)r=0;else if(1===(r=$(Lt,"Opal")["$coerce_to!"](r,$(Lt,"Integer"),"to_int")))return[i];void 0!==e&&e!==s||(e=a(n=c[";"])?n:" ");var o,l,u,h=[],_=i.toString(),d=0;if(e.$$is_regexp?e=t.global_multiline_regexp(e):" "===(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str").$to_s())?(e=/\s+/gm,_=_.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(h=_.split(e)).length&&h[0]===_)return[i.$$cast(h[0])];for(;-1!==(l=h.indexOf(void 0));)h.splice(l,1);function f(){for(l=0;l<h.length;l++)h[l]=i.$$cast(h[l])}if(0===r){for(;""===h[h.length-1];)h.length-=1;return f(),h}if(o=e.exec(_),r<0){if(null!==o&&""===o[0]&&-1===e.source.indexOf("(?="))for(l=0,u=o.length;l<u;l++)h.push("");return f(),h}if(null!==o&&""===o[0])return h.splice(r-1,h.length-1,h.slice(r-1).join("")),f(),h;if(r>=h.length)return f(),h;for(l=0;null!==o&&(l++,d=e.lastIndex,l+1!==r);)o=e.exec(_);return h.splice(r-1,h.length-1,_.slice(d)),f(),h},dt.$$arity=-1),t.def(Pt,"$squeeze",ft=function(e){var r;if(0===(r=t.slice.call(arguments,0,arguments.length)).length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));var n=Dt(r);return null===n?this:this.$$cast(this.replace(new RegExp("("+n+")\\1+","g"),"$1"))},ft.$$arity=-1),t.def(Pt,"$start_with?",pt=function(e){for(var r,n=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;n<i;n++){var s=$(Lt,"Opal").$coerce_to(r[n],$(Lt,"String"),"to_str").$to_s();if(0===this.indexOf(s))return!0}return!1},pt.$$arity=-1),t.def(Pt,"$strip",mt=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},mt.$$arity=0),t.def(Pt,"$sub",yt=function(t,e){var r=yt.$$p,n=r||s,i=this;r&&(yt.$$p=null),r&&(yt.$$p=null),t.$$is_regexp||(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,a=t.exec(i);return null===a?(c["~"]=s,o=i.toString()):($(Lt,"MatchData").$new(t,a),void 0===e?(n===s&&i.$raise($(Lt,"ArgumentError"),"wrong number of arguments (1 for 2)"),o=i.slice(0,a.index)+n(a[0])+i.slice(a.index+a[0].length)):e.$$is_hash?o=i.slice(0,a.index)+e["$[]"](a[0]).$to_s()+i.slice(a.index+a[0].length):(e=(e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return e.slice(1)+a[n];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+i.slice(0,a.index);case"'":return e.slice(1)+i.slice(a.index+a[0].length);default:return e.slice(1)+(a[r]||"")}}).replace(/\\\\/g,"\\"),o=i.slice(0,a.index)+e+i.slice(a.index+a[0].length))),i.$$cast(o)},yt.$$arity=-2),t.alias(Pt,"succ","next"),t.def(Pt,"$sum",gt=function(t){null==t&&(t=16),t=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return t<=0?e:e&Math.pow(2,t)-1},gt.$$arity=-1),t.def(Pt,"$swapcase",bt=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},bt.$$arity=0),t.def(Pt,"$to_f",vt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},vt.$$arity=0),t.def(Pt,"$to_i",xt=function(t){null==t&&(t=10);var e,r=this.toLowerCase(),n=$(Lt,"Opal").$coerce_to(t,$(Lt,"Integer"),"to_int");return(1===n||n<0||n>36)&&this.$raise($(Lt,"ArgumentError"),"invalid radix "+n),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r&&(0===n||16===n))return t}switch(r){case"0b":if(0===n||2===n)return n=2,e+i;break;case"0":case"0o":if(0===n||8===n)return n=8,e+i;break;case"0d":if(0===n||10===n)return n=10,e+i;break;case"0x":if(0===n||16===n)return n=16,e+i}return t}),e=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(e)?0:e)},xt.$$arity=-1),t.def(Pt,"$to_proc",wt=function(){var e,n,i=wt.$$p;return i&&(wt.$$p=null),n=r("$",this.valueOf()),l(this,"proc",[],((e=function(r){var i,o=e.$$s||this,a=e.$$p,l=a||s;a&&(e.$$p=null),0===(i=t.slice.call(arguments,0,arguments.length)).length&&o.$raise($(Lt,"ArgumentError"),"no receiver given");var c=i[0];null==c&&(c=s);var u=c[n];return u?("function"==typeof l&&(u.$$p=l),1===i.length?u.call(c):u.apply(c,i.slice(1))):c.$method_missing.apply(c,i)}).$$s=this,e.$$arity=-1,e))},wt.$$arity=0),t.def(Pt,"$to_s",kt=function(){return this.toString()},kt.$$arity=0),t.alias(Pt,"to_str","to_s"),t.alias(Pt,"to_sym","intern"),t.def(Pt,"$tr",Et=function(t,e){var r,n,i,s,o,a,l;if(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str").$to_s(),e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str").$to_s(),0==t.length||t===e)return this;var c={},u=t.split(""),h=u.length,_=e.split(""),d=_.length,f=!1,p=null;"^"===u[0]&&u.length>1&&(f=!0,u.shift(),p=_[d-1],h-=1);var m=[],y=null;for(n=!1,r=0;r<h;r++)if(s=u[r],null==y)y=s,m.push(s);else if("-"===s)"-"===y?(m.push("-"),m.push("-")):r==h-1?m.push("-"):n=!0;else if(n){for((o=y.charCodeAt(0))>(a=s.charCodeAt(0))&&this.$raise($(Lt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)m.push(String.fromCharCode(i));m.push(s),n=null,y=null}else m.push(s);if(h=(u=m).length,f)for(r=0;r<h;r++)c[u[r]]=!0;else{if(d>0){var g=[],b=null;for(n=!1,r=0;r<d;r++)if(s=_[r],null==b)b=s,g.push(s);else if("-"===s)"-"===b?(g.push("-"),g.push("-")):r==d-1?g.push("-"):n=!0;else if(n){for((o=b.charCodeAt(0))>(a=s.charCodeAt(0))&&this.$raise($(Lt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)g.push(String.fromCharCode(i));g.push(s),n=null,b=null}else g.push(s);d=(_=g).length}var v=h-d;if(v>0){var x=d>0?_[d-1]:"";for(r=0;r<v;r++)_.push(x)}for(r=0;r<h;r++)c[u[r]]=_[r]}var w="";for(r=0,l=this.length;r<l;r++){var k=c[s=this.charAt(r)];w+=f?null==k?p:s:null!=k?k:s}return this.$$cast(w)},Et.$$arity=2),t.def(Pt,"$tr_s",At=function(t,e){var r,n,i,s,o,a,l;if(t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str").$to_s(),e=$(Lt,"Opal").$coerce_to(e,$(Lt,"String"),"to_str").$to_s(),0==t.length)return this;var c={},u=t.split(""),h=u.length,_=e.split(""),d=_.length,f=!1,p=null;"^"===u[0]&&u.length>1&&(f=!0,u.shift(),p=_[d-1],h-=1);var m=[],y=null;for(n=!1,r=0;r<h;r++)if(s=u[r],null==y)y=s,m.push(s);else if("-"===s)"-"===y?(m.push("-"),m.push("-")):r==h-1?m.push("-"):n=!0;else if(n){for((o=y.charCodeAt(0))>(a=s.charCodeAt(0))&&this.$raise($(Lt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)m.push(String.fromCharCode(i));m.push(s),n=null,y=null}else m.push(s);if(h=(u=m).length,f)for(r=0;r<h;r++)c[u[r]]=!0;else{if(d>0){var g=[];for(n=!1,r=0;r<d;r++)if(s=_[r],null==y)y=s,g.push(s);else if("-"===s)r==d-1?g.push("-"):n=!0;else if(n){for((o=y.charCodeAt(0))>(a=s.charCodeAt(0))&&this.$raise($(Lt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)g.push(String.fromCharCode(i));g.push(s),n=null,y=null}else g.push(s);d=(_=g).length}var b=h-d;if(b>0){var v=d>0?_[d-1]:"";for(r=0;r<b;r++)_.push(v)}for(r=0;r<h;r++)c[u[r]]=_[r]}var x="",w=null;for(r=0,l=this.length;r<l;r++){var k=c[s=this.charAt(r)];f?null==k?null==w&&(x+=p,w=!0):(x+=s,w=null):null!=k?null!=w&&w===k||(x+=k,w=k):(x+=s,w=null)}return this.$$cast(x)},At.$$arity=2),t.def(Pt,"$upcase",Ot=function(){return this.$$cast(this.toUpperCase())},Ot.$$arity=0),t.def(Pt,"$upto",St=function(t,e){var r=St.$$p,n=r||s;if(r&&(St.$$p=null),r&&(St.$$p=null),null==e&&(e=!1),n===s)return this.$enum_for("upto",t,e);t=$(Lt,"Opal").$coerce_to(t,$(Lt,"String"),"to_str");var i,o,a=this.toString();if(1===a.length&&1===t.length)for(i=a.charCodeAt(0),o=t.charCodeAt(0);i<=o&&(!e||i!==o);)n(String.fromCharCode(i)),i+=1;else if(parseInt(a,10).toString()===a&&parseInt(t,10).toString()===t)for(i=parseInt(a,10),o=parseInt(t,10);i<=o&&(!e||i!==o);)n(i.toString()),i+=1;else for(;a.length<=t.length&&a<=t&&(!e||a!==t);)n(a),a=a.$succ();return this},St.$$arity=-2),t.def(Pt,"$instance_variables",Rt=function(){return[]},Rt.$$arity=0),t.defs(Pt,"$_load",Ct=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),l(this,"new",t.to_a(r))},Ct.$$arity=-1),t.def(Pt,"$unicode_normalize",Tt=function(t){return this.toString()},Tt.$$arity=-1),t.def(Pt,"$unicode_normalized?",Mt=function(t){return!0},Mt.$$arity=-1),t.def(Pt,"$unpack",It=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},It.$$arity=1),t.def(Pt,"$unpack1",Nt=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Nt.$$arity=1)}(i[0],String,i),t.const_set(i[0],"Symbol",$(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var s=[],$=t.nil,o=t.const_get_qualified,a=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.truthy,u=t.send,h=t.falsy,_=t.hash2,d=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(s,f){function p(){}var m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut=p=l(s,"Enumerable",p),ht=(ut.prototype,[ut].concat(f));function _t(t){return 0===t.length&&(t=[$]),t.length>1&&(t=[t]),t}t.def(ut,"$all?",m=function(e){try{var r,n,i,s=m.$$p,o=s||$;return s&&(m.$$p=null),s&&(m.$$p=null),c(void 0!==e)?u(this,"each",[],((r=function(n){var i;r.$$s;if(i=_t(t.slice.call(arguments,0,arguments.length)),c(u(e,"public_send",["==="].concat(t.to_a(i)))))return $;t.ret(!1)}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],o!==$?((n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),c(t.yieldX(o,t.to_a(r))))return $;t.ret(!1)}).$$s=this,n.$$arity=-1,n):((i=function(e){var r;i.$$s;if(r=t.slice.call(arguments,0,arguments.length),c(a(ht,"Opal").$destructure(r)))return $;t.ret(!1)}).$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},m.$$arity=-1),t.def(ut,"$any?",y=function(e){try{var r,n,i,s=y.$$p,o=s||$;return s&&(y.$$p=null),s&&(y.$$p=null),c(void 0!==e)?u(this,"each",[],((r=function(n){var i;r.$$s;if(i=_t(t.slice.call(arguments,0,arguments.length)),!c(u(e,"public_send",["==="].concat(t.to_a(i)))))return $;t.ret(!0)}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],o!==$?((n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),!c(t.yieldX(o,t.to_a(r))))return $;t.ret(!0)}).$$s=this,n.$$arity=-1,n):((i=function(e){var r;i.$$s;if(r=t.slice.call(arguments,0,arguments.length),!c(a(ht,"Opal").$destructure(r)))return $;t.ret(!0)}).$$s=this,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},y.$$arity=-1),t.def(ut,"$chunk",g=function(){var e,r,n=g.$$p,i=n||$;return n&&(g.$$p=null),n&&(g.$$p=null),i===$?u(this,"to_enum",["chunk"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):u(o("::","Enumerator"),"new",[],((r=function(e){var n=r.$$s||this;null==e&&(e=$);var s=$,o=[];function a(){o.length>0&&e.$yield(s,o)}n.$each.$$p=function(e){var r=t.yield1(i,e);r===$?(a(),o=[],s=$):(s===$||s===r?o.push(e):(a(),o=[e]),s=r)},n.$each(),a()}).$$s=this,r.$$arity=1,r))},g.$$arity=0),t.def(ut,"$chunk_while",b=function(){var e,r=b.$$p,n=r||$;return r&&(b.$$p=null),r&&(b.$$p=null),n!==$||this.$raise(a(ht,"ArgumentError"),"no block given"),u(this,"slice_when",[],((e=function(r,i){e.$$s;return null==r&&(r=$),null==i&&(i=$),t.yieldX(n,[r,i])["$!"]()}).$$s=this,e.$$arity=2,e))},b.$$arity=0),t.def(ut,"$collect",v=function(){var e,r=v.$$p,n=r||$;if(r&&(v.$$p=null),r&&(v.$$p=null),n===$)return u(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.yieldX(n,arguments);i.push(e)},this.$each(),i},v.$$arity=0),t.def(ut,"$collect_concat",x=function(){var e,r,n=x.$$p,i=n||$;return n&&(x.$$p=null),n&&(x.$$p=null),i===$?u(this,"enum_for",["collect_concat"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):u(this,"map",[],(r=function(e){r.$$s;return null==e&&(e=$),t.yield1(i,e)},r.$$s=this,r.$$arity=1,r)).$flatten(1)},x.$$arity=0),t.def(ut,"$count",w=function(e){var r,n,i,s=w.$$p,o=s||$,l=$;return s&&(w.$$p=null),s&&(w.$$p=null),l=0,null!=e&&o!==$&&this.$warn("warning: given block not used"),c(null!=e)?o=u(this,"proc",[],((r=function(n){var i;r.$$s;return i=t.slice.call(arguments,0,arguments.length),a(ht,"Opal").$destructure(i)["$=="](e)}).$$s=this,r.$$arity=-1,r)):c(o["$nil?"]())&&(o=u(this,"proc",[],((n=function(){n.$$s;return!0}).$$s=this,n.$$arity=0,n))),u(this,"each",[],((i=function(e){var r;i.$$s;return r=t.slice.call(arguments,0,arguments.length),c(t.yieldX(o,r))?l++:$}).$$s=this,i.$$arity=-1,i)),l},w.$$arity=-1),t.def(ut,"$cycle",k=function(r){var n,i=k.$$p,s=i||$;if(i&&(k.$$p=null),i&&(k.$$p=null),null==r&&(r=$),s===$)return u(this,"enum_for",["cycle",r],((n=function(){var t,i,s=n.$$s||this;return c(r["$nil?"]())?c(s["$respond_to?"]("size"))?o(a(ht,"Float"),"INFINITY"):$:(r=a(ht,"Opal")["$coerce_to!"](r,a(ht,"Integer"),"to_int"),c(e(r,0))?(t=s.$enumerator_size(),i=r,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,n.$$arity=0,n));if(c(r["$nil?"]()));else if(r=a(ht,"Opal")["$coerce_to!"](r,a(ht,"Integer"),"to_int"),c(r<=0))return $;var l,h,_=[];if(this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments);t.yield1(s,e);_.push(e)},this.$each(),0===_.length)return $;if(r===$)for(;;)for(l=0,h=_.length;l<h;l++)t.yield1(s,_[l]);else for(;r>1;){for(l=0,h=_.length;l<h;l++)t.yield1(s,_[l]);r--}},k.$$arity=-1),t.def(ut,"$detect",E=function(e){try{var r,n=E.$$p,i=n||$;return n&&(E.$$p=null),n&&(E.$$p=null),i===$?this.$enum_for("detect",e):(u(this,"each",[],((r=function(e){var n,s;r.$$s;if(n=t.slice.call(arguments,0,arguments.length),s=a(ht,"Opal").$destructure(n),!c(t.yield1(i,s)))return $;t.ret(s)}).$$s=this,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:$)}catch(e){if(e===t.returner)return e.$v;throw e}},E.$$arity=-1),t.def(ut,"$drop",A=function(t){t=a(ht,"Opal").$coerce_to(t,a(ht,"Integer"),"to_int"),c(t<0)&&this.$raise(a(ht,"ArgumentError"),"attempt to drop negative size");var e=[],r=0;return this.$each.$$p=function(){t<=r&&e.push(a(ht,"Opal").$destructure(arguments)),r++},this.$each(),e},A.$$arity=1),t.def(ut,"$drop_while",O=function(){var e=O.$$p,r=e||$;if(e&&(O.$$p=null),e&&(O.$$p=null),r===$)return this.$enum_for("drop_while");var n=[],i=!0;return this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments);if(i){var s=t.yield1(r,e);h(s)&&(i=!1,n.push(e))}else n.push(e)},this.$each(),n},O.$$arity=0),t.def(ut,"$each_cons",S=function(e){var i,s=S.$$p,o=s||$;if(s&&(S.$$p=null),s&&(S.$$p=null),c(1!=arguments.length)&&this.$raise(a(ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=a(ht,"Opal").$try_convert(e,a(ht,"Integer"),"to_int"),c(e<=0)&&this.$raise(a(ht,"ArgumentError"),"invalid size"),o===$)return u(this,"enum_for",["each_cons",e],((i=function(){var t,s,o,a=i.$$s||this,l=$;return l=a.$enumerator_size(),c(l["$nil?"]())?$:c(c(t=l["$=="](0))?t:(o=e,"number"==typeof(s=l)&&"number"==typeof o?s<o:s["$<"](o)))?0:r(n(l,e),1)}).$$s=this,i.$$arity=0,i));var l=[],h=$;return this.$each.$$p=function(){var r=a(ht,"Opal").$destructure(arguments);l.push(r),l.length>e&&l.shift(),l.length==e&&t.yield1(o,l.slice(0,e))},this.$each(),h},S.$$arity=1),t.def(ut,"$each_entry",R=function(e){var r,n,i=R.$$p,s=i||$;return i&&(R.$$p=null),i&&(R.$$p=null),r=t.slice.call(arguments,0,arguments.length),s===$?u(this,"to_enum",["each_entry"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n)):(this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments);t.yield1(s,e)},this.$each.apply(this,r),this)},R.$$arity=-1),t.def(ut,"$each_slice",C=function(e){var r,n=C.$$p,i=n||$;if(n&&(C.$$p=null),n&&(C.$$p=null),e=a(ht,"Opal").$coerce_to(e,a(ht,"Integer"),"to_int"),c(e<=0)&&this.$raise(a(ht,"ArgumentError"),"invalid slice size"),i===$)return u(this,"enum_for",["each_slice",e],((r=function(){var t,n,i=r.$$s||this;return c(i["$respond_to?"]("size"))?(t=i.$size(),n=e,"number"==typeof t&&"number"==typeof n?t/n:t["$/"](n)).$ceil():$}).$$s=this,r.$$arity=0,r));var s=[];return this.$each.$$p=function(){var r=a(ht,"Opal").$destructure(arguments);s.push(r),s.length===e&&(t.yield1(i,s),s=[])},this.$each(),s.length>0&&t.yield1(i,s),$},C.$$arity=1),t.def(ut,"$each_with_index",T=function(e){var r,n,i=T.$$p,s=i||$;if(i&&(T.$$p=null),i&&(T.$$p=null),r=t.slice.call(arguments,0,arguments.length),s===$)return u(this,"enum_for",["each_with_index"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n));var o=0;return this.$each.$$p=function(){var t=a(ht,"Opal").$destructure(arguments);s(t,o),o++},this.$each.apply(this,r),this},T.$$arity=-1),t.def(ut,"$each_with_object",M=function(t){var e,r=M.$$p,n=r||$;return r&&(M.$$p=null),r&&(M.$$p=null),n===$?u(this,"enum_for",["each_with_object",t],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments);n(e,t)},this.$each(),t)},M.$$arity=1),t.def(ut,"$entries",I=function(e){var r;r=t.slice.call(arguments,0,arguments.length);var n=[];return this.$each.$$p=function(){n.push(a(ht,"Opal").$destructure(arguments))},this.$each.apply(this,r),n},I.$$arity=-1),t.alias(ut,"find","detect"),t.def(ut,"$find_all",N=function(){var e,r=N.$$p,n=r||$;if(r&&(N.$$p=null),r&&(N.$$p=null),n===$)return u(this,"enum_for",["find_all"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);c(r)&&i.push(e)},this.$each(),i},N.$$arity=0),t.def(ut,"$find_index",P=function(e){try{var r,n,i=P.$$p,s=i||$,o=$;return i&&(P.$$p=null),i&&(P.$$p=null),c(void 0===e&&s===$)?this.$enum_for("find_index"):(null!=e&&s!==$&&this.$warn("warning: given block not used"),o=0,c(null!=e)?u(this,"each",[],((r=function(n){var i;r.$$s;return i=t.slice.call(arguments,0,arguments.length),a(ht,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],((n=function(e){var r;n.$$s;return r=t.slice.call(arguments,0,arguments.length),c(t.yieldX(s,t.to_a(r)))&&t.ret(o),o+=1}).$$s=this,n.$$arity=-1,n)),$)}catch(e){if(e===t.returner)return e.$v;throw e}},P.$$arity=-1),t.def(ut,"$first",L=function(e){try{var r,n,i=$,s=$;return c(void 0===e)?u(this,"each",[],((r=function(e){r.$$s;null==e&&(e=$),t.ret(e)}).$$s=this,r.$$arity=1,r)):(i=[],e=a(ht,"Opal").$coerce_to(e,a(ht,"Integer"),"to_int"),c(e<0)&&this.$raise(a(ht,"ArgumentError"),"attempt to take negative size"),c(0==e)?[]:(s=0,u(this,"each",[],((n=function(r){var o;n.$$s;if(o=t.slice.call(arguments,0,arguments.length),i.push(a(ht,"Opal").$destructure(o)),!c(e<=++s))return $;t.ret(i)}).$$s=this,n.$$arity=-1,n)),i))}catch(e){if(e===t.returner)return e.$v;throw e}},L.$$arity=-1),t.alias(ut,"flat_map","collect_concat"),t.def(ut,"$grep",D=function(r){var n,s=D.$$p,o=s||$,a=$;return s&&(D.$$p=null),s&&(D.$$p=null),a=[],u(this,"each",[],((n=function(s){var l,h;n.$$s;return h=_t(l=t.slice.call(arguments,0,arguments.length)),c(u(r,"__send__",["==="].concat(t.to_a(h))))?(o!==$?(c(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):c(i(l.$length(),1))&&(l=l["$[]"](0)),a.$push(l)):$}).$$s=this,n.$$arity=-1,n)),a},D.$$arity=1),t.def(ut,"$grep_v",F=function(r){var n,s=F.$$p,o=s||$,a=$;return s&&(F.$$p=null),s&&(F.$$p=null),a=[],u(this,"each",[],((n=function(s){var l,h;n.$$s;return h=_t(l=t.slice.call(arguments,0,arguments.length)),c(u(r,"__send__",["==="].concat(t.to_a(h))))?$:(o!==$?(c(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):c(i(l.$length(),1))&&(l=l["$[]"](0)),a.$push(l))}).$$s=this,n.$$arity=-1,n)),a},F.$$arity=1),t.def(ut,"$group_by",z=function(){var e,r,i=z.$$p,s=i||$,o=$,l=$;return i&&(z.$$p=null),i&&(z.$$p=null),s===$?u(this,"enum_for",["group_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(o=_([],{}),this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),i=t.yield1(s,e);(c(r=o["$[]"](i))?r:(l=[i,[]],u(o,"[]=",t.to_a(l)),l[n(l.length,1)]))["$<<"](e)},this.$each(),o)},z.$$arity=0),t.def(ut,"$include?",B=function(e){try{var r;return u(this,"each",[],((r=function(n){var i;r.$$s;if(i=t.slice.call(arguments,0,arguments.length),!a(ht,"Opal").$destructure(i)["$=="](e))return $;t.ret(!0)}).$$s=this,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},B.$$arity=1),t.def(ut,"$inject",q=function(e,r){var n=q.$$p,i=n||$;n&&(q.$$p=null),n&&(q.$$p=null);var s=e;return i!==$&&void 0===r?this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments);void 0!==s?(e=t.yieldX(i,[s,e]),s=e):s=e}:(void 0===r&&(a(ht,"Symbol")["$==="](e)||this.$raise(a(ht,"TypeError"),e.$inspect()+" is not a Symbol"),r=e,s=void 0),this.$each.$$p=function(){var t=a(ht,"Opal").$destructure(arguments);s=void 0!==s?s.$__send__(r,t):t}),this.$each(),null==s?$:s},q.$$arity=-1),t.def(ut,"$lazy",j=function(){var e;return u(o(a(ht,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((e=function(r,n){var i;e.$$s;return null==r&&(r=$),i=t.slice.call(arguments,1,arguments.length),u(r,"yield",t.to_a(i))}).$$s=this,e.$$arity=-2,e))},j.$$arity=0),t.def(ut,"$enumerator_size",U=function(){return c(this["$respond_to?"]("size"))?this.$size():$},U.$$arity=0),t.alias(ut,"map","collect"),t.def(ut,"$max",H=function(e){var r,n,i=H.$$p,s=i||$,o=this;return i&&(H.$$p=null),i&&(H.$$p=null),void 0===e||e===$?(o.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments);void 0!==r?((n=s!==$?t.yieldX(s,[e,r]):e["$<=>"](r))===$&&o.$raise(a(ht,"ArgumentError"),"comparison failed"),n>0&&(r=e)):r=e},o.$each(),void 0===r?$:r):(e=a(ht,"Opal").$coerce_to(e,a(ht,"Integer"),"to_int"),u(o,"sort",[],s.$to_proc()).$reverse().$first(e))},H.$$arity=-1),t.def(ut,"$max_by",Y=function(){var e,r,n,i=Y.$$p,s=i||$;return i&&(Y.$$p=null),i&&(Y.$$p=null),c(s)?(this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),i=t.yield1(s,e);if(void 0===r)return r=e,void(n=i);i["$<=>"](n)>0&&(r=e,n=i)},this.$each(),void 0===r?$:r):u(this,"enum_for",["max_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},Y.$$arity=0),t.alias(ut,"member?","include?"),t.def(ut,"$min",G=function(){var t,e=G.$$p,r=e||$,n=this;return e&&(G.$$p=null),e&&(G.$$p=null),n.$each.$$p=r!==$?function(){var e=a(ht,"Opal").$destructure(arguments);if(void 0!==t){var i=r(e,t);i===$&&n.$raise(a(ht,"ArgumentError"),"comparison failed"),i<0&&(t=e)}else t=e}:function(){var e=a(ht,"Opal").$destructure(arguments);void 0!==t?a(ht,"Opal").$compare(e,t)<0&&(t=e):t=e},n.$each(),void 0===t?$:t},G.$$arity=0),t.def(ut,"$min_by",W=function(){var e,r,n,i=W.$$p,s=i||$;return i&&(W.$$p=null),i&&(W.$$p=null),c(s)?(this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),i=t.yield1(s,e);if(void 0===r)return r=e,void(n=i);i["$<=>"](n)<0&&(r=e,n=i)},this.$each(),void 0===r?$:r):u(this,"enum_for",["min_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},W.$$arity=0),t.def(ut,"$minmax",V=function(){var t,e,r=V.$$p,n=r||$,i=this;r&&(V.$$p=null),r&&(V.$$p=null),n=c(t=n)?t:u(i,"proc",[],((e=function(t,r){e.$$s;return null==t&&(t=$),null==r&&(r=$),t["$<=>"](r)}).$$s=i,e.$$arity=2,e));var s=$,o=$,l=!0;return i.$each.$$p=function(){var t=a(ht,"Opal").$destructure(arguments);if(l)s=o=t,l=!1;else{var e=n.$call(s,t);e===$?i.$raise(a(ht,"ArgumentError"),"comparison failed"):e>0&&(s=t);var r=n.$call(o,t);r===$?i.$raise(a(ht,"ArgumentError"),"comparison failed"):r<0&&(o=t)}},i.$each(),[s,o]},V.$$arity=0),t.def(ut,"$minmax_by",K=function(){var t=K.$$p;return t&&(K.$$p=null),t&&(K.$$p=null),this.$raise(a(ht,"NotImplementedError"))},K.$$arity=0),t.def(ut,"$none?",X=function(e){try{var r,n,i,s=X.$$p,o=s||$;return s&&(X.$$p=null),s&&(X.$$p=null),c(void 0!==e)?u(this,"each",[],((r=function(n){var i;r.$$s;if(i=_t(t.slice.call(arguments,0,arguments.length)),!c(u(e,"public_send",["==="].concat(t.to_a(i)))))return $;t.ret(!1)}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],o!==$?((n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),!c(t.yieldX(o,t.to_a(r))))return $;t.ret(!1)}).$$s=this,n.$$arity=-1,n):((i=function(e){var r,n;i.$$s;if(r=t.slice.call(arguments,0,arguments.length),n=a(ht,"Opal").$destructure(r),!c(n))return $;t.ret(!1)}).$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},X.$$arity=-1),t.def(ut,"$one?",J=function(n){try{var i,s,o,l=J.$$p,h=l||$,_=$;return l&&(J.$$p=null),l&&(J.$$p=null),_=0,c(void 0!==n)?u(this,"each",[],((i=function(s){var o;i.$$s;return o=_t(t.slice.call(arguments,0,arguments.length)),c(u(n,"public_send",["==="].concat(t.to_a(o))))?(_=r(_,1),c(e(_,1))?void t.ret(!1):$):$}).$$s=this,i.$$arity=-1,i)):u(this,"each",[],h!==$?((s=function(n){var i;s.$$s;return i=t.slice.call(arguments,0,arguments.length),c(t.yieldX(h,t.to_a(i)))?(_=r(_,1),c(e(_,1))?void t.ret(!1):$):$}).$$s=this,s.$$arity=-1,s):((o=function(n){var i;o.$$s;return i=t.slice.call(arguments,0,arguments.length),c(a(ht,"Opal").$destructure(i))?(_=r(_,1),c(e(_,1))?void t.ret(!1):$):$}).$$s=this,o.$$arity=-1,o)),_["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},J.$$arity=-1),t.def(ut,"$partition",Z=function(){var e,r=Z.$$p,n=r||$;if(r&&(Z.$$p=null),r&&(Z.$$p=null),n===$)return u(this,"enum_for",["partition"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[],s=[];return this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);c(r)?i.push(e):s.push(e)},this.$each(),[i,s]},Z.$$arity=0),t.alias(ut,"reduce","inject"),t.def(ut,"$reject",Q=function(){var e,r=Q.$$p,n=r||$;if(r&&(Q.$$p=null),r&&(Q.$$p=null),n===$)return u(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);h(r)&&i.push(e)},this.$each(),i},Q.$$arity=0),t.def(ut,"$reverse_each",tt=function(){var e,r=tt.$$p,n=r||$;if(r&&(tt.$$p=null),r&&(tt.$$p=null),n===$)return u(this,"enum_for",["reverse_each"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];this.$each.$$p=function(){i.push(arguments)},this.$each();for(var s=i.length-1;s>=0;s--)t.yieldX(n,i[s]);return i},tt.$$arity=0),t.alias(ut,"select","find_all"),t.def(ut,"$slice_before",et=function(e){var r,n=et.$$p,i=n||$;return n&&(et.$$p=null),n&&(et.$$p=null),c(void 0===e&&i===$)&&this.$raise(a(ht,"ArgumentError"),"both pattern and block are given"),c(void 0!==e&&i!==$||arguments.length>1)&&this.$raise(a(ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),u(a(ht,"Enumerator"),"new",[],((r=function(n){var s=r.$$s||this;null==n&&(n=$);var o=[];s.$each.$$p=i!==$?void 0===e?function(){var e=a(ht,"Opal").$destructure(arguments),r=t.yield1(i,e);c(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(e)}:function(){var t=a(ht,"Opal").$destructure(arguments),r=i(t,e.$dup());c(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)}:function(){var t=a(ht,"Opal").$destructure(arguments),r=e["$==="](t);c(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)},s.$each(),o.length>0&&n["$<<"](o)}).$$s=this,r.$$arity=1,r))},et.$$arity=-1),t.def(ut,"$slice_after",rt=function(e){var r,n,i=rt.$$p,s=i||$;return i&&(rt.$$p=null),i&&(rt.$$p=null),c(void 0===e&&s===$)&&this.$raise(a(ht,"ArgumentError"),"both pattern and block are given"),c(void 0!==e&&s!==$||arguments.length>1)&&this.$raise(a(ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(void 0!==e)&&(s=u(this,"proc",[],((r=function(t){r.$$s;return null==t&&(t=$),e["$==="](t)}).$$s=this,r.$$arity=1,r))),u(a(ht,"Enumerator"),"new",[],((n=function(e){var r,i=n.$$s||this;null==e&&(e=$),i.$each.$$p=function(){var n=a(ht,"Opal").$destructure(arguments),i=t.yield1(s,n);null==r&&(r=[]),c(i)?(r.push(n),e.$yield(r),r=null):r.push(n)},i.$each(),null!=r&&e.$yield(r)}).$$s=this,n.$$arity=1,n))},rt.$$arity=-1),t.def(ut,"$slice_when",nt=function(){var e,r=nt.$$p,n=r||$;return r&&(nt.$$p=null),r&&(nt.$$p=null),n!==$||this.$raise(a(ht,"ArgumentError"),"wrong number of arguments (0 for 1)"),u(a(ht,"Enumerator"),"new",[],((e=function(r){var i=e.$$s||this;null==r&&(r=$);var s=$,o=$;i.$each_cons.$$p=function(){var e=a(ht,"Opal").$destructure(arguments),i=e[0],l=e[1],u=t.yieldX(n,[i,l]);o=l,s===$&&(s=[]),c(u)?(s.push(i),r.$yield(s),s=[]):s.push(i)},i.$each_cons(2),s!==$&&(s.push(o),r.$yield(s))}).$$s=this,e.$$arity=1,e))},nt.$$arity=0),t.def(ut,"$sort",it=function(){var t,e,r=it.$$p,n=r||$;return r&&(it.$$p=null),r&&(it.$$p=null),e=this.$to_a(),n!==$||(n=d(((t=function(e,r){t.$$s;return null==e&&(e=$),null==r&&(r=$),e["$<=>"](r)}).$$s=this,t.$$arity=2,t))),u(e,"sort",[],n.$to_proc())},it.$$arity=0),t.def(ut,"$sort_by",st=function(){var e,r,n,i,s,o=st.$$p,l=o||$;return o&&(st.$$p=null),o&&(st.$$p=null),l===$?u(this,"enum_for",["sort_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(s=u(this,"map",[],((r=function(){var e;r.$$s;return e=a(ht,"Opal").$destructure(arguments),[t.yield1(l,e),e]}).$$s=this,r.$$arity=0,r)),u(s,"sort!",[],((n=function(t,e){n.$$s;return null==t&&(t=$),null==e&&(e=$),t[0]["$<=>"](e[0])}).$$s=this,n.$$arity=2,n)),u(s,"map!",[],((i=function(t){i.$$s;return null==t&&(t=$),t[1]}).$$s=this,i.$$arity=1,i)))},st.$$arity=0),t.def(ut,"$sum",$t=function(e){var n,i=$t.$$p,s=i||$,o=$;return i&&($t.$$p=null),null==e&&(e=0),o=e,u(this,"each",[],((n=function(e){var i,l,c;n.$$s;return i=t.slice.call(arguments,0,arguments.length),l=i,c=s!==$?t.yieldX(s,t.to_a(l)):a(ht,"Opal").$destructure(l),o=r(o,c)}).$$s=this,n.$$arity=-1,n)),o},$t.$$arity=-1),t.def(ut,"$take",ot=function(t){return this.$first(t)},ot.$$arity=1),t.def(ut,"$take_while",at=function(){try{var e,r=at.$$p,n=r||$,i=$;return r&&(at.$$p=null),r&&(at.$$p=null),c(n)?(i=[],u(this,"each",[],((e=function(r){var s,$;e.$$s;return s=t.slice.call(arguments,0,arguments.length),$=a(ht,"Opal").$destructure(s),c(t.yield1(n,$))||t.ret(i),i.push($)}).$$s=this,e.$$arity=-1,e))):this.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},at.$$arity=0),t.def(ut,"$uniq",lt=function(){var e,r=lt.$$p,i=r||$,s=$;return r&&(lt.$$p=null),r&&(lt.$$p=null),s=_([],{}),u(this,"each",[],((e=function(r){e.$$s;var o,l,h,_=$;return o=t.slice.call(arguments,0,arguments.length),l=a(ht,"Opal").$destructure(o),h=i!==$?t.yield1(i,l):l,c(s["$key?"](h))?$:(_=[h,l],u(s,"[]=",t.to_a(_)),_[n(_.length,1)])}).$$s=this,e.$$arity=-1,e)),s.$values()},lt.$$arity=0),t.alias(ut,"to_a","entries"),t.def(ut,"$zip",ct=function(e){var r,n=ct.$$p;return n&&(ct.$$p=null),n&&(ct.$$p=null),r=t.slice.call(arguments,0,arguments.length),u(this.$to_a(),"zip",t.to_a(r))},ct.$$arity=-1)}(s[0],s)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=t.breaker,a=t.slice,l=t.klass,c=t.truthy,u=t.send,h=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,i,_){function d(){}var f,p,m,y,g,b,v=d=l(n,null,"Enumerator",d),x=v.prototype,w=[v].concat(_);return x.size=x.args=x.object=x.method=s,v.$include($(w,"Enumerable")),x.$$is_enumerator=!0,t.defs(v,"$for",f=function(e,r,n){var i,$,o,a=f.$$p,l=a||s;a&&(f.$$p=null),a&&(f.$$p=null),(i=t.slice.call(arguments,1,arguments.length)).length>0&&($=i[0],i.splice(0,1)),null==$&&($="each"),o=i;var c=this.$allocate();return c.object=e,c.size=l,c.method=$,c.args=o,c},f.$$arity=-2),t.def(v,"$initialize",p=function(e){var r=p.$$p,n=r||s;return r&&(p.$$p=null),r&&(p.$$p=null),t.slice.call(arguments,0,arguments.length),c(n)?(this.object=u($(w,"Generator"),"new",[],n.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||s,c(this.size)?this.size=$(w,"Opal").$coerce_to(this.size,$(w,"Integer"),"to_int"):s):(this.object=arguments[0],this.method=arguments[1]||"each",this.args=a.call(arguments,2),this.size=s)},p.$$arity=-1),t.def(v,"$each",m=function(r){var n,i,$=m.$$p,o=$||s;return $&&(m.$$p=null),$&&(m.$$p=null),n=t.slice.call(arguments,0,arguments.length),c(c(i=o["$nil?"]())?n["$empty?"]():i)?this:(n=e(this.args,n),c(o["$nil?"]())?u(this.$class(),"new",[this.object,this.method].concat(t.to_a(n))):u(this.object,"__send__",[this.method].concat(t.to_a(n)),o.$to_proc()))},m.$$arity=-1),t.def(v,"$size",y=function(){return c($(w,"Proc")["$==="](this.size))?u(this.size,"call",t.to_a(this.args)):this.size},y.$$arity=0),t.def(v,"$with_index",g=function(t){var e,r=g.$$p,n=r||s;if(r&&(g.$$p=null),r&&(g.$$p=null),null==t&&(t=0),t=c(t)?$(w,"Opal").$coerce_to(t,$(w,"Integer"),"to_int"):0,!c(n))return u(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=$(w,"Opal").$destructure(arguments),e=n(t,i);return i++,e},this.$each()},g.$$arity=-1),t.alias(v,"with_object","each_with_object"),t.def(v,"$inspect",b=function(){var t=s;return t="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method,c(this.args["$any?"]())&&(t=e(t,"("+this.args.$inspect()["$[]"]($(w,"Range").$new(1,-2))+")")),e(t,">")},b.$$arity=0),function(e,r,n){function i(){}var a,h,_=i=l(e,null,"Generator",i),d=_.prototype,f=[_].concat(n);d.block=s,_.$include($(f,"Enumerable")),t.def(_,"$initialize",a=function(){var t=a.$$p,e=t||s;return t&&(a.$$p=null),t&&(a.$$p=null),c(e)||this.$raise($(f,"LocalJumpError"),"no block given"),this.block=e},a.$$arity=0),t.def(_,"$each",h=function(e){var r,n,i=h.$$p,a=i||s;i&&(h.$$p=null),i&&(h.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=u($(f,"Yielder"),"new",[],a.$to_proc());try{r.unshift(n),t.yieldX(this.block,r)}catch(t){if(t===o)return o.$v;throw t}return this},h.$$arity=-1)}(w[0],0,w),function(e,r,n){function i(){}var $,a,c,h=i=l(e,null,"Yielder",i),_=h.prototype;[h].concat(n);_.block=s,t.def(h,"$initialize",$=function(){var t=$.$$p,e=t||s;return t&&($.$$p=null),t&&($.$$p=null),this.block=e},$.$$arity=0),t.def(h,"$yield",a=function(e){var r;r=t.slice.call(arguments,0,arguments.length);var n=t.yieldX(this.block,r);if(n===o)throw o;return n},a.$$arity=-1),t.def(h,"$<<",c=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),u(this,"yield",t.to_a(r)),this},c.$$arity=-1)}(w[0],0,w),function(n,i,o){function a(){}var _,d,f,p,m,y,g,b,v,x,w,k,E,A=a=l(n,i,"Lazy",a),O=A.prototype,S=[A].concat(o);return O.enumerator=s,function(t,e,r){function n(){}var i=n=l(t,e,"StopLazyError",n);i.prototype,[i].concat(r)}(S[0],$(S,"Exception"),S),t.def(A,"$initialize",_=function(e,r){var n,i=_.$$p,o=i||s;return i&&(_.$$p=null),i&&(_.$$p=null),null==r&&(r=s),o!==s||this.$raise($(S,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=e,u(this,t.find_super_dispatcher(this,"initialize",_,!1),[r],((n=function(r,i){var a,l,c=n.$$s||this;null==r&&(r=s),a=t.slice.call(arguments,1,arguments.length);try{return u(e,"each",t.to_a(a),((l=function(e){var n;l.$$s;(n=t.slice.call(arguments,0,arguments.length)).unshift(r),t.yieldX(o,n)}).$$s=c,l.$$arity=-1,l))}catch(e){if(!t.rescue(e,[$(S,"Exception")]))throw e;try{return s}finally{t.pop_exception()}}}).$$s=this,n.$$arity=-2,n))},_.$$arity=-2),t.alias(A,"force","to_a"),t.def(A,"$lazy",d=function(){return this},d.$$arity=0),t.def(A,"$collect",f=function(){var e,r=f.$$p,n=r||s;return r&&(f.$$p=null),r&&(f.$$p=null),c(n)||this.$raise($(S,"ArgumentError"),"tried to call lazy map without a block"),u($(S,"Lazy"),"new",[this,this.$enumerator_size()],((e=function(r,i){var $;e.$$s;null==r&&(r=s),$=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(n,$);r.$yield(o)}).$$s=this,e.$$arity=-2,e))},f.$$arity=0),t.def(A,"$collect_concat",p=function(){var e,r=p.$$p,n=r||s;return r&&(p.$$p=null),r&&(p.$$p=null),c(n)||this.$raise($(S,"ArgumentError"),"tried to call lazy map without a block"),u($(S,"Lazy"),"new",[this,s],((e=function(r,i){var o,a,l,c=e.$$s||this;null==r&&(r=s),o=t.slice.call(arguments,1,arguments.length);var h=t.yieldX(n,o);h["$respond_to?"]("force")&&h["$respond_to?"]("each")?u(h,"each",[],((a=function(t){a.$$s;return null==t&&(t=s),r.$yield(t)}).$$s=c,a.$$arity=1,a)):$(S,"Opal").$try_convert(h,$(S,"Array"),"to_ary")===s?r.$yield(h):u(h,"each",[],((l=function(t){l.$$s;return null==t&&(t=s),r.$yield(t)}).$$s=c,l.$$arity=1,l))}).$$s=this,e.$$arity=-2,e))},p.$$arity=0),t.def(A,"$drop",m=function(n){var i,o,a,l=s;return n=$(S,"Opal").$coerce_to(n,$(S,"Integer"),"to_int"),c(r(n,0))&&this.$raise($(S,"ArgumentError"),"attempt to drop negative size"),o=this.$enumerator_size(),a=c($(S,"Integer")["$==="](o))&&c(r(n,o))?n:o,l=0,u($(S,"Lazy"),"new",[this,a],((i=function($,o){var a;i.$$s;return null==$&&($=s),a=t.slice.call(arguments,1,arguments.length),c(r(l,n))?l=e(l,1):u($,"yield",t.to_a(a))}).$$s=this,i.$$arity=-2,i))},m.$$arity=1),t.def(A,"$drop_while",y=function(){var e,r=y.$$p,n=r||s,i=s;return r&&(y.$$p=null),r&&(y.$$p=null),c(n)||this.$raise($(S,"ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,u($(S,"Lazy"),"new",[this,s],((e=function(r,$){var o;e.$$s;if(null==r&&(r=s),o=t.slice.call(arguments,1,arguments.length),!c(i))return u(r,"yield",t.to_a(o));var a=t.yieldX(n,o);h(a)&&(i=!1,u(r,"yield",t.to_a(o)))}).$$s=this,e.$$arity=-2,e))},y.$$arity=0),t.def(A,"$enum_for",g=function(e,r){var n,i,$,o=g.$$p,a=o||s,l=this;return o&&(g.$$p=null),o&&(g.$$p=null),(n=t.slice.call(arguments,0,arguments.length)).length>0&&(i=n[0],n.splice(0,1)),null==i&&(i="each"),$=n,u(l.$class(),"for",[l,i].concat(t.to_a($)),a.$to_proc())},g.$$arity=-1),t.def(A,"$find_all",b=function(){var e,r=b.$$p,n=r||s;return r&&(b.$$p=null),r&&(b.$$p=null),c(n)||this.$raise($(S,"ArgumentError"),"tried to call lazy select without a block"),u($(S,"Lazy"),"new",[this,s],((e=function(r,i){var $;e.$$s;null==r&&(r=s),$=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(n,$);c(o)&&u(r,"yield",t.to_a($))}).$$s=this,e.$$arity=-2,e))},b.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.def(A,"$grep",v=function(e){var r,n,i=v.$$p,o=i||s;return i&&(v.$$p=null),i&&(v.$$p=null),c(o)?u($(S,"Lazy"),"new",[this,s],((r=function(n,i){var a;r.$$s;null==n&&(n=s),a=t.slice.call(arguments,1,arguments.length);var l=$(S,"Opal").$destructure(a),u=e["$==="](l);c(u)&&(u=t.yield1(o,l),n.$yield(t.yield1(o,l)))}).$$s=this,r.$$arity=-2,r)):u($(S,"Lazy"),"new",[this,s],((n=function(r,i){var o;n.$$s;null==r&&(r=s),o=t.slice.call(arguments,1,arguments.length);var a=$(S,"Opal").$destructure(o),l=e["$==="](a);c(l)&&r.$yield(a)}).$$s=this,n.$$arity=-2,n))},v.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.def(A,"$reject",x=function(){var e,r=x.$$p,n=r||s;return r&&(x.$$p=null),r&&(x.$$p=null),c(n)||this.$raise($(S,"ArgumentError"),"tried to call lazy reject without a block"),u($(S,"Lazy"),"new",[this,s],((e=function(r,i){var $;e.$$s;null==r&&(r=s),$=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(n,$);h(o)&&u(r,"yield",t.to_a($))}).$$s=this,e.$$arity=-2,e))},x.$$arity=0),t.def(A,"$take",w=function(n){var i,o,a,l=s;return n=$(S,"Opal").$coerce_to(n,$(S,"Integer"),"to_int"),c(r(n,0))&&this.$raise($(S,"ArgumentError"),"attempt to take negative size"),o=this.$enumerator_size(),a=c($(S,"Integer")["$==="](o))&&c(r(n,o))?n:o,l=0,u($(S,"Lazy"),"new",[this,a],((i=function(o,a){var h,_=i.$$s||this;return null==o&&(o=s),h=t.slice.call(arguments,1,arguments.length),c(r(l,n))?(u(o,"yield",t.to_a(h)),l=e(l,1)):_.$raise($(S,"StopLazyError"))}).$$s=this,i.$$arity=-2,i))},w.$$arity=1),t.def(A,"$take_while",k=function(){var e,r=k.$$p,n=r||s;return r&&(k.$$p=null),r&&(k.$$p=null),c(n)||this.$raise($(S,"ArgumentError"),"tried to call lazy take_while without a block"),u($(S,"Lazy"),"new",[this,s],((e=function(r,i){var o,a=e.$$s||this;null==r&&(r=s),o=t.slice.call(arguments,1,arguments.length);var l=t.yieldX(n,o);c(l)?u(r,"yield",t.to_a(o)):a.$raise($(S,"StopLazyError"))}).$$s=this,e.$$arity=-2,e))},k.$$arity=0),t.alias(A,"to_enum","enum_for"),t.def(A,"$inspect",E=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},E.$$arity=0),s&&"inspect"}(w[0],v,w)}(i[0],0,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var s=t.top,$=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,h=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),s.$require("corelib/comparable"),function(s,$,_){function d(){}var f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z=d=c(s,null,"Numeric",d),Q=(Z.prototype,[Z].concat(_));return Z.$include(l(Q,"Comparable")),t.def(Z,"$coerce",f=function(t){return u(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},f.$$arity=1),t.def(Z,"$__coerced__",p=function(e,r){var n,i,s=this,$=o,a=o,c=o;return u(r["$respond_to?"]("coerce"))?(i=r.$coerce(s),$=null==(n=t.to_ary(i))[0]?o:n[0],a=null==n[1]?o:n[1],$.$__send__(e,a)):"+"["$==="](c=e)||"-"["$==="](c)||"*"["$==="](c)||"/"["$==="](c)||"%"["$==="](c)||"&"["$==="](c)||"|"["$==="](c)||"^"["$==="](c)||"**"["$==="](c)?s.$raise(l(Q,"TypeError"),r.$class()+" can't be coerced into Numeric"):">"["$==="](c)||">="["$==="](c)||"<"["$==="](c)||"<="["$==="](c)||"<=>"["$==="](c)?s.$raise(l(Q,"ArgumentError"),"comparison of "+s.$class()+" with "+r.$class()+" failed"):o},p.$$arity=2),t.def(Z,"$<=>",m=function(t){return u(this["$equal?"](t))?0:o},m.$$arity=1),t.def(Z,"$+@",y=function(){return this},y.$$arity=0),t.def(Z,"$-@",g=function(){return e(0,this)},g.$$arity=0),t.def(Z,"$%",b=function(t){return e(this,r(t,this.$div(t)))},b.$$arity=1),t.def(Z,"$abs",v=function(){return n(this,0)?this["$-@"]():this},v.$$arity=0),t.def(Z,"$abs2",x=function(){return r(this,this)},x.$$arity=0),t.def(Z,"$angle",w=function(){return n(this,0)?a(l(Q,"Math"),"PI"):0},w.$$arity=0),t.alias(Z,"arg","angle"),t.def(Z,"$ceil",k=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},k.$$arity=-1),t.def(Z,"$conj",E=function(){return this},E.$$arity=0),t.alias(Z,"conjugate","conj"),t.def(Z,"$denominator",A=function(){return this.$to_r().$denominator()},A.$$arity=0),t.def(Z,"$div",O=function(t){return t["$=="](0)&&this.$raise(l(Q,"ZeroDivisionError"),"divided by o"),i(this,t).$floor()},O.$$arity=1),t.def(Z,"$divmod",S=function(t){return[this.$div(t),this["$%"](t)]},S.$$arity=1),t.def(Z,"$fdiv",R=function(t){return i(this.$to_f(),t)},R.$$arity=1),t.def(Z,"$floor",C=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},C.$$arity=-1),t.def(Z,"$i",T=function(){return this.$Complex(0,this)},T.$$arity=0),t.def(Z,"$imag",M=function(){return 0},M.$$arity=0),t.alias(Z,"imaginary","imag"),t.def(Z,"$integer?",I=function(){return!1},I.$$arity=0),t.alias(Z,"magnitude","abs"),t.alias(Z,"modulo","%"),t.def(Z,"$nonzero?",N=function(){return u(this["$zero?"]())?o:this},N.$$arity=0),t.def(Z,"$numerator",P=function(){return this.$to_r().$numerator()},P.$$arity=0),t.alias(Z,"phase","arg"),t.def(Z,"$polar",L=function(){return[this.$abs(),this.$arg()]},L.$$arity=0),t.def(Z,"$quo",D=function(t){return i(l(Q,"Opal")["$coerce_to!"](this,l(Q,"Rational"),"to_r"),t)},D.$$arity=1),t.def(Z,"$real",F=function(){return this},F.$$arity=0),t.def(Z,"$real?",z=function(){return!0},z.$$arity=0),t.def(Z,"$rect",B=function(){return[this,0]},B.$$arity=0),t.alias(Z,"rectangular","rect"),t.def(Z,"$round",q=function(t){return this.$to_f().$round(t)},q.$$arity=-1),t.def(Z,"$to_c",j=function(){return this.$Complex(this,0)},j.$$arity=0),t.def(Z,"$to_int",U=function(){return this.$to_i()},U.$$arity=0),t.def(Z,"$truncate",H=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},H.$$arity=-1),t.def(Z,"$zero?",Y=function(){return this["$=="](0)},Y.$$arity=0),t.def(Z,"$positive?",G=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?t>e:t["$>"](e)},G.$$arity=0),t.def(Z,"$negative?",W=function(){return n(this,0)},W.$$arity=0),t.def(Z,"$dup",V=function(){return this},V.$$arity=0),t.def(Z,"$clone",K=function(e){if(null==e)e=h([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},K.$$arity=-1),t.def(Z,"$finite?",X=function(){return!0},X.$$arity=0),t.def(Z,"$infinite?",J=function(){return o},J.$$arity=0),o&&"infinite?"}($[0],0,$)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=t.top,n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.hash2,c=t.send,u=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),r.$require("corelib/enumerable"),r.$require("corelib/numeric"),function(r,n,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut,ht,_t,dt,ft,pt,mt,yt,gt,bt,vt,xt,wt,kt,Et,At,Ot,St,Rt,Ct,Tt,Mt,It,Nt,Pt,Lt,Dt,Ft,zt,Bt,qt,jt,Ut,Ht,Yt,Gt,Wt,Vt,Kt,Xt,Jt,Zt,Qt=_=o(r,n,"Array",_),te=(Qt.prototype,[Qt].concat(h));function ee(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function re(t,e){return t===e||0===e?1:e>0&&t>e?re(t-1,e-1)+re(t-1,e):0}return Qt.$include($(te,"Enumerable")),t.defineProperty(Array.prototype,"$$is_array",!0),t.defs(Qt,"$[]",d=function(e){return ee(t.slice.call(arguments,0,arguments.length),this)},d.$$arity=-1),t.def(Qt,"$initialize",f=function(t,e){var r,n,o=f.$$p,a=o||i;if(o&&(f.$$p=null),o&&(f.$$p=null),null==t&&(t=i),null==e&&(e=i),e!==i&&a!==i&&this.$warn("warning: block supersedes default value argument"),t>s($(te,"Integer"),"MAX")&&this.$raise($(te,"ArgumentError"),"array size too big"),arguments.length>2&&this.$raise($(te,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(t.$$is_array)return this.$replace(t.$to_a()),this;if(t["$respond_to?"]("to_ary"))return this.$replace(t.$to_ary()),this}if((t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&this.$raise($(te,"ArgumentError"),"negative array size"),this.splice(0,this.length),a===i)for(r=0;r<t;r++)this.push(e);else for(r=0;r<t;r++)n=a(r),this[r]=n;return this},f.$$arity=-1),t.defs(Qt,"$try_convert",p=function(t){return $(te,"Opal")["$coerce_to?"](t,$(te,"Array"),"to_ary")},p.$$arity=1),t.def(Qt,"$&",m=function(e){e=a($(te,"Array")["$==="](e))?e.$to_a():$(te,"Opal").$coerce_to(e,$(te,"Array"),"to_ary").$to_a();var r,n,i,s=[],o=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(o,e[r],!0);for(r=0,n=this.length;r<n;r++)i=this[r],void 0!==t.hash_delete(o,i)&&s.push(i);return s},m.$$arity=1),t.def(Qt,"$|",y=function(e){e=a($(te,"Array")["$==="](e))?e.$to_a():$(te,"Opal").$coerce_to(e,$(te,"Array"),"to_ary").$to_a();var r,n,i=l([],{});for(r=0,n=this.length;r<n;r++)t.hash_put(i,this[r],!0);for(r=0,n=e.length;r<n;r++)t.hash_put(i,e[r],!0);return i.$keys()},y.$$arity=1),t.def(Qt,"$*",g=function(t){if(a(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),a(t<0)&&this.$raise($(te,"ArgumentError"),"negative argument");for(var e=[],r=this.$to_a(),n=0;n<t;n++)e=e.concat(r);return ee(e,this.$class())},g.$$arity=1),t.def(Qt,"$+",b=function(t){return t=a($(te,"Array")["$==="](t))?t.$to_a():$(te,"Opal").$coerce_to(t,$(te,"Array"),"to_ary").$to_a(),this.concat(t)},b.$$arity=1),t.def(Qt,"$-",v=function(e){if(e=a($(te,"Array")["$==="](e))?e.$to_a():$(te,"Opal").$coerce_to(e,$(te,"Array"),"to_ary").$to_a(),a(0===this.length))return[];if(a(0===e.length))return this.slice();var r,n,i,s=[],o=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(o,e[r],!0);for(r=0,n=this.length;r<n;r++)i=this[r],void 0===t.hash_get(o,i)&&s.push(i);return s},v.$$arity=1),t.def(Qt,"$<<",x=function(t){return this.push(t),this},x.$$arity=1),t.def(Qt,"$<=>",w=function(t){if(a($(te,"Array")["$==="](t)))t=t.$to_a();else{if(!a(t["$respond_to?"]("to_ary")))return i;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),r=0;r<e;r++){var n=this[r]["$<=>"](t[r]);if(0!==n)return n}return this.length["$<=>"](t.length)},w.$$arity=1),t.def(Qt,"$==",k=function(t){var e={};return function t(r,n){var i,s,o,a;if(r===n)return!0;if(!n.$$is_array)return!!$(te,"Opal")["$respond_to?"](n,"to_ary")&&n["$=="](r);if(r.constructor!==Array&&(r=r.$to_a()),n.constructor!==Array&&(n=n.$to_a()),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,i=0,s=r.length;i<s;i++)if(o=r[i],a=n[i],o.$$is_array){if(a.$$is_array&&a.length!==o.length)return!1;if(!e.hasOwnProperty(o.$object_id())&&!t(o,a))return!1}else if(!o["$=="](a))return!1;return!0}(this,t)},k.$$arity=1),t.def(Qt,"$[]",E=function(e,r){return e.$$is_range?function(e,r){var n,s,$,o=e.length;return n=r.excl,s=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),$=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),s<0&&(s+=o)<0?i:s>o?i:$<0&&($+=o)<0?[]:(n||($+=1),ee(e.slice(s,$),e.$class()))}(this,e):function(e,r,n){var s=e.length;return(r=t.Opal.$coerce_to(r,t.Integer,"to_int"))<0&&(r+=s)<0?i:void 0===n?r>=s||r<0?i:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"))<0||r>s||r<0?i:ee(e.slice(r,r+n),e.$class())}(this,e,r)},E.$$arity=-2),t.def(Qt,"$[]=",A=function(t,e,r){var n,s,o=i,l=i,c=this.length;if(a($(te,"Range")["$==="](t))){o=a($(te,"Array")["$==="](e))?e.$to_a():a(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var u=t.excl,h=$(te,"Opal").$coerce_to(t.begin,$(te,"Integer"),"to_int"),_=$(te,"Opal").$coerce_to(t.end,$(te,"Integer"),"to_int");if(h<0&&(h+=c)<0&&this.$raise($(te,"RangeError"),t.$inspect()+" out of range"),_<0&&(_+=c),u||(_+=1),h>c)for(n=c;n<h;n++)this[n]=i;return _<0?this.splice.apply(this,[h,0].concat(o)):this.splice.apply(this,[h,_-h].concat(o)),e}if(a(void 0===r)?l=1:(l=e,e=r,o=a($(te,"Array")["$==="](e))?e.$to_a():a(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),l=$(te,"Opal").$coerce_to(l,$(te,"Integer"),"to_int"),t<0&&(s=t,(t+=c)<0&&this.$raise($(te,"IndexError"),"index "+s+" too small for array; minimum "+-this.length)),l<0&&this.$raise($(te,"IndexError"),"negative length ("+l+")"),t>c)for(n=c;n<t;n++)this[n]=i;return void 0===r?this[t]=e:this.splice.apply(this,[t,l].concat(o)),e},A.$$arity=-3),t.def(Qt,"$any?",O=function(e){var r,n=O.$$p,s=i,$=i;for(n&&(O.$$p=null),$=0,r=arguments.length,s=new Array(r);$<r;$++)s[$]=arguments[$];return n&&(O.$$p=null),0!==this.length&&c(this,t.find_super_dispatcher(this,"any?",O,!1),s,n)},O.$$arity=-1),t.def(Qt,"$assoc",S=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&e[0]["$=="](t))return e;return i},S.$$arity=1),t.def(Qt,"$at",R=function(t){return(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length?i:this[t]},R.$$arity=1),t.def(Qt,"$bsearch_index",C=function(){var e=C.$$p,r=e||i;if(e&&(C.$$p=null),e&&(C.$$p=null),r===i)return this.$enum_for("bsearch_index");for(var n,s,o,a=0,l=this.length,c=!1,u=i;a<l;){if(s=this[n=a+Math.floor((l-a)/2)],!0===(o=t.yield1(r,s)))u=n,c=!0;else if(!1===o||o===i)c=!1;else if(o.$$is_number){if(0===o)return n;c=o<0}else this.$raise($(te,"TypeError"),"wrong argument type "+o.$class()+" (must be numeric, true, false or nil)");c?l=n:a=n+1}return u},C.$$arity=0),t.def(Qt,"$bsearch",T=function(){var t,e=T.$$p,r=e||i;return e&&(T.$$p=null),e&&(T.$$p=null),r===i?this.$enum_for("bsearch"):null!=(t=c(this,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?this[t]:t},T.$$arity=0),t.def(Qt,"$cycle",M=function(r){var n,o,l,u,h=M.$$p,_=h||i;if(h&&(M.$$p=null),h&&(M.$$p=null),null==r&&(r=i),_===i)return c(this,"enum_for",["cycle",r],((n=function(){var t,i,o=n.$$s||this;return a(r["$nil?"]())?s($(te,"Float"),"INFINITY"):(r=$(te,"Opal")["$coerce_to!"](r,$(te,"Integer"),"to_int"),a(e(r,0))?(t=o.$enumerator_size(),i=r,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,n.$$arity=0,n));if(a(a(o=this["$empty?"]())?o:r["$=="](0)))return i;if(r===i)for(;;)for(l=0,u=this.length;l<u;l++)t.yield1(_,this[l]);else{if((r=$(te,"Opal")["$coerce_to!"](r,$(te,"Integer"),"to_int"))<=0)return this;for(;r>0;){for(l=0,u=this.length;l<u;l++)t.yield1(_,this[l]);r--}}return this},M.$$arity=-1),t.def(Qt,"$clear",I=function(){return this.splice(0,this.length),this},I.$$arity=0),t.def(Qt,"$count",N=function(e){var r,n,s=N.$$p,$=s||i,o=i,l=i;for(s&&(N.$$p=null),l=0,n=arguments.length,o=new Array(n);l<n;l++)o[l]=arguments[l];return s&&(N.$$p=null),null==e&&(e=i),a(a(r=e)?r:$)?c(this,t.find_super_dispatcher(this,"count",N,!1),o,s):this.$size()},N.$$arity=-1),t.def(Qt,"$initialize_copy",P=function(t){return this.$replace(t)},P.$$arity=1),t.def(Qt,"$collect",L=function(){var e,r=L.$$p,n=r||i;if(r&&(L.$$p=null),r&&(L.$$p=null),n===i)return c(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=[],$=0,o=this.length;$<o;$++){var a=t.yield1(n,this[$]);s.push(a)}return s},L.$$arity=0),t.def(Qt,"$collect!",D=function(){var e,r=D.$$p,n=r||i;if(r&&(D.$$p=null),r&&(D.$$p=null),n===i)return c(this,"enum_for",["collect!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=0,$=this.length;s<$;s++){var o=t.yield1(n,this[s]);this[s]=o}return this},D.$$arity=0),t.def(Qt,"$combination",F=function(e){var r,n,s,o,a,l,u,h,_,d=F.$$p,f=d||i;if(d&&(F.$$p=null),n=$(te,"Opal")["$coerce_to!"](e,$(te,"Integer"),"to_int"),f===i)return c(this,"enum_for",["combination",n],((r=function(){return re((r.$$s||this).length,n)}).$$s=this,r.$$arity=0,r));if(0===n)t.yield1(f,[]);else if(1===n)for(s=0,o=this.length;s<o;s++)t.yield1(f,[this[s]]);else if(n===this.length)t.yield1(f,this.slice());else if(n>=0&&n<this.length){for(a=[],s=0;s<=n+1;s++)a.push(0);for(l=[],u=0,h=!1,a[0]=-1;!h;){for(l[u]=this[a[u+1]];u<n-1;)_=a[++u+1]=a[u]+1,l[u]=this[_];t.yield1(f,l.slice()),u++;do{h=0===u,a[u]++,u--}while(a[u+1]+n===this.length+u+1)}}return this},F.$$arity=1),t.def(Qt,"$repeated_combination",z=function(e){var r,n,s=z.$$p,o=s||i;if(s&&(z.$$p=null),n=$(te,"Opal")["$coerce_to!"](e,$(te,"Integer"),"to_int"),o===i)return c(this,"enum_for",["repeated_combination",n],((r=function(){return re((r.$$s||this).length+n-1,n)}).$$s=this,r.$$arity=0,r));return n>=0&&function e(r,n,i,s){if(i.length!=r)for(var $=n;$<s.length;$++)i.push(s[$]),e(r,$,i,s),i.pop();else{var a=i.slice();t.yield1(o,a)}}(n,0,[],this),this},z.$$arity=1),t.def(Qt,"$compact",B=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==i&&e.push(t);return e},B.$$arity=0),t.def(Qt,"$compact!",q=function(){for(var t=this.length,e=0,r=this.length;e<r;e++)this[e]===i&&(this.splice(e,1),r--,e--);return this.length===t?i:this},q.$$arity=0),t.def(Qt,"$concat",j=function(e){var r,n,s,o;return r=t.slice.call(arguments,0,arguments.length),n=c(n=r,"map",[],((s=function(t){var e=s.$$s||this;return null==t&&(t=i),t=a($(te,"Array")["$==="](t))?t.$to_a():$(te,"Opal").$coerce_to(t,$(te,"Array"),"to_ary").$to_a(),a(t["$equal?"](e))&&(t=t.$dup()),t}).$$s=this,s.$$arity=1,s)),c(n,"each",[],((o=function(t){var e=o.$$s||this;null==t&&(t=i);for(var r=0,n=t.length;r<n;r++)e.push(t[r])}).$$s=this,o.$$arity=1,o)),this},j.$$arity=-1),t.def(Qt,"$delete",U=function(e){var r=U.$$p,n=r||i;r&&(U.$$p=null);for(var s=this.length,$=0,o=s;$<o;$++)this[$]["$=="](e)&&(this.splice($,1),o--,$--);return this.length===s?n!==i?t.yieldX(n,[]):i:e},U.$$arity=1),t.def(Qt,"$delete_at",H=function(t){if((t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return i;var e=this[t];return this.splice(t,1),e},H.$$arity=1),t.def(Qt,"$delete_if",Y=function(){var t,e=Y.$$p,r=e||i;if(e&&(Y.$$p=null),e&&(Y.$$p=null),r===i)return c(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,s=0,$=this.length;s<$;s++)!1!==(n=r(this[s]))&&n!==i&&(this.splice(s,1),$--,s--);return this},Y.$$arity=0),t.def(Qt,"$dig",G=function(e,r){var n,s=i;return n=t.slice.call(arguments,1,arguments.length),(s=this["$[]"](e))===i||0===n.length?s:(a(s["$respond_to?"]("dig"))||this.$raise($(te,"TypeError"),s.$class()+" does not have #dig method"),c(s,"dig",t.to_a(n)))},G.$$arity=-2),t.def(Qt,"$drop",W=function(t){return t<0&&this.$raise($(te,"ArgumentError")),this.slice(t)},W.$$arity=1),t.def(Qt,"$dup",V=function(){var e,r=V.$$p,n=i,s=i;for(r&&(V.$$p=null),s=0,e=arguments.length,n=new Array(e);s<e;s++)n[s]=arguments[s];return this.$$class===t.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):c(this,t.find_super_dispatcher(this,"dup",V,!1),n,r)},V.$$arity=0),t.def(Qt,"$each",K=function(){var e,r=K.$$p,n=r||i;if(r&&(K.$$p=null),r&&(K.$$p=null),n===i)return c(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=0,$=this.length;s<$;s++)t.yield1(n,this[s]);return this},K.$$arity=0),t.def(Qt,"$each_index",X=function(){var e,r=X.$$p,n=r||i;if(r&&(X.$$p=null),r&&(X.$$p=null),n===i)return c(this,"enum_for",["each_index"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=0,$=this.length;s<$;s++)t.yield1(n,s);return this},X.$$arity=0),t.def(Qt,"$empty?",J=function(){return 0===this.length},J.$$arity=0),t.def(Qt,"$eql?",Z=function(t){var e={};return function t(r,n){var i,s,$,o;if(!n.$$is_array)return!1;if(n=n.$to_a(),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,i=0,s=r.length;i<s;i++)if($=r[i],o=n[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!e.hasOwnProperty($.$object_id())&&!t($,o))return!1}else if(!$["$eql?"](o))return!1;return!0}(this,t)},Z.$$arity=1),t.def(Qt,"$fetch",Q=function(t,e){var r=Q.$$p,n=r||i;r&&(Q.$$p=null),r&&(Q.$$p=null);var s=t;return(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&(t+=this.length),t>=0&&t<this.length?this[t]:(n!==i&&null!=e&&this.$warn("warning: block supersedes default value argument"),n!==i?n(s):null!=e?e:void(0===this.length?this.$raise($(te,"IndexError"),"index "+s+" outside of array bounds: 0...0"):this.$raise($(te,"IndexError"),"index "+s+" outside of array bounds: -"+this.length+"..."+this.length)))},Q.$$arity=-2),t.def(Qt,"$fill",tt=function(e){var r,n,s,o,l,c=tt.$$p,u=c||i,h=i,_=i,d=i,f=i,p=i;if(c&&(tt.$$p=null),c&&(tt.$$p=null),r=t.slice.call(arguments,0,arguments.length),a(u)?(a(r.length>2)&&this.$raise($(te,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),s=r,h=null==(n=t.to_ary(s))[0]?i:n[0],_=null==n[1]?i:n[1]):(a(0==r.length)?this.$raise($(te,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):a(r.length>3)&&this.$raise($(te,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"),s=r,d=null==(n=t.to_ary(s))[0]?i:n[0],h=null==n[1]?i:n[1],_=null==n[2]?i:n[2]),a($(te,"Range")["$==="](h))){if(a(_)&&this.$raise($(te,"TypeError"),"length invalid with range"),f=$(te,"Opal").$coerce_to(h.$begin(),$(te,"Integer"),"to_int"),a(f<0)&&(f+=this.length),a(f<0)&&this.$raise($(te,"RangeError"),h.$inspect()+" out of range"),p=$(te,"Opal").$coerce_to(h.$end(),$(te,"Integer"),"to_int"),a(p<0)&&(p+=this.length),a(h["$exclude_end?"]())||(p+=1),a(p<=f))return this}else if(a(h))if(f=$(te,"Opal").$coerce_to(h,$(te,"Integer"),"to_int"),a(f<0)&&(f+=this.length),a(f<0)&&(f=0),a(_)){if(p=$(te,"Opal").$coerce_to(_,$(te,"Integer"),"to_int"),a(0==p))return this;p+=f}else p=this.length;else f=0,p=this.length;if(a(f>this.length))for(o=this.length;o<p;o++)this[o]=i;if(a(p>this.length)&&(this.length=p),a(u))for(this.length;f<p;f++)l=u(f),this[f]=l;else for(this.length;f<p;f++)this[f]=d;return this},tt.$$arity=-1),t.def(Qt,"$first",et=function(t){return null==t?0===this.length?i:this[0]:((t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&this.$raise($(te,"ArgumentError"),"negative array size"),this.slice(0,t))},et.$$arity=-1),t.def(Qt,"$flatten",rt=function(t){var e=this;return void 0!==t&&(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int")),ee(function t(r,n){var s,o,a,l,c=[];for(s=0,o=(r=r.$to_a()).length;s<o;s++)if(a=r[s],$(te,"Opal")["$respond_to?"](a,"to_ary",!0))if((l=a.$to_ary())!==i)switch(l.$$is_array||e.$raise($(te,"TypeError")),l===e&&e.$raise($(te,"ArgumentError")),n){case void 0:c=c.concat(t(l));break;case 0:c.push(l);break;default:c.push.apply(c,t(l,n-1))}else c.push(a);else c.push(a);return c}(e,t),e.$class())},rt.$$arity=-1),t.def(Qt,"$flatten!",nt=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var r=0,n=this.length;r<n&&this[r]===e[r];r++);if(r==n)return i}return this.$replace(e),this},nt.$$arity=-1),t.def(Qt,"$hash",it=function(){var e,r,n,i=void 0===t.hash_ids,s=["A"],$=this.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[$])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],this["$eql?"](e))return"self";for(t.hash_ids[$]=this,r=0;r<this.length;r++)e=this[r],s.push(e.$hash());return s.join(",")}finally{i&&(t.hash_ids=void 0)}},it.$$arity=0),t.def(Qt,"$include?",st=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},st.$$arity=1),t.def(Qt,"$index",$t=function(t){var e,r,n,s=$t.$$p,$=s||i;if(s&&($t.$$p=null),s&&($t.$$p=null),null!=t&&$!==i&&this.$warn("warning: given block not used"),null!=t){for(e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return e}else{if($===i)return this.$enum_for("index");for(e=0,r=this.length;e<r;e++)if(!1!==(n=$(this[e]))&&n!==i)return e}return i},$t.$$arity=-1),t.def(Qt,"$insert",ot=function(e,r){var n;if(n=t.slice.call(arguments,1,arguments.length),e=$(te,"Opal").$coerce_to(e,$(te,"Integer"),"to_int"),n.length>0){if(e<0&&(e+=this.length+1)<0&&this.$raise($(te,"IndexError"),e+" is out of bounds"),e>this.length)for(var s=this.length;s<e;s++)this.push(i);this.splice.apply(this,[e,0].concat(n))}return this},ot.$$arity=-2),t.def(Qt,"$inspect",at=function(){for(var t=[],e=this.$__id__(),r=0,n=this.length;r<n;r++){var i=this["$[]"](r);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},at.$$arity=0),t.def(Qt,"$join",lt=function(e){if(null==u[","]&&(u[","]=i),null==e&&(e=i),a(0===this.length))return"";a(e===i)&&(e=u[","]);var r,n,s,o,l=[];for(r=0,n=this.length;r<n;r++)s=this[r],$(te,"Opal")["$respond_to?"](s,"to_str")&&(o=s.$to_str())!==i?l.push(o.$to_s()):$(te,"Opal")["$respond_to?"](s,"to_ary")&&((o=s.$to_ary())===this&&this.$raise($(te,"ArgumentError")),o!==i)?l.push(o.$join(e)):$(te,"Opal")["$respond_to?"](s,"to_s")&&(o=s.$to_s())!==i?l.push(o):this.$raise($(te,"NoMethodError").$new(t.inspect(s)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===i?l.join(""):l.join($(te,"Opal")["$coerce_to!"](e,$(te,"String"),"to_str").$to_s())},lt.$$arity=-1),t.def(Qt,"$keep_if",ct=function(){var t,e=ct.$$p,r=e||i;if(e&&(ct.$$p=null),e&&(ct.$$p=null),r===i)return c(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,s=0,$=this.length;s<$;s++)!1!==(n=r(this[s]))&&n!==i||(this.splice(s,1),$--,s--);return this},ct.$$arity=0),t.def(Qt,"$last",ut=function(t){return null==t?0===this.length?i:this[this.length-1]:((t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&this.$raise($(te,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},ut.$$arity=-1),t.def(Qt,"$length",ht=function(){return this.length},ht.$$arity=0),t.alias(Qt,"map","collect"),t.alias(Qt,"map!","collect!"),t.def(Qt,"$max",_t=function(t){var e=_t.$$p,r=e||i;return e&&(_t.$$p=null),e&&(_t.$$p=null),c(this.$each(),"max",[t],r.$to_proc())},_t.$$arity=-1),t.def(Qt,"$min",dt=function(){var t=dt.$$p,e=t||i;return t&&(dt.$$p=null),t&&(dt.$$p=null),c(this.$each(),"min",[],e.$to_proc())},dt.$$arity=0),t.def(Qt,"$permutation",ft=function(e){var r,n,s,o,a=ft.$$p,l=a||i,u=this,h=i,_=i;if(a&&(ft.$$p=null),a&&(ft.$$p=null),l===i)return c(u,"enum_for",["permutation",e],((r=function(){var t=r.$$s||this;return function(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}(t.length,void 0===e?t.length:e)}).$$s=u,r.$$arity=0,r));if((e=void 0===e?u.length:$(te,"Opal").$coerce_to(e,$(te,"Integer"),"to_int"))<0||u.length<e);else if(0===e)t.yield1(l,[]);else if(1===e)for(var d=0;d<u.length;d++)t.yield1(l,[u[d]]);else h=$(te,"Array").$new(e),_=$(te,"Array").$new(u.length,!1),n=function(e,r,i,s,$){u=this;for(var a=0;a<u.length;a++)if(s["$[]"](a)["$!"]())if(r[i]=a,i<e-1)s[a]=!0,n.call(u,e,r,i+1,s,$),s[a]=!1;else{o=[];for(var l=0;l<r.length;l++)o.push(u[r[l]]);t.yield1($,o)}},l!==i?(s=u.slice(),n.call(s,e,h,0,_,l)):n.call(u,e,h,0,_,l);return u},ft.$$arity=-1),t.def(Qt,"$repeated_permutation",pt=function(e){var r,n,s=pt.$$p,o=s||i;if(s&&(pt.$$p=null),n=$(te,"Opal")["$coerce_to!"](e,$(te,"Integer"),"to_int"),o===i)return c(this,"enum_for",["repeated_permutation",n],((r=function(){var t,e,i=r.$$s||this;return a((e=0,"number"==typeof(t=n)&&"number"==typeof e?t>=e:t["$>="](e)))?i.$size()["$**"](n):0}).$$s=this,r.$$arity=0,r));return function e(r,n,i){if(n.length!=r)for(var s=0;s<i.length;s++)n.push(i[s]),e(r,n,i),n.pop();else{var $=n.slice();t.yield1(o,$)}}(n,[],this.slice()),this},pt.$$arity=1),t.def(Qt,"$pop",mt=function(t){return a(void 0===t)?a(0===this.length)?i:this.pop():(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),a(t<0)&&this.$raise($(te,"ArgumentError"),"negative array size"),a(0===this.length)?[]:a(t>this.length)?this.splice(0,this.length):this.splice(this.length-t,this.length))},mt.$$arity=-1),t.def(Qt,"$product",yt=function(e){var r,n,s=yt.$$p,o=s||i;s&&(yt.$$p=null),s&&(yt.$$p=null),r=t.slice.call(arguments,0,arguments.length);var a,l,c,u,h=o!==i?null:[],_=(n=r).length+1,d=new Array(_),f=new Array(_),p=new Array(_),m=1;for(p[0]=this,a=1;a<_;a++)p[a]=$(te,"Opal").$coerce_to(n[a-1],$(te,"Array"),"to_ary");for(a=0;a<_;a++){if(0===(u=p[a].length))return h||this;(m*=u)>2147483647&&this.$raise($(te,"RangeError"),"too big to product"),f[a]=u,d[a]=0}t:for(;;){for(c=[],a=0;a<_;a++)c.push(p[a][d[a]]);for(h?h.push(c):t.yield1(o,c),d[l=_-1]++;d[l]===f[l];){if(d[l]=0,--l<0)break t;d[l]++}}return h||this},yt.$$arity=-1),t.def(Qt,"$push",gt=function(e){for(var r,n=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;n<i;n++)this.push(r[n]);return this},gt.$$arity=-1),t.alias(Qt,"append","push"),t.def(Qt,"$rassoc",bt=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return i},bt.$$arity=1),t.def(Qt,"$reject",vt=function(){var t,e=vt.$$p,r=e||i;if(e&&(vt.$$p=null),e&&(vt.$$p=null),r===i)return c(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,s=[],$=0,o=this.length;$<o;$++)!1!==(n=r(this[$]))&&n!==i||s.push(this[$]);return s},vt.$$arity=0),t.def(Qt,"$reject!",xt=function(){var t,e,r=xt.$$p,n=r||i;return r&&(xt.$$p=null),r&&(xt.$$p=null),n===i?c(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),c(this,"delete_if",[],n.$to_proc()),this.$length()["$=="](e)?i:this)},xt.$$arity=0),t.def(Qt,"$replace",wt=function(t){return t=a($(te,"Array")["$==="](t))?t.$to_a():$(te,"Opal").$coerce_to(t,$(te,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},wt.$$arity=1),t.def(Qt,"$reverse",kt=function(){return this.slice(0).reverse()},kt.$$arity=0),t.def(Qt,"$reverse!",Et=function(){return this.reverse()},Et.$$arity=0),t.def(Qt,"$reverse_each",At=function(){var t,e=At.$$p,r=e||i;return e&&(At.$$p=null),e&&(At.$$p=null),r===i?c(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(c(this.$reverse(),"each",[],r.$to_proc()),this)},At.$$arity=0),t.def(Qt,"$rindex",Ot=function(t){var e,r,n=Ot.$$p,s=n||i;if(n&&(Ot.$$p=null),n&&(Ot.$$p=null),null!=t&&s!==i&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(s!==i){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(!1!==(r=s(this[e]))&&r!==i)return e}else if(null==t)return this.$enum_for("rindex");return i},Ot.$$arity=-1),t.def(Qt,"$rotate",St=function(t){var e,r,n,i;return null==t&&(t=1),t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(r=t%(e=this.slice()).length,n=e.slice(r),i=e.slice(0,r),n.concat(i))},St.$$arity=-1),t.def(Qt,"$rotate!",Rt=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},Rt.$$arity=-1),function(e,r,n){function s(){}var l,c,u=s=o(e,null,"SampleRandom",s),h=u.prototype,_=[u].concat(n);h.rng=i,t.def(u,"$initialize",l=function(t){return this.rng=t},l.$$arity=1),t.def(u,"$rand",c=function(t){var e;return e=$(_,"Opal").$coerce_to(this.rng.$rand(t),$(_,"Integer"),"to_int"),a(e<0)&&this.$raise($(_,"RangeError"),"random value must be >= 0"),a(e<t)||this.$raise($(_,"RangeError"),"random value must be less than Array size"),e},c.$$arity=1)}(te[0],0,te),t.def(Qt,"$sample",Ct=function(t,e){var r,n,s,o,l,c,u,h,_,d=i,f=i;if(a(void 0===t))return this.$at($(te,"Kernel").$rand(this.length));if(a(void 0===e)?a(d=$(te,"Opal")["$coerce_to?"](t,$(te,"Hash"),"to_hash"))?(e=d,t=i):(e=i,t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int")):(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),e=$(te,"Opal").$coerce_to(e,$(te,"Hash"),"to_hash")),a(a(r=t)?t<0:r)&&this.$raise($(te,"ArgumentError"),"count must be greater than 0"),a(e)&&(f=e["$[]"]("random")),f=a(a(r=f)?f["$respond_to?"]("rand"):r)?$(te,"SampleRandom").$new(f):$(te,"Kernel"),!a(t))return this[f.$rand(this.length)];switch(t>this.length&&(t=this.length),t){case 0:return[];case 1:return[this[f.$rand(this.length)]];case 2:return(l=f.$rand(this.length))===(c=f.$rand(this.length))&&(c=0===l?l+1:l-1),[this[l],this[c]];default:if(this.length/t>3){for(n=!1,s=0,l=1,(o=$(te,"Array").$new(t))[0]=f.$rand(this.length);l<t;){for(u=f.$rand(this.length),c=0;c<l;){for(;u===o[c];){if(++s>100){n=!0;break}u=f.$rand(this.length)}if(n)break;c++}if(n)break;o[l]=u,l++}if(!n){for(l=0;l<t;)o[l]=this[o[l]],l++;return o}}o=this.slice();for(var p=0;p<t;p++)h=f.$rand(this.length),_=o[p],o[p]=o[h],o[h]=_;return t===this.length?o:o["$[]"](0,t)}},Ct.$$arity=-1),t.def(Qt,"$select",Tt=function(){var e,r=Tt.$$p,n=r||i;if(r&&(Tt.$$p=null),r&&(Tt.$$p=null),n===i)return c(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s,$,o=[],a=0,l=this.length;a<l;a++)s=this[a],$=t.yield1(n,s),t.truthy($)&&o.push(s);return o},Tt.$$arity=0),t.def(Qt,"$select!",Mt=function(){var t,e=Mt.$$p,r=e||i;if(e&&(Mt.$$p=null),e&&(Mt.$$p=null),r===i)return c(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n=this.length;return c(this,"keep_if",[],r.$to_proc()),this.length===n?i:this},Mt.$$arity=0),t.def(Qt,"$shift",It=function(t){return a(void 0===t)?a(0===this.length)?i:this.shift():(t=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),a(t<0)&&this.$raise($(te,"ArgumentError"),"negative array size"),a(0===this.length)?[]:this.splice(0,t))},It.$$arity=-1),t.alias(Qt,"size","length"),t.def(Qt,"$shuffle",Nt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Nt.$$arity=-1),t.def(Qt,"$shuffle!",Pt=function(t){var e,r,n,s=this.length;for(void 0!==t&&(t=$(te,"Opal")["$coerce_to?"](t,$(te,"Hash"),"to_hash"))!==i&&(t=t["$[]"]("random"))!==i&&t["$respond_to?"]("rand")&&(e=t);s;)e?((r=e.$rand(s).$to_int())<0&&this.$raise($(te,"RangeError"),"random number too small "+r),r>=s&&this.$raise($(te,"RangeError"),"random number too big "+r)):r=this.$rand(s),n=this[--s],this[s]=this[r],this[r]=n;return this},Pt.$$arity=-1),t.alias(Qt,"slice","[]"),t.def(Qt,"$slice!",Lt=function(t,e){var r=i,n=i,s=i,o=i,l=i;if(r=i,a(void 0===e))if(a($(te,"Range")["$==="](t))){n=t,r=this["$[]"](n),s=$(te,"Opal").$coerce_to(n.$begin(),$(te,"Integer"),"to_int"),o=$(te,"Opal").$coerce_to(n.$end(),$(te,"Integer"),"to_int"),s<0&&(s+=this.length),o<0?o+=this.length:o>=this.length&&(o=this.length-1,n.excl&&(o+=1));var c=o-s;n.excl?o-=1:c+=1,s<this.length&&s>=0&&o<this.length&&o>=0&&c>0&&this.splice(s,c)}else{if((l=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"))<0&&(l+=this.length),l<0||l>=this.length)return i;r=this[l],0===l?this.shift():this.splice(l,1)}else{if(l=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),(e=$(te,"Opal").$coerce_to(e,$(te,"Integer"),"to_int"))<0)return i;r=this["$[]"](l,e),l<0&&(l+=this.length),l+e>this.length&&(e=this.length-l),l<this.length&&l>=0&&this.splice(l,e)}return r},Lt.$$arity=-2),t.def(Qt,"$sort",Dt=function(){var t=Dt.$$p,r=t||i,n=this;return t&&(Dt.$$p=null),t&&(Dt.$$p=null),a(n.length>1)?(r===i&&(r=function(t,e){return t["$<=>"](e)}),n.slice().sort(function(t,s){var o,a,l=r(t,s);return l===i&&n.$raise($(te,"ArgumentError"),"comparison of "+t.$inspect()+" with "+s.$inspect()+" failed"),e(l,0)?1:(a=0,("number"==typeof(o=l)&&"number"==typeof a?o<a:o["$<"](a))?-1:0)})):n},Dt.$$arity=0),t.def(Qt,"$sort!",Ft=function(){var t,e=Ft.$$p,r=e||i;e&&(Ft.$$p=null),e&&(Ft.$$p=null),t=r!==i?c(this.slice(),"sort",[],r.$to_proc()):this.slice().$sort(),this.length=0;for(var n=0,s=t.length;n<s;n++)this.push(t[n]);return this},Ft.$$arity=0),t.def(Qt,"$sort_by!",zt=function(){var t,e=zt.$$p,r=e||i;return e&&(zt.$$p=null),e&&(zt.$$p=null),r===i?c(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(c(this,"sort_by",[],r.$to_proc()))},zt.$$arity=0),t.def(Qt,"$take",Bt=function(t){return t<0&&this.$raise($(te,"ArgumentError")),this.slice(0,t)},Bt.$$arity=1),t.def(Qt,"$take_while",qt=function(){var t=qt.$$p,e=t||i;t&&(qt.$$p=null),t&&(qt.$$p=null);for(var r,n,s=[],$=0,o=this.length;$<o;$++){if(!1===(n=e(r=this[$]))||n===i)return s;s.push(r)}return s},qt.$$arity=0),t.def(Qt,"$to_a",jt=function(){return this},jt.$$arity=0),t.alias(Qt,"to_ary","to_a"),t.def(Qt,"$to_h",Ut=function(){var e,r,n,i,s=this.length,o=l([],{});for(e=0;e<s;e++)(r=$(te,"Opal")["$coerce_to?"](this[e],$(te,"Array"),"to_ary")).$$is_array||this.$raise($(te,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&this.$raise($(te,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},Ut.$$arity=0),t.alias(Qt,"to_s","inspect"),t.def(Qt,"$transpose",Ht=function(){var e,r=i,n=i;return a(this["$empty?"]())?[]:(r=[],n=i,c(this,"each",[],((e=function(s){var o,l,u=e.$$s||this;return null==s&&(s=i),s=a($(te,"Array")["$==="](s))?s.$to_a():$(te,"Opal").$coerce_to(s,$(te,"Array"),"to_ary").$to_a(),n=a(o=n)?o:s.length,a(s.length["$!="](n))&&u.$raise($(te,"IndexError"),"element size differs ("+s.length+" should be "+n+")"),c(s.length,"times",[],((l=function(e){l.$$s;var n,$,o,u=i;return null==e&&(e=i),(a(n=r["$[]"](e))?n:(u=[e,[]],c(r,"[]=",t.to_a(u)),u[($=u.length,o=1,"number"==typeof $&&"number"==typeof o?$-o:$["$-"](o))]))["$<<"](s.$at(e))}).$$s=u,l.$$arity=1,l))}).$$s=this,e.$$arity=1,e)),r)},Ht.$$arity=0),t.def(Qt,"$uniq",Yt=function(){var e=Yt.$$p,r=e||i;e&&(Yt.$$p=null),e&&(Yt.$$p=null);var n,s,$,o,a=l([],{});if(r===i)for(n=0,s=this.length;n<s;n++)$=this[n],void 0===t.hash_get(a,$)&&t.hash_put(a,$,$);else for(n=0,s=this.length;n<s;n++)$=this[n],o=t.yield1(r,$),void 0===t.hash_get(a,o)&&t.hash_put(a,o,$);return ee(a.$values(),this.$class())},Yt.$$arity=0),t.def(Qt,"$uniq!",Gt=function(){var e=Gt.$$p,r=e||i;e&&(Gt.$$p=null),e&&(Gt.$$p=null);var n,s,$,o,a=this.length,c=l([],{});for(n=0,s=a;n<s;n++)$=this[n],o=r===i?$:t.yield1(r,$),void 0!==t.hash_get(c,o)?(this.splice(n,1),s--,n--):t.hash_put(c,o,$);return this.length===a?i:this},Gt.$$arity=0),t.def(Qt,"$unshift",Wt=function(e){for(var r,n=(r=t.slice.call(arguments,0,arguments.length)).length-1;n>=0;n--)this.unshift(r[n]);return this},Wt.$$arity=-1),t.alias(Qt,"prepend","unshift"),t.def(Qt,"$values_at",Vt=function(e){var r,n,s=i;return r=t.slice.call(arguments,0,arguments.length),s=[],c(r,"each",[],((n=function(t){var e,r=n.$$s||this,o=i,l=i,u=i;return null==t&&(t=i),a(t["$is_a?"]($(te,"Range")))?(o=$(te,"Opal").$coerce_to(t.$last(),$(te,"Integer"),"to_int"),(l=$(te,"Opal").$coerce_to(t.$first(),$(te,"Integer"),"to_int"))<0?(l+=r.length,i):(o<0&&(o+=r.length),t["$exclude_end?"]()&&o--,o<l?i:c(l,"upto",[o],((e=function(t){var r=e.$$s||this;return null==t&&(t=i),s["$<<"](r.$at(t))}).$$s=r,e.$$arity=1,e)))):(u=$(te,"Opal").$coerce_to(t,$(te,"Integer"),"to_int"),s["$<<"](r.$at(u)))}).$$s=this,n.$$arity=1,n)),s},Vt.$$arity=-1),t.def(Qt,"$zip",Kt=function(e){var r,n,s=Kt.$$p,o=s||i;s&&(Kt.$$p=null),s&&(Kt.$$p=null),r=t.slice.call(arguments,0,arguments.length);var l,c,u,h,_,d=[],f=this.length;for(h=0,_=r.length;h<_;h++)(c=r[h]).$$is_array||(c.$$is_enumerator?c.$size()===1/0?r[h]=c.$take(f):r[h]=c.$to_a():r[h]=(a(n=$(te,"Opal")["$coerce_to?"](c,$(te,"Array"),"to_ary"))?n:$(te,"Opal")["$coerce_to!"](c,$(te,"Enumerator"),"each")).$to_a());for(u=0;u<f;u++){for(l=[this[u]],h=0,_=r.length;h<_;h++)null==(c=r[h][u])&&(c=i),l[h+1]=c;d[u]=l}if(o!==i){for(u=0;u<f;u++)o(d[u]);return i}return d},Kt.$$arity=-1),t.defs(Qt,"$inherited",Xt=function(t){t.prototype.$to_a=function(){return this.slice(0,this.length)}},Xt.$$arity=1),t.def(Qt,"$instance_variables",Jt=function(){var e,r,n=Jt.$$p,s=i,$=i;for(n&&(Jt.$$p=null),$=0,r=arguments.length,s=new Array(r);$<r;$++)s[$]=arguments[$];return c(c(this,t.find_super_dispatcher(this,"instance_variables",Jt,!1),s,n),"reject",[],((e=function(t){var r;e.$$s;return null==t&&(t=i),a(r=/^@\d+$/.test(t))?r:t["$=="]("@length")}).$$s=this,e.$$arity=1,e))},Jt.$$arity=0),$(te,"Opal").$pristine(Qt.$singleton_class(),"allocate"),$(te,"Opal").$pristine(Qt,"copy_instance_variables","initialize_dup"),t.def(Qt,"$pack",Zt=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Zt.$$arity=-1),i&&"pack"}(n[0],Array,n)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),n.$require("corelib/enumerable"),function(n,i,u){function h(){}var _,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut,ht,_t,dt,ft,pt,mt,yt,gt,bt,vt,xt=h=o(n,null,"Hash",h),wt=xt.prototype,kt=[xt].concat(u);return xt.$include($(kt,"Enumerable")),wt.$$is_hash=!0,t.defs(xt,"$[]",_=function(e){var r,n,i,o=(r=t.slice.call(arguments,0,arguments.length)).length;if(1===o){if((n=$(kt,"Opal")["$coerce_to?"](r["$[]"](0),$(kt,"Hash"),"to_hash"))!==s)return this.$allocate()["$merge!"](n);for((r=$(kt,"Opal")["$coerce_to?"](r["$[]"](0),$(kt,"Array"),"to_ary"))===s&&this.$raise($(kt,"ArgumentError"),"odd number of arguments for Hash"),o=r.length,n=this.$allocate(),i=0;i<o;i++)if(r[i].$$is_array)switch(r[i].length){case 1:n.$store(r[i][0],s);break;case 2:n.$store(r[i][0],r[i][1]);break;default:this.$raise($(kt,"ArgumentError"),"invalid number of elements ("+r[i].length+" for 1..2)")}return n}for(o%2!=0&&this.$raise($(kt,"ArgumentError"),"odd number of arguments for Hash"),n=this.$allocate(),i=0;i<o;i+=2)n.$store(r[i],r[i+1]);return n},_.$$arity=-1),t.defs(xt,"$allocate",d=function(){var e=new this;return t.hash_init(e),e.$$none=s,e.$$proc=s,e},d.$$arity=0),t.defs(xt,"$try_convert",f=function(t){return $(kt,"Opal")["$coerce_to?"](t,$(kt,"Hash"),"to_hash")},f.$$arity=1),t.def(xt,"$initialize",p=function(t){var e=p.$$p,r=e||s;return e&&(p.$$p=null),e&&(p.$$p=null),void 0!==t&&r!==s&&this.$raise($(kt,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?s:t,this.$$proc=r,this},p.$$arity=-1),t.def(xt,"$==",m=function(e){if(this===e)return!0;if(!e.$$is_hash)return!1;if(this.$$keys.length!==e.$$keys.length)return!1;for(var r,n,i,s=0,$=this.$$keys,o=$.length;s<o;s++)if((r=$[s]).$$is_string?(n=this.$$smap[r],i=e.$$smap[r]):(n=r.value,i=t.hash_get(e,r.key)),void 0===i||!n["$eql?"](i))return!1;return!0},m.$$arity=1),t.def(xt,"$>=",y=function(t){var e,r=s;return t=$(kt,"Opal")["$coerce_to!"](t,$(kt,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(r=!0,a(t,"each",[],((e=function(t,n){var i,$=e.$$s||this;null==t&&(t=s),null==n&&(n=s),null!=(i=$.$fetch(t,null))&&i===n||(r=!1)}).$$s=this,e.$$arity=2,e)),r)},y.$$arity=1),t.def(xt,"$>",g=function(t){return t=$(kt,"Opal")["$coerce_to!"](t,$(kt,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&e(this,t)},g.$$arity=1),t.def(xt,"$<",b=function(t){var e,r;return t=$(kt,"Opal")["$coerce_to!"](t,$(kt,"Hash"),"to_hash"),r=this,"number"==typeof(e=t)&&"number"==typeof r?e>r:e["$>"](r)},b.$$arity=1),t.def(xt,"$<=",v=function(t){return e(t=$(kt,"Opal")["$coerce_to!"](t,$(kt,"Hash"),"to_hash"),this)},v.$$arity=1),t.def(xt,"$[]",x=function(e){var r=t.hash_get(this,e);return void 0!==r?r:this.$default(e)},x.$$arity=1),t.def(xt,"$[]=",w=function(e,r){return t.hash_put(this,e,r),r},w.$$arity=2),t.def(xt,"$assoc",k=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if((e=n[r]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return s},k.$$arity=1),t.def(xt,"$clear",E=function(){return t.hash_init(this),this},E.$$arity=0),t.def(xt,"$clone",A=function(){var e=new this.$$class;return t.hash_init(e),t.hash_clone(this,e),e},A.$$arity=0),t.def(xt,"$compact",O=function(){for(var e,r,n=t.hash(),i=0,$=this.$$keys,o=$.length;i<o;i++)(e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r!==s&&t.hash_put(n,e,r);return n},O.$$arity=0),t.def(xt,"$compact!",S=function(){for(var e,r,n=!1,i=0,$=this.$$keys,o=$.length;i<o;i++)(e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r===s&&void 0!==t.hash_delete(this,e)&&(n=!0,o--,i--);return n?this:s},S.$$arity=0),t.def(xt,"$compare_by_identity",R=function(){var e,r,n,i,s=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(i=l([],{}).$compare_by_identity(),e=0,r=s.length;e<r;e++)(n=s[e]).$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get(this,n));return this.$$by_identity=!0,this.$$map=i.$$map,this.$$smap=i.$$smap,this},R.$$arity=0),t.def(xt,"$compare_by_identity?",C=function(){return!0===this.$$by_identity},C.$$arity=0),t.def(xt,"$default",T=function(t){return void 0!==t&&this.$$proc!==s&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?s:this.$$none},T.$$arity=-1),t.def(xt,"$default=",M=function(t){return this.$$proc=s,this.$$none=t,t},M.$$arity=1),t.def(xt,"$default_proc",I=function(){return void 0!==this.$$proc?this.$$proc:s},I.$$arity=0),t.def(xt,"$default_proc=",N=function(t){var e=t;return e!==s&&(e=$(kt,"Opal")["$coerce_to!"](e,$(kt,"Proc"),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise($(kt,"TypeError"),"default_proc takes two arguments"),this.$$none=s,this.$$proc=e,t},N.$$arity=1),t.def(xt,"$delete",P=function(e){var r=P.$$p,n=r||s;r&&(P.$$p=null),r&&(P.$$p=null);var i=t.hash_delete(this,e);return void 0!==i?i:n!==s?t.yield1(n,e):s},P.$$arity=1),t.def(xt,"$delete_if",L=function(){var e,r=L.$$p,n=r||s;if(r&&(L.$$p=null),r&&(L.$$p=null),!c(n))return a(this,"enum_for",["delete_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=n(i,$))&&o!==s&&void 0!==t.hash_delete(this,i)&&(h--,l--);return this},L.$$arity=0),t.alias(xt,"dup","clone"),t.def(xt,"$dig",D=function(e,r){var n,i=s;return n=t.slice.call(arguments,1,arguments.length),(i=this["$[]"](e))===s||0===n.length?i:(c(i["$respond_to?"]("dig"))||this.$raise($(kt,"TypeError"),i.$class()+" does not have #dig method"),a(i,"dig",t.to_a(n)))},D.$$arity=-2),t.def(xt,"$each",F=function(){var e,r=F.$$p,n=r||s;if(r&&(F.$$p=null),r&&(F.$$p=null),!c(n))return a(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o=0,l=this.$$keys,u=l.length;o<u;o++)(i=l[o]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),t.yield1(n,[i,$]);return this},F.$$arity=0),t.def(xt,"$each_key",z=function(){var t,e=z.$$p,r=e||s;if(e&&(z.$$p=null),e&&(z.$$p=null),!c(r))return a(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.$$keys,o=$.length;i<o;i++)r((n=$[i]).$$is_string?n:n.key);return this},z.$$arity=0),t.alias(xt,"each_pair","each"),t.def(xt,"$each_value",B=function(){var t,e=B.$$p,r=e||s;if(e&&(B.$$p=null),e&&(B.$$p=null),!c(r))return a(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.$$keys,o=$.length;i<o;i++)r((n=$[i]).$$is_string?this.$$smap[n]:n.value);return this},B.$$arity=0),t.def(xt,"$empty?",q=function(){return 0===this.$$keys.length},q.$$arity=0),t.alias(xt,"eql?","=="),t.def(xt,"$fetch",j=function(e,r){var n=j.$$p,i=n||s;n&&(j.$$p=null),n&&(j.$$p=null);var o=t.hash_get(this,e);return void 0!==o?o:i!==s?i(e):void 0!==r?r:this.$raise($(kt,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:this})))},j.$$arity=-2),t.def(xt,"$fetch_values",U=function(e){var r,n,i=U.$$p,$=i||s;return i&&(U.$$p=null),i&&(U.$$p=null),r=t.slice.call(arguments,0,arguments.length),a(r,"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=s),a(e,"fetch",[t],$.$to_proc())}).$$s=this,n.$$arity=1,n))},U.$$arity=-1),t.def(xt,"$flatten",H=function(t){null==t&&(t=1),t=$(kt,"Opal")["$coerce_to!"](t,$(kt,"Integer"),"to_int");for(var e,r,n=[],i=0,s=this.$$keys,o=s.length;i<o;i++)if((e=s[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array){if(1===t){n.push(r);continue}n=n.concat(r.$flatten(t-2))}else n.push(r);return n},H.$$arity=-1),t.def(xt,"$has_key?",Y=function(e){return void 0!==t.hash_get(this,e)},Y.$$arity=1),t.def(xt,"$has_value?",G=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if(((e=n[r]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},G.$$arity=1),t.def(xt,"$hash",W=function(){var e,r,n=void 0===t.hash_ids,i=this.$object_id(),s=["Hash"];try{if(n&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],this["$eql?"](r))return"self";t.hash_ids[i]=this;for(var $=0,o=this.$$keys,a=o.length;$<a;$++)(e=o[$]).$$is_string?s.push([e,this.$$smap[e].$hash()]):s.push([e.key_hash,e.value.$hash()]);return s.sort().join()}finally{n&&(t.hash_ids=void 0)}},W.$$arity=0),t.alias(xt,"include?","has_key?"),t.def(xt,"$index",V=function(t){for(var e,r,n=0,i=this.$$keys,$=i.length;n<$;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return s},V.$$arity=1),t.def(xt,"$indexes",K=function(e){for(var r,n,i,s=[],$=0,o=(r=t.slice.call(arguments,0,arguments.length)).length;$<o;$++)n=r[$],void 0!==(i=t.hash_get(this,n))?s.push(i):s.push(this.$default());return s},K.$$arity=-1),t.alias(xt,"indices","indexes"),t.def(xt,"$inspect",X=function(){var t=void 0===vt,e=this.$object_id(),r=[];try{if(t&&(vt={}),vt.hasOwnProperty(e))return"{...}";vt[e]=!0;for(var n,i,s=0,$=this.$$keys,o=$.length;s<o;s++)(n=$[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),r.push(n.$inspect()+"=>"+i.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(vt=void 0)}},X.$$arity=0),t.def(xt,"$invert",J=function(){for(var e,r,n=t.hash(),i=0,s=this.$$keys,$=s.length;i<$;i++)(e=s[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),t.hash_put(n,r,e);return n},J.$$arity=0),t.def(xt,"$keep_if",Z=function(){var e,r=Z.$$p,n=r||s;if(r&&(Z.$$p=null),r&&(Z.$$p=null),!c(n))return a(this,"enum_for",["keep_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=n(i,$))&&o!==s||void 0!==t.hash_delete(this,i)&&(h--,l--);return this},Z.$$arity=0),t.alias(xt,"key","index"),t.alias(xt,"key?","has_key?"),t.def(xt,"$keys",Q=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(t):e.push(t.key);return e},Q.$$arity=0),t.def(xt,"$length",tt=function(){return this.$$keys.length},tt.$$arity=0),t.alias(xt,"member?","has_key?"),t.def(xt,"$merge",et=function(t){var e=et.$$p,r=e||s;return e&&(et.$$p=null),e&&(et.$$p=null),a(this.$dup(),"merge!",[t],r.$to_proc())},et.$$arity=1),t.def(xt,"$merge!",rt=function(e){var r=rt.$$p,n=r||s;r&&(rt.$$p=null),r&&(rt.$$p=null),e.$$is_hash||(e=$(kt,"Opal")["$coerce_to!"](e,$(kt,"Hash"),"to_hash"));var i,o,a,l,c=e.$$keys,u=c.length;if(n===s){for(i=0;i<u;i++)(o=c[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),t.hash_put(this,o,l);return this}for(i=0;i<u;i++)(o=c[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),void 0!==(a=t.hash_get(this,o))?t.hash_put(this,o,n(o,a,l)):t.hash_put(this,o,l);return this},rt.$$arity=1),t.def(xt,"$rassoc",nt=function(t){for(var e,r,n=0,i=this.$$keys,$=i.length;n<$;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return s},nt.$$arity=1),t.def(xt,"$rehash",it=function(){return t.hash_rehash(this),this},it.$$arity=0),t.def(xt,"$reject",st=function(){var e,r=st.$$p,n=r||s;if(r&&(st.$$p=null),r&&(st.$$p=null),!c(n))return a(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,l=t.hash(),u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=n(i,$))&&o!==s||t.hash_put(l,i,$);return l},st.$$arity=0),t.def(xt,"$reject!",$t=function(){var e,r=$t.$$p,n=r||s;if(r&&($t.$$p=null),r&&($t.$$p=null),!c(n))return a(this,"enum_for",["reject!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,l=!1,u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=n(i,$))&&o!==s&&void 0!==t.hash_delete(this,i)&&(l=!0,_--,u--);return l?this:s},$t.$$arity=0),t.def(xt,"$replace",ot=function(e){var n=s;e=$(kt,"Opal")["$coerce_to!"](e,$(kt,"Hash"),"to_hash"),t.hash_init(this);for(var i,o,l=0,u=e.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?o=e.$$smap[i]:(o=i.value,i=i.key),t.hash_put(this,i,o);return c(e.$default_proc())?(n=[e.$default_proc()],a(this,"default_proc=",t.to_a(n)),n[r(n.length,1)]):(n=[e.$default()],a(this,"default=",t.to_a(n)),n[r(n.length,1)]),this},ot.$$arity=1),t.def(xt,"$select",at=function(){var e,r=at.$$p,n=r||s;if(r&&(at.$$p=null),r&&(at.$$p=null),!c(n))return a(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,l=t.hash(),u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=n(i,$))&&o!==s&&t.hash_put(l,i,$);return l},at.$$arity=0),t.def(xt,"$select!",lt=function(){var e,r=lt.$$p,n=r||s;if(r&&(lt.$$p=null),r&&(lt.$$p=null),!c(n))return a(this,"enum_for",["select!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,l=s,u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=n(i,$))&&o!==s||(void 0!==t.hash_delete(this,i)&&(_--,u--),l=this);return l},lt.$$arity=0),t.def(xt,"$shift",ct=function(){var e,r=this.$$keys;return r.length>0?[e=(e=r[0]).$$is_string?e:e.key,t.hash_delete(this,e)]:this.$default(s)},ct.$$arity=0),t.alias(xt,"size","length"),t.def(xt,"$slice",ut=function(e){var r;r=t.slice.call(arguments,0,arguments.length);for(var n=t.hash(),i=0,s=r.length;i<s;i++){var $=r[i],o=t.hash_get(this,$);void 0!==o&&t.hash_put(n,$,o)}return n},ut.$$arity=-1),t.alias(xt,"store","[]="),t.def(xt,"$to_a",ht=function(){for(var t,e,r=[],n=0,i=this.$$keys,s=i.length;n<s;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},ht.$$arity=0),t.def(xt,"$to_h",_t=function(){if(this.$$class===t.Hash)return this;var e=new t.Hash;return t.hash_init(e),t.hash_clone(this,e),e},_t.$$arity=0),t.def(xt,"$to_hash",dt=function(){return this},dt.$$arity=0),t.def(xt,"$to_proc",ft=function(){var t;return a(this,"proc",[],((t=function(e){var r=t.$$s||this;return null==e&&r.$raise($(kt,"ArgumentError"),"no key given"),r["$[]"](e)}).$$s=this,t.$$arity=-1,t))},ft.$$arity=0),t.alias(xt,"to_s","inspect"),t.def(xt,"$transform_keys",pt=function(){var e,r=pt.$$p,n=r||s;if(r&&(pt.$$p=null),r&&(pt.$$p=null),!c(n))return a(this,"enum_for",["transform_keys"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o=t.hash(),l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),i=t.yield1(n,i),t.hash_put(o,i,$);return o},pt.$$arity=0),t.def(xt,"$transform_keys!",mt=function(){var e,r=mt.$$p,n=r||s;if(r&&(mt.$$p=null),r&&(mt.$$p=null),!c(n))return a(this,"enum_for",["transform_keys!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i,$,o,l,u=t.slice.call(this.$$keys),h=u.length;for(i=0;i<h;i++)($=u[i]).$$is_string?o=this.$$smap[$]:(o=$.value,$=$.key),l=t.yield1(n,$),t.hash_delete(this,$),t.hash_put(this,l,o);return this},mt.$$arity=0),t.def(xt,"$transform_values",yt=function(){var e,r=yt.$$p,n=r||s;if(r&&(yt.$$p=null),r&&(yt.$$p=null),!c(n))return a(this,"enum_for",["transform_values"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o=t.hash(),l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),$=t.yield1(n,$),t.hash_put(o,i,$);return o},yt.$$arity=0),t.def(xt,"$transform_values!",gt=function(){var e,r=gt.$$p,n=r||s;if(r&&(gt.$$p=null),r&&(gt.$$p=null),!c(n))return a(this,"enum_for",["transform_values!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o=0,l=this.$$keys,u=l.length;o<u;o++)(i=l[o]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),$=t.yield1(n,$),t.hash_put(this,i,$);return this},gt.$$arity=0),t.alias(xt,"update","merge!"),t.alias(xt,"value?","has_value?"),t.alias(xt,"values_at","indexes"),t.def(xt,"$values",bt=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},bt.$$arity=0),s&&"values"}(i[0],0,i)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var o=t.top,a=[],l=t.nil,c=t.const_get_qualified,u=t.const_get_relative,h=(t.breaker,t.slice,t.klass),_=t.truthy,d=t.send,f=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),o.$require("corelib/numeric"),function(o,a,p){function m(){}var y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt,it,st,$t,ot,at,lt,ct,ut,ht,_t,dt,ft,pt,mt,yt,gt,bt,vt,xt,wt,kt,Et,At,Ot,St,Rt,Ct,Tt,Mt,It,Nt,Pt,Lt=m=h(o,a,"Number",m),Dt=(Lt.prototype,[Lt].concat(p));u(Dt,"Opal").$bridge(Number,Lt),t.defineProperty(Number.prototype,"$$is_number",!0),Lt.$$is_number_class=!0,function(e,r){e.prototype;var n,i=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u(i,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(Lt),Dt),t.def(Lt,"$coerce",y=function(t){if(t===l)this.$raise(u(Dt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(u(Dt,"TypeError"),"can't convert "+t.$class()+" into Float")}},y.$$arity=1),t.def(Lt,"$__id__",g=function(){return 2*this+1},g.$$arity=0),t.alias(Lt,"object_id","__id__"),t.def(Lt,"$+",b=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},b.$$arity=1),t.def(Lt,"$-",v=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},v.$$arity=1),t.def(Lt,"$*",x=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},x.$$arity=1),t.def(Lt,"$/",w=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},w.$$arity=1),t.alias(Lt,"fdiv","/"),t.def(Lt,"$%",k=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(u(Dt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},k.$$arity=1),t.def(Lt,"$&",E=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},E.$$arity=1),t.def(Lt,"$|",A=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},A.$$arity=1),t.def(Lt,"$^",O=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},O.$$arity=1),t.def(Lt,"$<",S=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},S.$$arity=1),t.def(Lt,"$<=",R=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},R.$$arity=1),t.def(Lt,"$>",C=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},C.$$arity=1),t.def(Lt,"$>=",T=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},T.$$arity=1);t.def(Lt,"$<=>",M=function(e){try{return function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?l:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)}(this,e)}catch(e){if(!t.rescue(e,[u(Dt,"ArgumentError")]))throw e;try{return l}finally{t.pop_exception()}}},M.$$arity=1),t.def(Lt,"$<<",I=function(t){return(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"))>0?this<<t:this>>-t},I.$$arity=1),t.def(Lt,"$>>",N=function(t){return(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"))>0?this>>t:this<<-t},N.$$arity=1),t.def(Lt,"$[]",P=function(t){return(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"))<0?0:t>=32?this<0?1:0:this>>t&1},P.$$arity=1),t.def(Lt,"$+@",L=function(){return+this},L.$$arity=0),t.def(Lt,"$-@",D=function(){return-this},D.$$arity=0),t.def(Lt,"$~",F=function(){return~this},F.$$arity=0),t.def(Lt,"$**",z=function(t){var n,i;return _(u(Dt,"Integer")["$==="](t))?_(_(n=u(Dt,"Integer")["$==="](this)["$!"]())?n:e(t,0))?Math.pow(this,t):u(Dt,"Rational").$new(this,1)["$**"](t):_((n=r(this,0))?_(i=u(Dt,"Float")["$==="](t))?i:u(Dt,"Rational")["$==="](t):r(this,0))?u(Dt,"Complex").$new(this,0)["$**"](t.$to_f()):_(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},z.$$arity=1),t.def(Lt,"$===",B=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},B.$$arity=1),t.def(Lt,"$==",q=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},q.$$arity=1),t.def(Lt,"$abs",j=function(){return Math.abs(this)},j.$$arity=0),t.def(Lt,"$abs2",U=function(){return Math.abs(this*this)},U.$$arity=0),t.def(Lt,"$allbits?",H=function(t){return(this&(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int")))==t},H.$$arity=1),t.def(Lt,"$anybits?",Y=function(t){return 0!=(this&(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int")))},Y.$$arity=1),t.def(Lt,"$angle",G=function(){return _(this["$nan?"]())?this:0==this?1/this>0?0:Math.PI:this<0?Math.PI:0},G.$$arity=0),t.alias(Lt,"arg","angle"),t.alias(Lt,"phase","angle"),t.def(Lt,"$bit_length",W=function(){if(_(u(Dt,"Integer")["$==="](this))||this.$raise(u(Dt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=this<0?~this:this;0!=e;)t+=1,e>>>=1;return t},W.$$arity=0),t.def(Lt,"$ceil",V=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.ceil(e*r)/r;return e%1==0&&(n=Math.round(n)),n},V.$$arity=-1),t.def(Lt,"$chr",K=function(t){return String.fromCharCode(this)},K.$$arity=-1),t.def(Lt,"$denominator",X=function(){var e,r,n=X.$$p,i=l,s=l;for(n&&(X.$$p=null),s=0,r=arguments.length,i=new Array(r);s<r;s++)i[s]=arguments[s];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?1:d(this,t.find_super_dispatcher(this,"denominator",X,!1),i,n)},X.$$arity=0),t.def(Lt,"$downto",J=function(t){var r,s=J.$$p,$=s||l;if(s&&(J.$$p=null),s&&(J.$$p=null),$===l)return d(this,"enum_for",["downto",t],((r=function(){var s=r.$$s||this;return _(u(Dt,"Numeric")["$==="](t))||s.$raise(u(Dt,"ArgumentError"),"comparison of "+s.$class()+" with "+t.$class()+" failed"),_(e(t,s))?0:n(i(s,t),1)}).$$s=this,r.$$arity=0,r));t.$$is_number||this.$raise(u(Dt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o>=t;o--)$(o);return this},J.$$arity=1),t.alias(Lt,"eql?","=="),t.def(Lt,"$equal?",Z=function(t){var e;return _(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},Z.$$arity=1),t.def(Lt,"$even?",Q=function(){return this%2==0},Q.$$arity=0),t.def(Lt,"$floor",tt=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.floor(e*r)/r;return e%1==0&&(n=Math.round(n)),n},tt.$$arity=-1),t.def(Lt,"$gcd",et=function(t){_(u(Dt,"Integer")["$==="](t))||this.$raise(u(Dt,"TypeError"),"not an integer");for(var e=Math.abs(this),r=Math.abs(t);e>0;){var n=e;e=r%e,r=n}return r},et.$$arity=1),t.def(Lt,"$gcdlcm",rt=function(t){return[this.$gcd(),this.$lcm()]},rt.$$arity=1),t.def(Lt,"$integer?",nt=function(){return this%1==0},nt.$$arity=0),t.def(Lt,"$is_a?",it=function(e){var r,n=it.$$p,i=l,s=l;for(n&&(it.$$p=null),s=0,r=arguments.length,i=new Array(r);s<r;s++)i[s]=arguments[s];return!!_(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](this):e["$=="](u(Dt,"Integer")))||(!!_(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](this):e["$=="](u(Dt,"Integer")))||(!!_(e["$=="](u(Dt,"Float"))?u(Dt,"Float")["$==="](this):e["$=="](u(Dt,"Float")))||d(this,t.find_super_dispatcher(this,"is_a?",it,!1),i,n)))},it.$$arity=1),t.alias(Lt,"kind_of?","is_a?"),t.def(Lt,"$instance_of?",st=function(e){var r,n=st.$$p,i=l,s=l;for(n&&(st.$$p=null),s=0,r=arguments.length,i=new Array(r);s<r;s++)i[s]=arguments[s];return!!_(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](this):e["$=="](u(Dt,"Integer")))||(!!_(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](this):e["$=="](u(Dt,"Integer")))||(!!_(e["$=="](u(Dt,"Float"))?u(Dt,"Float")["$==="](this):e["$=="](u(Dt,"Float")))||d(this,t.find_super_dispatcher(this,"instance_of?",st,!1),i,n)))},st.$$arity=1),t.def(Lt,"$lcm",$t=function(t){return _(u(Dt,"Integer")["$==="](t))||this.$raise(u(Dt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},$t.$$arity=1),t.alias(Lt,"magnitude","abs"),t.alias(Lt,"modulo","%"),t.def(Lt,"$next",ot=function(){return this+1},ot.$$arity=0),t.def(Lt,"$nobits?",at=function(t){return 0==(this&(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int")))},at.$$arity=1),t.def(Lt,"$nonzero?",lt=function(){return 0==this?l:this},lt.$$arity=0),t.def(Lt,"$numerator",ct=function(){var e,r,n=ct.$$p,i=l,s=l;for(n&&(ct.$$p=null),s=0,r=arguments.length,i=new Array(r);s<r;s++)i[s]=arguments[s];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?this:d(this,t.find_super_dispatcher(this,"numerator",ct,!1),i,n)},ct.$$arity=0),t.def(Lt,"$odd?",ut=function(){return this%2!=0},ut.$$arity=0),t.def(Lt,"$ord",ht=function(){return this},ht.$$arity=0),t.def(Lt,"$pow",_t=function(t,e){return 0==this&&this.$raise(u(Dt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(u(Dt,"Integer")["$==="](t)||this.$raise(u(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&this.$raise(u(Dt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),u(Dt,"Integer")["$==="](e)||this.$raise(u(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(u(Dt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},_t.$$arity=-2),t.def(Lt,"$pred",dt=function(){return this-1},dt.$$arity=0),t.def(Lt,"$quo",ft=function(e){var r,n=ft.$$p,i=l,$=l;for(n&&(ft.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return _(u(Dt,"Integer")["$==="](this))?d(this,t.find_super_dispatcher(this,"quo",ft,!1),i,n):s(this,e)},ft.$$arity=1),t.def(Lt,"$rationalize",pt=function(e){var r,n,s=l,o=l;return arguments.length>1&&this.$raise(u(Dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(u(Dt,"Integer")["$==="](this))?u(Dt,"Rational").$new(this,1):_(this["$infinite?"]())?this.$raise(u(Dt,"FloatDomainError"),"Infinity"):_(this["$nan?"]())?this.$raise(u(Dt,"FloatDomainError"),"NaN"):_(null==e)?(n=u(Dt,"Math").$frexp(this),s=null==(r=t.to_ary(n))[0]?l:r[0],o=null==r[1]?l:r[1],s=u(Dt,"Math").$ldexp(s,c(u(Dt,"Float"),"MANT_DIG")).$to_i(),o=i(o,c(u(Dt,"Float"),"MANT_DIG")),u(Dt,"Rational").$new($(2,s),1["$<<"](i(1,o))).$rationalize(u(Dt,"Rational").$new(1,1["$<<"](i(1,o))))):this.$to_r().$rationalize(e)},pt.$$arity=-1),t.def(Lt,"$remainder",mt=function(t){return i(this,$(t,s(this,t).$truncate()))},mt.$$arity=1),t.def(Lt,"$round",yt=function($){var o,a,h,d,f=l;if(_(u(Dt,"Integer")["$==="](this))){if(_(null==$))return this;if(_(_(o=u(Dt,"Float")["$==="]($))?$["$infinite?"]():o)&&this.$raise(u(Dt,"RangeError"),"Infinity"),$=u(Dt,"Opal")["$coerce_to!"]($,u(Dt,"Integer"),"to_int"),_(r($,c(u(Dt,"Integer"),"MIN")))&&this.$raise(u(Dt,"RangeError"),"out of bounds"),_($>=0))return this;if(.415241*($=$["$-@"]())-.125>this.$size())return 0;var p=Math.pow(10,$),m=Math.floor((Math.abs(m)+p/2)/p)*p;return this<0?-m:m}if(_(_(o=this["$nan?"]())?null==$:o)&&this.$raise(u(Dt,"FloatDomainError"),"NaN"),$=u(Dt,"Opal")["$coerce_to!"]($||0,u(Dt,"Integer"),"to_int"),_((d=0,"number"==typeof(h=$)&&"number"==typeof d?h<=d:h["$<="](d))))_(this["$nan?"]())?this.$raise(u(Dt,"RangeError"),"NaN"):_(this["$infinite?"]())&&this.$raise(u(Dt,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(this);if(_(_(o=this["$nan?"]())?o:this["$infinite?"]()))return this}return a=u(Dt,"Math").$frexp(this),null==(o=t.to_ary(a))[0]?l:o[0],f=null==o[1]?l:o[1],_(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}($,i(n(c(u(Dt,"Float"),"DIG"),2),_(e(f,0))?s(f,4):i(s(f,3),1))))?this:_(r($,(_(e(f,0))?n(s(f,3),1):s(f,4))["$-@"]()))?0:Math.round(this*Math.pow(10,$))/Math.pow(10,$)},yt.$$arity=-1),t.def(Lt,"$step",gt=function(e,r,n){var i,s,$,o,a,h,_,p=gt.$$p,m=p||l,y=this,g=l,b=l;if(p&&(gt.$$p=null),p&&(gt.$$p=null),i=t.slice.call(arguments,0,arguments.length),null==(s=t.extract_kwargs(i)))s=f([],{});else if(!s.$$is_hash)throw t.ArgumentError.$new("expected kwargs");function v(){void 0!==a&&($=a),void 0===$&&($=l),o===l&&y.$raise(u(Dt,"TypeError"),"step must be numeric"),0===o&&y.$raise(u(Dt,"ArgumentError"),"step can't be 0"),void 0!==h&&(o=h),o!==l&&null!=o||(o=1);var t=o["$<=>"](0);t===l&&y.$raise(u(Dt,"ArgumentError"),"0 can't be coerced into "+o.$class()),$!==l&&null!=$||($=t>0?c(u(Dt,"Float"),"INFINITY"):c(u(Dt,"Float"),"INFINITY")["$-@"]()),u(Dt,"Opal").$compare(y,$)}function x(){if(o>0&&y>$||o<0&&y<$)return 0;if(o===1/0||o===-1/0)return 1;var t=Math.abs,e=Math.floor,r=(t(y)+t($)+t($-y))/t(o)*c(u(Dt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),e(($-y)/o+r)+1)}function w(){if(v(),0===o)return 1/0;if(o%1!=0)return x();if(o>0&&y>$||o<0&&y<$)return 0;var t=Math.ceil,e=Math.abs;return t((e(y-$)+1)/e(o))}if(i.length>0&&($=i[0],i.splice(0,1)),i.length>0&&(o=i[0],i.splice(0,1)),a=s.$$smap.to,h=s.$$smap.by,void 0!==$&&void 0!==a&&y.$raise(u(Dt,"ArgumentError"),"to is given twice"),void 0!==o&&void 0!==h&&y.$raise(u(Dt,"ArgumentError"),"step is given twice"),m===l)return g=[],b=f([],{}),void 0!==$&&g.push($),void 0!==o&&g.push(o),void 0!==a&&t.hash_put(b,"to",a),void 0!==h&&t.hash_put(b,"by",h),b["$any?"]()&&g.push(b),d(y,"enum_for",["step"].concat(t.to_a(g)),((_=function(){_.$$s;return w()}).$$s=y,_.$$arity=0,_));if(v(),0===o)for(;;)m(y);if(y%1!=0||$%1!=0||o%1!=0){var k=x();if(k>0)if(o===1/0||o===-1/0)m(y);else{var E,A=0;if(o>0)for(;A<k;)$<(E=A*o+y)&&(E=$),m(E),A+=1;else for(;A<k;)$>(E=A*o+y)&&(E=$),m(E),A+=1}}else{var O=y;if(o>0)for(;O<=$;)m(O),O+=o;else for(;O>=$;)m(O),O+=o}return y},gt.$$arity=-1),t.alias(Lt,"succ","next"),t.def(Lt,"$times",bt=function(){var t,e=bt.$$p,r=e||l;if(e&&(bt.$$p=null),e&&(bt.$$p=null),!_(r))return d(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var n=0;n<this;n++)r(n);return this},bt.$$arity=0),t.def(Lt,"$to_f",vt=function(){return this},vt.$$arity=0),t.def(Lt,"$to_i",xt=function(){return parseInt(this,10)},xt.$$arity=0),t.alias(Lt,"to_int","to_i"),t.def(Lt,"$to_r",wt=function(){var e,r,n=l,s=l;return _(u(Dt,"Integer")["$==="](this))?u(Dt,"Rational").$new(this,1):(r=u(Dt,"Math").$frexp(this),n=null==(e=t.to_ary(r))[0]?l:e[0],s=null==e[1]?l:e[1],n=u(Dt,"Math").$ldexp(n,c(u(Dt,"Float"),"MANT_DIG")).$to_i(),s=i(s,c(u(Dt,"Float"),"MANT_DIG")),$(n,c(u(Dt,"Float"),"RADIX")["$**"](s)).$to_r())},wt.$$arity=0),t.def(Lt,"$to_s",kt=function(t){var n;return null==t&&(t=10),t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"),_(_(n=r(t,2))?n:e(t,36))&&this.$raise(u(Dt,"ArgumentError"),"invalid radix "+t),this.toString(t)},kt.$$arity=-1),t.def(Lt,"$truncate",Et=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=parseInt(e*r,10)/r;return e%1==0&&(n=Math.round(n)),n},Et.$$arity=-1),t.alias(Lt,"inspect","to_s"),t.def(Lt,"$digits",At=function(t){null==t&&(t=10),r(this,0)&&this.$raise(c(u(Dt,"Math"),"DomainError"),"out of domain"),t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"),_(r(t,2))&&this.$raise(u(Dt,"ArgumentError"),"invalid radix "+t);for(var e=this,n=[];0!==e;)n.push(e%t),e=parseInt(e/t,10);return n},At.$$arity=-1),t.def(Lt,"$divmod",Ot=function(e){var r,n,i=Ot.$$p,s=l,$=l;for(i&&(Ot.$$p=null),$=0,n=arguments.length,s=new Array(n);$<n;$++)s[$]=arguments[$];return _(_(r=this["$nan?"]())?r:e["$nan?"]())?this.$raise(u(Dt,"FloatDomainError"),"NaN"):_(this["$infinite?"]())?this.$raise(u(Dt,"FloatDomainError"),"Infinity"):d(this,t.find_super_dispatcher(this,"divmod",Ot,!1),s,i)},Ot.$$arity=1),t.def(Lt,"$upto",St=function(t){var e,s=St.$$p,$=s||l;if(s&&(St.$$p=null),s&&(St.$$p=null),$===l)return d(this,"enum_for",["upto",t],((e=function(){var s=e.$$s||this;return _(u(Dt,"Numeric")["$==="](t))||s.$raise(u(Dt,"ArgumentError"),"comparison of "+s.$class()+" with "+t.$class()+" failed"),_(r(t,s))?0:n(i(t,s),1)}).$$s=this,e.$$arity=0,e));t.$$is_number||this.$raise(u(Dt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o<=t;o++)$(o);return this},St.$$arity=1),t.def(Lt,"$zero?",Rt=function(){return 0==this},Rt.$$arity=0),t.def(Lt,"$size",Ct=function(){return 4},Ct.$$arity=0),t.def(Lt,"$nan?",Tt=function(){return isNaN(this)},Tt.$$arity=0),t.def(Lt,"$finite?",Mt=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},Mt.$$arity=0),t.def(Lt,"$infinite?",It=function(){return this==1/0?1:this==-1/0?-1:l},It.$$arity=0),t.def(Lt,"$positive?",Nt=function(){return 0!=this&&(this==1/0||1/this>0)},Nt.$$arity=0),t.def(Lt,"$negative?",Pt=function(){return this==-1/0||1/this<0},Pt.$$arity=0)}(a[0],u(a,"Numeric"),a),t.const_set(a[0],"Fixnum",u(a,"Number")),function(e,r,n){function i(){}var s=i=h(e,r,"Integer",i),$=(s.prototype,[s].concat(n));s.$$is_number_class=!0,function(e,r){e.prototype;var n,i,s,$=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u($,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1==0},i.$$arity=1),t.def(e,"$sqrt",s=function(t){return(t=u($,"Opal")["$coerce_to!"](t,u($,"Integer"),"to_int"))<0&&this.$raise(c(u($,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},s.$$arity=1)}(t.get_singleton_class(s),$),t.const_set($[0],"MAX",Math.pow(2,30)-1),t.const_set($[0],"MIN",-Math.pow(2,30))}(a[0],u(a,"Numeric"),a),function(e,r,n){function i(){}var s=i=h(e,r,"Float",i),$=(s.prototype,[s].concat(n));return s.$$is_number_class=!0,function(e,r){e.prototype;var n,i,s=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u(s,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1)}(t.get_singleton_class(s),$),t.const_set($[0],"INFINITY",1/0),t.const_set($[0],"MAX",Number.MAX_VALUE),t.const_set($[0],"MIN",Number.MIN_VALUE),t.const_set($[0],"NAN",NaN),t.const_set($[0],"DIG",15),t.const_set($[0],"MANT_DIG",53),t.const_set($[0],"RADIX",2),t.const_set($[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(a[0],u(a,"Numeric"),a)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=t.top,$=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,h=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),s.$require("corelib/enumerable"),function(s,$,_){function d(){}var f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I=d=c(s,null,"Range",d),N=I.prototype,P=[I].concat(_);return N.begin=N.end=N.excl=o,I.$include(l(P,"Enumerable")),N.$$is_range=!0,I.$attr_reader("begin","end"),t.def(I,"$initialize",f=function(t,e,r){return null==r&&(r=!1),u(this.begin)&&this.$raise(l(P,"NameError"),"'initialize' called twice"),u(t["$<=>"](e))||this.$raise(l(P,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=r},f.$$arity=-3),t.def(I,"$==",p=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},p.$$arity=1),t.def(I,"$===",m=function(t){return this["$include?"](t)},m.$$arity=1),t.def(I,"$cover?",y=function(t){var n,i,s;return i=this.begin["$<=>"](t),!!u(u(n=i)?e(i,0):n)&&(s=t["$<=>"](this.end),u(this.excl)?u(n=s)?r(s,0):n:u(n=s)?e(s,0):n)},y.$$arity=1),t.def(I,"$each",g=function(){var e,n,i,s,$=g.$$p,a=$||o,c=this,_=o;if($&&(g.$$p=null),$&&(g.$$p=null),a===o)return c.$enum_for("each");if(c.begin.$$is_number&&c.end.$$is_number){for(c.begin%1==0&&c.end%1==0||c.$raise(l(P,"TypeError"),"can't iterate from Float"),i=c.begin,s=c.end+(u(c.excl)?0:1);i<s;i++)a(i);return c}if(c.begin.$$is_string&&c.end.$$is_string)return h(c.begin,"upto",[c.end,c.excl],a.$to_proc()),c;for(_=c.begin,n=c.end,u(_["$respond_to?"]("succ"))||c.$raise(l(P,"TypeError"),"can't iterate from "+_.$class());u(r(_["$<=>"](n),0));)t.yield1(a,_),_=_.$succ();return u(u(e=c.excl["$!"]())?_["$=="](n):e)&&t.yield1(a,_),c},g.$$arity=0),t.def(I,"$eql?",b=function(t){var e,r;return!!u(l(P,"Range")["$==="](t))&&(u(e=u(r=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):r)?this.end["$eql?"](t.$end()):e)},b.$$arity=1),t.def(I,"$exclude_end?",v=function(){return this.excl},v.$$arity=0),t.def(I,"$first",x=function(e){var r,n=x.$$p,i=o,s=o;for(n&&(x.$$p=null),s=0,r=arguments.length,i=new Array(r);s<r;s++)i[s]=arguments[s];return u(null==e)?this.begin:h(this,t.find_super_dispatcher(this,"first",x,!1),i,n)},x.$$arity=-1),t.alias(I,"include?","cover?"),t.def(I,"$last",w=function(t){return u(null==t)?this.end:this.$to_a().$last(t)},w.$$arity=-1),t.def(I,"$max",k=function(){var e,r,i=k.$$p,s=i||o,$=o,a=o;for(i&&(k.$$p=null),a=0,r=arguments.length,$=new Array(r);a<r;a++)$[a]=arguments[a];return s!==o?h(this,t.find_super_dispatcher(this,"max",k,!1),$,i):u(n(this.begin,this.end))?o:u(u(e=this.excl)?this.begin["$=="](this.end):e)?o:this.excl?this.end-1:this.end},k.$$arity=0),t.alias(I,"member?","cover?"),t.def(I,"$min",E=function(){var e,r,i=E.$$p,s=i||o,$=o,a=o;for(i&&(E.$$p=null),a=0,r=arguments.length,$=new Array(r);a<r;a++)$[a]=arguments[a];return s!==o?h(this,t.find_super_dispatcher(this,"min",E,!1),$,i):u(n(this.begin,this.end))?o:u(u(e=this.excl)?this.begin["$=="](this.end):e)?o:this.begin},E.$$arity=0),t.def(I,"$size",A=function(){var t,e,n,i,s=o,$=o;return s=this.begin,$=this.end,u(this.excl)&&(i=1,$="number"==typeof(n=$)&&"number"==typeof i?n-i:n["$-"](i)),u(u(t=l(P,"Numeric")["$==="](s))?l(P,"Numeric")["$==="]($):t)?u(r($,s))?0:(e=a(l(P,"Float"),"INFINITY"),u([s.$abs(),$.$abs()]["$include?"](e))?e:(Math.abs($-s)+1).$to_i()):o},A.$$arity=0),t.def(I,"$step",O=function(e){var r,s,$,c=O.$$p,_=c||o,d=this,f=o;function p(){e.$$is_number||(e=l(P,"Opal")["$coerce_to!"](e,l(P,"Integer"),"to_int")),e<0?d.$raise(l(P,"ArgumentError"),"step can't be negative"):0===e&&d.$raise(l(P,"ArgumentError"),"step can't be 0")}function m(){if(!d.begin["$respond_to?"]("succ"))return o;if(d.begin.$$is_string&&d.end.$$is_string)return o;if(e%1==0)return(r=d.$size(),n=e,"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n)).$ceil();var t,r,n,i=d.begin,s=d.end,$=Math.abs,c=Math.floor,u=($(i)+$(s)+$(s-i))/$(e)*a(l(P,"Float"),"EPSILON");return u>.5&&(u=.5),d.excl?(t=c((s-i)/e-u))*e+i<s&&t++:t=c((s-i)/e+u)+1,t}return c&&(O.$$p=null),null==e&&(e=1),_===o?h(d,"enum_for",["step",e],((r=function(){r.$$s;return p(),m()}).$$s=d,r.$$arity=0,r)):(p(),u(d.begin.$$is_number&&d.end.$$is_number)?(f=0,function(){var r=t.new_brk();try{h(d,"loop",[],((s=function(){var $,a,l,c=s.$$s||this;return null==c.begin&&(c.begin=o),null==c.excl&&(c.excl=o),null==c.end&&(c.end=o),$=i(c.begin,(l=e,"number"==typeof(a=f)&&"number"==typeof l?a*l:a["$*"](l))),u(c.excl)?u(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}($,c.end))&&t.brk(o,r):u(n($,c.end))&&t.brk(o,r),t.yield1(_,$),f=i(f,1)}).$$s=d,s.$$brk=r,s.$$arity=0,s))}catch(t){if(t===r)return t.$v;throw t}}()):(d.begin.$$is_string&&d.end.$$is_string&&e%1!=0&&d.$raise(l(P,"TypeError"),"no implicit conversion to float from string"),h(d,"each_with_index",[],(($=function(r,n){$.$$s;return null==r&&(r=o),null==n&&(n=o),n["$%"](e)["$=="](0)?t.yield1(_,r):o}).$$s=d,$.$$arity=2,$))),d)},O.$$arity=-1),t.def(I,"$bsearch",S=function(){var t=S.$$p,e=t||o;return t&&(S.$$p=null),t&&(S.$$p=null),e===o?this.$enum_for("bsearch"):(u(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(l(P,"TypeError"),"can't do binary search for "+this.begin.$class()),h(this.$to_a(),"bsearch",[],e.$to_proc()))},S.$$arity=0),t.def(I,"$to_s",R=function(){var t=this;return t.begin+(u(t.excl)?"...":"..")+t.end},R.$$arity=0),t.def(I,"$inspect",C=function(){var t=this;return t.begin.$inspect()+(u(t.excl)?"...":"..")+t.end.$inspect()},C.$$arity=0),t.def(I,"$marshal_load",T=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},T.$$arity=1),t.def(I,"$hash",M=function(){return[this.begin,this.end,this.excl].$hash()},M.$$arity=0),o&&"hash"}($[0],0,$)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),s=t.klass,$=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,a){function l(){}var c,u,h,_,d,f,p,m,y,g,b=l=s(e,o,"Proc",l),v=(b.prototype,[b].concat(a));return t.defineProperty(Function.prototype,"$$is_proc",!0),t.defineProperty(Function.prototype,"$$is_lambda",!1),t.defs(b,"$new",c=function(){var t=c.$$p,e=t||r;return t&&(c.$$p=null),t&&(c.$$p=null),$(e)||this.$raise(n(v,"ArgumentError"),"tried to create a Proc object without a block"),e},c.$$arity=0),t.def(b,"$call",u=function(e){var n,i=u.$$p,s=i||r;i&&(u.$$p=null),i&&(u.$$p=null),n=t.slice.call(arguments,0,arguments.length),s!==r&&(this.$$p=s);var $,o=this.$$brk;if(o)try{$=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n)}catch(t){if(t===o)return o.$v;throw t}else $=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n);return $},u.$$arity=-1),t.alias(b,"[]","call"),t.alias(b,"===","call"),t.alias(b,"yield","call"),t.def(b,"$to_proc",h=function(){return this},h.$$arity=0),t.def(b,"$lambda?",_=function(){return!!this.$$is_lambda},_.$$arity=0),t.def(b,"$arity",d=function(){return this.$$is_curried?-1:this.$$arity},d.$$arity=0),t.def(b,"$source_location",f=function(){return this.$$is_curried,r},f.$$arity=0),t.def(b,"$binding",p=function(){return this.$$is_curried&&this.$raise(n(v,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(b,"$parameters",m=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,r=[];for(t=0,e=this.$$parameters.length;t<e;t++){var n=this.$$parameters[t];"req"===n[0]&&(n=["opt",n[1]]),r.push(n)}return r}return[]},m.$$arity=0),t.def(b,"$curry",y=function(t){var e=this;function r(){var s,$=i.call(arguments),o=$.length;return o>t&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(n(v,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?e.$call.apply(e,$):((s=function(){return r.apply(null,$.concat(i.call(arguments)))}).$$is_lambda=e.$$is_lambda,s.$$is_curried=!0,s)}return void 0===t?t=e.length:(t=n(v,"Opal")["$coerce_to!"](t,n(v,"Integer"),"to_int"),e.$$is_lambda&&t!==e.length&&e.$raise(n(v,"ArgumentError"),"wrong number of arguments ("+t+" for "+e.length+")")),r.$$is_lambda=e.$$is_lambda,r.$$is_curried=!0,r},y.$$arity=-1),t.def(b,"$dup",g=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e},g.$$arity=0),t.alias(b,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,$,o){function a(){}var l,c,u,h,_,d,f,p,m,y=a=i(e,null,"Method",a),g=y.prototype,b=[y].concat(o);g.method=g.receiver=g.owner=g.name=r,y.$attr_reader("owner","receiver","name"),t.def(y,"$initialize",l=function(t,e,r,n){return this.receiver=t,this.owner=e,this.name=n,this.method=r},l.$$arity=4),t.def(y,"$arity",c=function(){return this.method.$arity()},c.$$arity=0),t.def(y,"$parameters",u=function(){return this.method.$$parameters},u.$$arity=0),t.def(y,"$source_location",h=function(){var t;return s(t=this.method.$$source_location)?t:["(eval)",0]},h.$$arity=0),t.def(y,"$comments",_=function(){var t;return s(t=this.method.$$comments)?t:[]},_.$$arity=0),t.def(y,"$call",d=function(e){var n,i=d.$$p,s=i||r;return i&&(d.$$p=null),i&&(d.$$p=null),n=t.slice.call(arguments,0,arguments.length),this.method.$$p=s,this.method.apply(this.receiver,n)},d.$$arity=-1),t.alias(y,"[]","call"),t.def(y,"$unbind",f=function(){return n(b,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},f.$$arity=0),t.def(y,"$to_proc",p=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},p.$$arity=0),t.def(y,"$inspect",m=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},m.$$arity=0)}(e[0],0,e),function(e,$,o){function a(){}var l,c,u,h,_,d,f,p=a=i(e,null,"UnboundMethod",a),m=p.prototype,y=[p].concat(o);return m.method=m.owner=m.name=m.source=r,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",l=function(t,e,r,n){return this.source=t,this.owner=e,this.method=r,this.name=n},l.$$arity=4),t.def(p,"$arity",c=function(){return this.method.$arity()},c.$$arity=0),t.def(p,"$parameters",u=function(){return this.method.$$parameters},u.$$arity=0),t.def(p,"$source_location",h=function(){var t;return s(t=this.method.$$source_location)?t:["(eval)",0]},h.$$arity=0),t.def(p,"$comments",_=function(){var t;return s(t=this.method.$$comments)?t:[]},_.$$arity=0),t.def(p,"$bind",d=function(e){if(this.owner.$$is_module||t.is_a(e,this.owner))return n(y,"Method").$new(e,this.owner,this.method,this.name);this.$raise(n(y,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+this.owner+" to be true)")},d.$$arity=1),t.def(p,"$inspect",f=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},f.$$arity=0),r&&"inspect"}(e[0],0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),s=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",s([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,s){function $(){}var o=$=i(e,"Opal",$),a=(o.prototype,[o].concat(s));t.const_set(a[0],"REGEXP_START",n(a,"RUBY_ENGINE")["$=="]("opal")?"^":r),t.const_set(a[0],"REGEXP_END",n(a,"RUBY_ENGINE")["$=="]("opal")?"$":r),t.const_set(a[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(a[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(a[0],"INLINE_IDENTIFIER_REGEXP",n(a,"Regexp").$new("[^"+n(a,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(a,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(a[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(a[0],"CONST_NAME_REGEXP",n(a,"Regexp").$new(n(a,"REGEXP_START")+"(::)?[A-Z][^"+n(a,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(a,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(t){var e,r,n,i,s,$=t.top,o=[],a=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.klass),h=t.hash2,_=t.truthy,d=t.send;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),$.$require("corelib/string"),function(e,r,n){function i(){}var s,$,o,l,f,p,m,y,g,b,v=i=u(e,null,"Encoding",i),x=v.prototype,w=[v].concat(n);x.ascii=x.dummy=x.name=a,t.defineProperty(v,"$$register",{}),t.defs(v,"$register",s=function(t,e){var r,n,i,$,o,l=s.$$p,u=l||a,f=a,p=a;return l&&(s.$$p=null),l&&(s.$$p=null),null==e&&(e=h([],{})),$=[t],o=_(r=e["$[]"]("aliases"))?r:[],f="number"==typeof $&&"number"==typeof o?$+o:$["$+"](o),i=d(c(w,"Class"),"new",[this],u.$to_proc()).$new(t,f,!!_(r=e["$[]"]("ascii"))&&r,!!_(r=e["$[]"]("dummy"))&&r),p=this.$$register,d(f,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=a),e.$const_set(t.$sub("-","_"),i),p["$$"+t]=i}).$$s=this,n.$$arity=1,n))},s.$$arity=-2),t.defs(v,"$find",$=function(t){var e,r,n;return t["$=="]("default_external")?this.$default_external():(r=this.$$register,n=_(e=r["$$"+t])?e:r["$$"+t.$upcase()],_(n)||this.$raise(c(w,"ArgumentError"),"unknown encoding name - "+t),n)},$.$$arity=1),function(t,e){t.prototype,[t].concat(e);t.$attr_accessor("default_external")}(t.get_singleton_class(v),w),v.$attr_reader("name","names"),t.def(v,"$initialize",o=function(t,e,r,n){return this.name=t,this.names=e,this.ascii=r,this.dummy=n},o.$$arity=4),t.def(v,"$ascii_compatible?",l=function(){return this.ascii},l.$$arity=0),t.def(v,"$dummy?",f=function(){return this.dummy},f.$$arity=0),t.def(v,"$to_s",p=function(){return this.name},p.$$arity=0),t.def(v,"$inspect",m=function(){var t=this;return"#<Encoding:"+t.name+(_(t.dummy)?" (dummy)":a)+">"},m.$$arity=0),t.def(v,"$each_byte",y=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(c(w,"NotImplementedError"))},y.$$arity=-1),t.def(v,"$getbyte",g=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(c(w,"NotImplementedError"))},g.$$arity=-1),t.def(v,"$bytesize",b=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(c(w,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}var i=n=u(t,e,"EncodingError",n);i.prototype,[i].concat(r)}(w[0],c(w,"StandardError"),w),function(t,e,r){function n(){}var i=n=u(t,e,"CompatibilityError",n);i.prototype,[i].concat(r)}(w[0],c(w,"EncodingError"),w)}(o[0],0,o),d(c(o,"Encoding"),"register",["UTF-8",h(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((e=function(){var r,n,i=e.$$s||this;return t.def(i,"$each_byte",r=function(e){var n=r.$$p,i=n||a;n&&(r.$$p=null),n&&(r.$$p=null);for(var s=0,$=e.length;s<$;s++){var o=e.charCodeAt(s);if(o<=127)t.yield1(i,o);else for(var l=encodeURIComponent(e.charAt(s)).substr(1).split("%"),c=0,u=l.length;c<u;c++)t.yield1(i,parseInt(l[c],16))}},r.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),a&&"bytesize"}).$$s=$,e.$$arity=0,e)),d(c(o,"Encoding"),"register",["UTF-16LE"],((r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var s=0,$=r.length;s<$;s++){var o=r.charCodeAt(s);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),a&&"bytesize"}).$$s=$,r.$$arity=0,r)),d(c(o,"Encoding"),"register",["UTF-16BE"],((n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var s=0,$=r.length;s<$;s++){var o=r.charCodeAt(s);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),a&&"bytesize"}).$$s=$,n.$$arity=0,n)),d(c(o,"Encoding"),"register",["UTF-32LE"],((i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var s=0,$=r.length;s<$;s++){var o=r.charCodeAt(s);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),a&&"bytesize"}).$$s=$,i.$$arity=0,i)),d(c(o,"Encoding"),"register",["ASCII-8BIT",h(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],((s=function(){var e,r,n=s.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var s=0,$=r.length;s<$;s++){var o=r.charCodeAt(s);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),a&&"bytesize"}).$$s=$,s.$$arity=0,s)),function(e,r,n){function i(){}var s,$,o,h,_,f,p,m=i=u(e,null,"String",i),y=m.prototype,g=[m].concat(n);return y.encoding=a,m.$attr_reader("encoding"),t.defineProperty(String.prototype,"encoding",l(c(g,"Encoding"),"UTF_16LE")),t.def(m,"$bytes",s=function(){return this.$each_byte().$to_a()},s.$$arity=0),t.def(m,"$bytesize",$=function(){return this.encoding.$bytesize(this)},$.$$arity=0),t.def(m,"$each_byte",o=function(){var t=o.$$p,e=t||a;return t&&(o.$$p=null),t&&(o.$$p=null),e===a?this.$enum_for("each_byte"):(d(this.encoding,"each_byte",[this],e.$to_proc()),this)},o.$$arity=0),t.def(m,"$encode",h=function(t){return this.$dup().$force_encoding(t)},h.$$arity=1),t.def(m,"$force_encoding",_=function(t){return t===this.encoding?this:(t=c(g,"Opal")["$coerce_to!"](t,c(g,"String"),"to_s"),(t=c(g,"Encoding").$find(t))===this.encoding?this:(this.encoding=t,this))},_.$$arity=1),t.def(m,"$getbyte",f=function(t){return this.encoding.$getbyte(this,t)},f.$$arity=1),t.def(m,"$valid_encoding?",p=function(){return!0},p.$$arity=0),a&&"valid_encoding?"}(o[0],0,o)},Opal.modules["corelib/math"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified),n=t.const_get_relative,i=(t.breaker,t.slice,t.module),s=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(e,$){function o(){}var a,l,c,u,h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D=o=i(e,"Math",o),F=(D.prototype,[D].concat($));t.const_set(F[0],"E",Math.E),t.const_set(F[0],"PI",Math.PI),t.const_set(F[0],"DomainError",n(F,"Class").$new(n(F,"StandardError"))),t.defs(D,"$checked",a=function(e,r){var i;if(i=t.slice.call(arguments,1,arguments.length),isNaN(i[0])||2==i.length&&isNaN(i[1]))return NaN;var s=Math[e].apply(null,i);return isNaN(s)&&this.$raise(n(F,"DomainError"),'Numerical argument is out of domain - "'+e+'"'),s},a.$$arity=-2),t.defs(D,"$float!",l=function(e){try{return this.$Float(e)}catch(r){if(!t.rescue(r,[n(F,"ArgumentError")]))throw r;try{return this.$raise(n(F,"Opal").$type_error(e,n(F,"Float")))}finally{t.pop_exception()}}},l.$$arity=1),t.defs(D,"$integer!",c=function(e){try{return this.$Integer(e)}catch(r){if(!t.rescue(r,[n(F,"ArgumentError")]))throw r;try{return this.$raise(n(F,"Opal").$type_error(e,n(F,"Integer")))}finally{t.pop_exception()}}},c.$$arity=1),D.$module_function(),t.def(D,"$acos",u=function(t){return n(F,"Math").$checked("acos",n(F,"Math")["$float!"](t))},u.$$arity=1),s(void 0!==Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(D,"$acosh",h=function(t){return n(F,"Math").$checked("acosh",n(F,"Math")["$float!"](t))},h.$$arity=1),t.def(D,"$asin",_=function(t){return n(F,"Math").$checked("asin",n(F,"Math")["$float!"](t))},_.$$arity=1),s(void 0!==Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(D,"$asinh",d=function(t){return n(F,"Math").$checked("asinh",n(F,"Math")["$float!"](t))},d.$$arity=1),t.def(D,"$atan",f=function(t){return n(F,"Math").$checked("atan",n(F,"Math")["$float!"](t))},f.$$arity=1),t.def(D,"$atan2",p=function(t,e){return n(F,"Math").$checked("atan2",n(F,"Math")["$float!"](t),n(F,"Math")["$float!"](e))},p.$$arity=2),s(void 0!==Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(D,"$atanh",m=function(t){return n(F,"Math").$checked("atanh",n(F,"Math")["$float!"](t))},m.$$arity=1),s(void 0!==Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;e>1;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;r>0;)e*=2,r--;return e=2/3*(e=2/3*(e=2/3*(e=2/3*e+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e)}),t.def(D,"$cbrt",y=function(t){return n(F,"Math").$checked("cbrt",n(F,"Math")["$float!"](t))},y.$$arity=1),t.def(D,"$cos",g=function(t){return n(F,"Math").$checked("cos",n(F,"Math")["$float!"](t))},g.$$arity=1),s(void 0!==Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(D,"$cosh",b=function(t){return n(F,"Math").$checked("cosh",n(F,"Math")["$float!"](t))},b.$$arity=1),s(void 0!==Math.erf)||t.defineProperty(Math,"erf",function(t){var e=1;t<0&&(e=-1);var r=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-t*t))}),t.def(D,"$erf",v=function(t){return n(F,"Math").$checked("erf",n(F,"Math")["$float!"](t))},v.$$arity=1),s(void 0!==Math.erfc)||t.defineProperty(Math,"erfc",function(t){var e=Math.abs(t),r=1/(.5*e+1),n=-e*e-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=r*Math.exp(n);return t<0?2-i:i}),t.def(D,"$erfc",x=function(t){return n(F,"Math").$checked("erfc",n(F,"Math")["$float!"](t))},x.$$arity=1),t.def(D,"$exp",w=function(t){return n(F,"Math").$checked("exp",n(F,"Math")["$float!"](t))},w.$$arity=1),t.def(D,"$frexp",k=function(t){if(t=n(F,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,e),e]},k.$$arity=1),t.def(D,"$gamma",E=function(t){var e,r,i,s,$,o,a,l,c;t=n(F,"Math")["$float!"](t);var u,h,_=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-1/0;if(-1!==t&&t!==-1/0||this.$raise(n(F,"DomainError"),'Numerical argument is out of domain - "gamma"'),n(F,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(s=t-2,$=t-1;s>1;)$*=s,s--;return 0==$&&($=1),$}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*n(F,"Math").$gamma((h=t,"number"==typeof(u=1)&&"number"==typeof h?u-h:u["$-"](h))));if(t>=171.35)return 1/0;if(t>85)return c=(l=(a=(o=t*t)*t)*t)*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*l)+163879/(209018880*c)+5246819/(75246796800*c*t));for(t-=1,i=_[0],e=1;e<_.length;++e)i+=_[e]/(t+e);return r=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*i},E.$$arity=1),s(void 0!==Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(D,"$hypot",A=function(t,e){return n(F,"Math").$checked("hypot",n(F,"Math")["$float!"](t),n(F,"Math")["$float!"](e))},A.$$arity=2),t.def(D,"$ldexp",O=function(t,e){return t=n(F,"Math")["$float!"](t),e=n(F,"Math")["$integer!"](e),isNaN(e)&&this.$raise(n(F,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},O.$$arity=2),t.def(D,"$lgamma",S=function(t){return-1==t?[1/0,1]:[Math.log(Math.abs(n(F,"Math").$gamma(t))),n(F,"Math").$gamma(t)<0?-1:1]},S.$$arity=1),t.def(D,"$log",R=function(t,e){var r,i;return s(n(F,"String")["$==="](t))&&this.$raise(n(F,"Opal").$type_error(t,n(F,"Float"))),s(null==e)?n(F,"Math").$checked("log",n(F,"Math")["$float!"](t)):(s(n(F,"String")["$==="](e))&&this.$raise(n(F,"Opal").$type_error(e,n(F,"Float"))),r=n(F,"Math").$checked("log",n(F,"Math")["$float!"](t)),i=n(F,"Math").$checked("log",n(F,"Math")["$float!"](e)),"number"==typeof r&&"number"==typeof i?r/i:r["$/"](i))},R.$$arity=-2),s(void 0!==Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(D,"$log10",C=function(t){return s(n(F,"String")["$==="](t))&&this.$raise(n(F,"Opal").$type_error(t,n(F,"Float"))),n(F,"Math").$checked("log10",n(F,"Math")["$float!"](t))},C.$$arity=1),s(void 0!==Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(D,"$log2",T=function(t){return s(n(F,"String")["$==="](t))&&this.$raise(n(F,"Opal").$type_error(t,n(F,"Float"))),n(F,"Math").$checked("log2",n(F,"Math")["$float!"](t))},T.$$arity=1),t.def(D,"$sin",M=function(t){return n(F,"Math").$checked("sin",n(F,"Math")["$float!"](t))},M.$$arity=1),s(void 0!==Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(D,"$sinh",I=function(t){return n(F,"Math").$checked("sinh",n(F,"Math")["$float!"](t))},I.$$arity=1),t.def(D,"$sqrt",N=function(t){return n(F,"Math").$checked("sqrt",n(F,"Math")["$float!"](t))},N.$$arity=1),t.def(D,"$tan",P=function(t){return t=n(F,"Math")["$float!"](t),s(t["$infinite?"]())?r(n(F,"Float"),"NAN"):n(F,"Math").$checked("tan",n(F,"Math")["$float!"](t))},P.$$arity=1),s(void 0!==Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.def(D,"$tanh",L=function(t){return n(F,"Math").$checked("tanh",n(F,"Math")["$float!"](t))},L.$$arity=1)}(e[0],e)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var s=t.top,$=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,h=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$Rational"]),s.$require("corelib/numeric"),function(s,$,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y=_=c(s,$,"Complex",_),G=Y.prototype,W=[Y].concat(h);G.real=G.imag=o,t.defs(Y,"$rect",d=function(t,e){var r,n,i;return null==e&&(e=0),u(u(r=u(n=u(i=l(W,"Numeric")["$==="](t))?t["$real?"]():i)?l(W,"Numeric")["$==="](e):n)?e["$real?"]():r)||this.$raise(l(W,"TypeError"),"not a real"),this.$new(t,e)},d.$$arity=-2),function(e,r){e.prototype,[e].concat(r);t.alias(e,"rectangular","rect")}(t.get_singleton_class(Y),W),t.defs(Y,"$polar",f=function(t,r){var n,i,s;return null==r&&(r=0),u(u(n=u(i=u(s=l(W,"Numeric")["$==="](t))?t["$real?"]():s)?l(W,"Numeric")["$==="](r):i)?r["$real?"]():n)||this.$raise(l(W,"TypeError"),"not a real"),this.$new(e(t,l(W,"Math").$cos(r)),e(t,l(W,"Math").$sin(r)))},f.$$arity=-2),Y.$attr_reader("real","imag"),t.def(Y,"$initialize",p=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},p.$$arity=-2),t.def(Y,"$coerce",m=function(t){var e;return u(l(W,"Complex")["$==="](t))?[t,this]:u(u(e=l(W,"Numeric")["$==="](t))?t["$real?"]():e)?[l(W,"Complex").$new(t,0),this]:this.$raise(l(W,"TypeError"),t.$class()+" can't be coerced into Complex")},m.$$arity=1),t.def(Y,"$==",y=function(t){var e;return u(l(W,"Complex")["$==="](t))?(e=this.real["$=="](t.$real()))?this.imag["$=="](t.$imag()):this.real["$=="](t.$real()):u(u(e=l(W,"Numeric")["$==="](t))?t["$real?"]():e)?(e=this.real["$=="](t))?this.imag["$=="](0):this.real["$=="](t):t["$=="](this)},y.$$arity=1),t.def(Y,"$-@",g=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},g.$$arity=0),t.def(Y,"$+",b=function(t){var e;return u(l(W,"Complex")["$==="](t))?this.$Complex(r(this.real,t.$real()),r(this.imag,t.$imag())):u(u(e=l(W,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(r(this.real,t),this.imag):this.$__coerced__("+",t)},b.$$arity=1),t.def(Y,"$-",v=function(t){var e;return u(l(W,"Complex")["$==="](t))?this.$Complex(n(this.real,t.$real()),n(this.imag,t.$imag())):u(u(e=l(W,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(n(this.real,t),this.imag):this.$__coerced__("-",t)},v.$$arity=1),t.def(Y,"$*",x=function(t){var i;return u(l(W,"Complex")["$==="](t))?this.$Complex(n(e(this.real,t.$real()),e(this.imag,t.$imag())),r(e(this.real,t.$imag()),e(this.imag,t.$real()))):u(u(i=l(W,"Numeric")["$==="](t))?t["$real?"]():i)?this.$Complex(e(this.real,t),e(this.imag,t)):this.$__coerced__("*",t)},x.$$arity=1),t.def(Y,"$/",w=function(t){var r,n,s,$;return u(l(W,"Complex")["$==="](t))?u(u(r=u(n=u(s=u($=l(W,"Number")["$==="](this.real))?this.real["$nan?"]():$)?s:u($=l(W,"Number")["$==="](this.imag))?this.imag["$nan?"]():$)?n:u(s=l(W,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():s)?r:u(n=l(W,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?l(W,"Complex").$new(a(l(W,"Float"),"NAN"),a(l(W,"Float"),"NAN")):i(e(this,t.$conj()),t.$abs2()):u(u(r=l(W,"Numeric")["$==="](t))?t["$real?"]():r)?this.$Complex(this.real.$quo(t),this.imag.$quo(t)):this.$__coerced__("/",t)},w.$$arity=1),t.def(Y,"$**",k=function(s){var $,a,c,h,_,d,f=o,p=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o;if(s["$=="](0))return l(W,"Complex").$new(1,0);if(u(l(W,"Complex")["$==="](s)))return a=this.$polar(),f=null==($=t.to_ary(a))[0]?o:$[0],p=null==$[1]?o:$[1],m=s.$real(),y=s.$imag(),g=l(W,"Math").$exp(n(e(m,l(W,"Math").$log(f)),e(y,p))),b=r(e(p,m),e(y,l(W,"Math").$log(f))),l(W,"Complex").$polar(g,b);if(u(l(W,"Integer")["$==="](s))){if(u((d=0,"number"==typeof(_=s)&&"number"==typeof d?_>d:_["$>"](d)))){for(x=v=this,w=n(s,1);u(w["$!="](0));){for(c=w.$divmod(2),k=null==(a=t.to_ary(c))[0]?o:a[0],E=null==a[1]?o:a[1];E["$=="](0);)v=this.$Complex(n(e(v.$real(),v.$real()),e(v.$imag(),v.$imag())),e(e(2,v.$real()),v.$imag())),h=(w=k).$divmod(2),k=null==(c=t.to_ary(h))[0]?o:c[0],E=null==c[1]?o:c[1];x=e(x,v),w=n(w,1)}return x}return i(l(W,"Rational").$new(1,1),this)["$**"](s["$-@"]())}return u(u($=l(W,"Float")["$==="](s))?$:l(W,"Rational")["$==="](s))?(a=this.$polar(),f=null==($=t.to_ary(a))[0]?o:$[0],p=null==$[1]?o:$[1],l(W,"Complex").$polar(f["$**"](s),e(p,s))):this.$__coerced__("**",s)},k.$$arity=1),t.def(Y,"$abs",E=function(){return l(W,"Math").$hypot(this.real,this.imag)},E.$$arity=0),t.def(Y,"$abs2",A=function(){return r(e(this.real,this.real),e(this.imag,this.imag))},A.$$arity=0),t.def(Y,"$angle",O=function(){return l(W,"Math").$atan2(this.imag,this.real)},O.$$arity=0),t.alias(Y,"arg","angle"),t.def(Y,"$conj",S=function(){return this.$Complex(this.real,this.imag["$-@"]())},S.$$arity=0),t.alias(Y,"conjugate","conj"),t.def(Y,"$denominator",R=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},R.$$arity=0),t.alias(Y,"divide","/"),t.def(Y,"$eql?",C=function(t){var e,r;return u(e=u(r=l(W,"Complex")["$==="](t))?this.real.$class()["$=="](this.imag.$class()):r)?this["$=="](t):e},C.$$arity=1),t.def(Y,"$fdiv",T=function(t){return u(l(W,"Numeric")["$==="](t))||this.$raise(l(W,"TypeError"),t.$class()+" can't be coerced into Complex"),i(this,t)},T.$$arity=1),t.def(Y,"$finite?",M=function(){var t;return u(t=this.real["$finite?"]())?this.imag["$finite?"]():t},M.$$arity=0),t.def(Y,"$hash",I=function(){return"Complex:"+this.real+":"+this.imag},I.$$arity=0),t.alias(Y,"imaginary","imag"),t.def(Y,"$infinite?",N=function(){var t;return u(t=this.real["$infinite?"]())?t:this.imag["$infinite?"]()},N.$$arity=0),t.def(Y,"$inspect",P=function(){return"("+this+")"},P.$$arity=0),t.alias(Y,"magnitude","abs"),t.udef(Y,"$negative?"),t.def(Y,"$numerator",L=function(){var t;return t=this.$denominator(),this.$Complex(e(this.real.$numerator(),i(t,this.real.$denominator())),e(this.imag.$numerator(),i(t,this.imag.$denominator())))},L.$$arity=0),t.alias(Y,"phase","arg"),t.def(Y,"$polar",D=function(){return[this.$abs(),this.$arg()]},D.$$arity=0),t.udef(Y,"$positive?"),t.alias(Y,"quo","/"),t.def(Y,"$rationalize",F=function(t){return arguments.length>1&&this.$raise(l(W,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),u(this.imag["$!="](0))&&this.$raise(l(W,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(t)},F.$$arity=-1),t.def(Y,"$real?",z=function(){return!1},z.$$arity=0),t.def(Y,"$rect",B=function(){return[this.real,this.imag]},B.$$arity=0),t.alias(Y,"rectangular","rect"),t.def(Y,"$to_f",q=function(){return this.imag["$=="](0)||this.$raise(l(W,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},q.$$arity=0),t.def(Y,"$to_i",j=function(){return this.imag["$=="](0)||this.$raise(l(W,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},j.$$arity=0),t.def(Y,"$to_r",U=function(){return this.imag["$=="](0)||this.$raise(l(W,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},U.$$arity=0),t.def(Y,"$to_s",H=function(){var t,e,n,i=this,s=o;return s=r(s=i.real.$inspect(),u(u(t=u(e=u(n=l(W,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?e:i.imag["$positive?"]())?t:i.imag["$zero?"]())?"+":"-"),s=r(s,i.imag.$abs().$inspect()),u(u(t=l(W,"Number")["$==="](i.imag))?u(e=i.imag["$nan?"]())?e:i.imag["$infinite?"]():t)&&(s=r(s,"*")),r(s,"i")},H.$$arity=0),t.const_set(W[0],"I",Y.$new(0,1))}($[0],l($,"Numeric"),$),function(e,r){function n(){}var i,s=n=h(e,"Kernel",n),$=(s.prototype,[s].concat(r));t.def(s,"$Complex",i=function(t,e){return null==e&&(e=o),u(e)?l($,"Complex").$new(t,e):l($,"Complex").$new(t,0)},i.$$arity=-2)}($[0],$),function(e,r,n){function i(){}var s,$=i=c(e,null,"String",i);$.prototype,[$].concat(n);return t.def($,"$to_c",s=function(){var t,e,r=this,n=r,i=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;n.match(i);function s(){return i.test(n)}function $(){var t=n.match(i)[0];return n=n.slice(t.length),t.replace(/_/g,"")}function o(){if(s()){var t=parseFloat($());if("/"===n[0]){if(n=n.slice(1),s()){var e=parseFloat($());return r.$Rational(t,e)}return n="/"+n,t}return t}return null}return(t=o())?(e=o())?r.$Complex(t,e):"i"===n[0]?r.$Complex(0,t):r.$Complex(t,0):"i"===n[0]?r.$Complex(0,1):"-"===n[0]&&"i"===n[1]?r.$Complex(0,-1):"+"===n[0]&&"i"===n[1]?r.$Complex(0,1):r.$Complex(0,0)},s.$$arity=0),o&&"to_c"}($[0],0,$)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,o=[],a=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.klass),h=t.truthy,_=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),$.$require("corelib/numeric"),function($,o,_){function d(){}var f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q=d=u($,o,"Rational",d),j=q.prototype,U=[q].concat(_);j.num=j.den=a,t.defs(q,"$reduce",f=function(t,n){var i;if(t=t.$to_i(),(n=n.$to_i())["$=="](0))this.$raise(c(U,"ZeroDivisionError"),"divided by 0");else if(h(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return this.$new(t,n);return i=t.$gcd(n),this.$new(r(t,i),r(n,i))},f.$$arity=2),t.defs(q,"$convert",p=function(t,e){var n,i;return h(h(n=t["$nil?"]())?n:e["$nil?"]())&&this.$raise(c(U,"TypeError"),"cannot convert nil into Rational"),h(h(n=c(U,"Integer")["$==="](t))?c(U,"Integer")["$==="](e):n)?this.$reduce(t,e):(h(h(n=h(i=c(U,"Float")["$==="](t))?i:c(U,"String")["$==="](t))?n:c(U,"Complex")["$==="](t))&&(t=t.$to_r()),h(h(n=h(i=c(U,"Float")["$==="](e))?i:c(U,"String")["$==="](e))?n:c(U,"Complex")["$==="](e))&&(e=e.$to_r()),h(h(n=e["$equal?"](1))?c(U,"Integer")["$==="](t)["$!"]():n)?c(U,"Opal")["$coerce_to!"](t,c(U,"Rational"),"to_r"):h(h(n=c(U,"Numeric")["$==="](t))?c(U,"Numeric")["$==="](e):n)?r(t,e):this.$reduce(t,e))},p.$$arity=2),t.def(q,"$initialize",m=function(t,e){return this.num=t,this.den=e},m.$$arity=2),t.def(q,"$numerator",y=function(){return this.num},y.$$arity=0),t.def(q,"$denominator",g=function(){return this.den},g.$$arity=0),t.def(q,"$coerce",b=function(t){var e=this,r=a;return r=t,c(U,"Rational")["$==="](r)?[t,e]:c(U,"Integer")["$==="](r)?[t.$to_r(),e]:c(U,"Float")["$==="](r)?[t,e.$to_f()]:a},b.$$arity=1),t.def(q,"$==",v=function(t){var e=this,r=a;return r=t,c(U,"Rational")["$==="](r)?e.num["$=="](t.$numerator())?e.den["$=="](t.$denominator()):e.num["$=="](t.$numerator()):c(U,"Integer")["$==="](r)?e.num["$=="](t)?e.den["$=="](1):e.num["$=="](t):c(U,"Float")["$==="](r)?e.$to_f()["$=="](t):t["$=="](e)},v.$$arity=1),t.def(q,"$<=>",x=function(t){var e=this,r=a;return r=t,c(U,"Rational")["$==="](r)?n(i(e.num,t.$denominator()),i(e.den,t.$numerator()))["$<=>"](0):c(U,"Integer")["$==="](r)?n(e.num,i(e.den,t))["$<=>"](0):c(U,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)},x.$$arity=1),t.def(q,"$+",w=function(t){var e=this,r=a,n=a,$=a;return r=t,c(U,"Rational")["$==="](r)?(n=s(i(e.num,t.$denominator()),i(e.den,t.$numerator())),$=i(e.den,t.$denominator()),e.$Rational(n,$)):c(U,"Integer")["$==="](r)?e.$Rational(s(e.num,i(t,e.den)),e.den):c(U,"Float")["$==="](r)?s(e.$to_f(),t):e.$__coerced__("+",t)},w.$$arity=1),t.def(q,"$-",k=function(t){var e=this,r=a,s=a,$=a;return r=t,c(U,"Rational")["$==="](r)?(s=n(i(e.num,t.$denominator()),i(e.den,t.$numerator())),$=i(e.den,t.$denominator()),e.$Rational(s,$)):c(U,"Integer")["$==="](r)?e.$Rational(n(e.num,i(t,e.den)),e.den):c(U,"Float")["$==="](r)?n(e.$to_f(),t):e.$__coerced__("-",t)},k.$$arity=1),t.def(q,"$*",E=function(t){var e=this,r=a,n=a,s=a;return r=t,c(U,"Rational")["$==="](r)?(n=i(e.num,t.$numerator()),s=i(e.den,t.$denominator()),e.$Rational(n,s)):c(U,"Integer")["$==="](r)?e.$Rational(i(e.num,t),e.den):c(U,"Float")["$==="](r)?i(e.$to_f(),t):e.$__coerced__("*",t)},E.$$arity=1),t.def(q,"$/",A=function(t){var e=this,n=a,s=a,$=a;return n=t,c(U,"Rational")["$==="](n)?(s=i(e.num,t.$denominator()),$=i(e.den,t.$numerator()),e.$Rational(s,$)):c(U,"Integer")["$==="](n)?t["$=="](0)?r(e.$to_f(),0):e.$Rational(e.num,i(e.den,t)):c(U,"Float")["$==="](n)?r(e.$to_f(),t):e.$__coerced__("/",t)},A.$$arity=1),t.def(q,"$**",O=function(t){var r,n,i=this,s=a;return s=t,c(U,"Integer")["$==="](s)?h(i["$=="](0)?e(t,0):i["$=="](0))?l(c(U,"Float"),"INFINITY"):h((n=0,"number"==typeof(r=t)&&"number"==typeof n?r>n:r["$>"](n)))?i.$Rational(i.num["$**"](t),i.den["$**"](t)):h(e(t,0))?i.$Rational(i.den["$**"](t["$-@"]()),i.num["$**"](t["$-@"]())):i.$Rational(1,1):c(U,"Float")["$==="](s)?i.$to_f()["$**"](t):c(U,"Rational")["$==="](s)?t["$=="](0)?i.$Rational(1,1):t.$denominator()["$=="](1)?h(e(t,0))?i.$Rational(i.den["$**"](t.$numerator().$abs()),i.num["$**"](t.$numerator().$abs())):i.$Rational(i.num["$**"](t.$numerator()),i.den["$**"](t.$numerator())):h(i["$=="](0)?e(t,0):i["$=="](0))?i.$raise(c(U,"ZeroDivisionError"),"divided by 0"):i.$to_f()["$**"](t):i.$__coerced__("**",t)},O.$$arity=1),t.def(q,"$abs",S=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},S.$$arity=0),t.def(q,"$ceil",R=function(t){return null==t&&(t=0),t["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},R.$$arity=-1),t.alias(q,"divide","/"),t.def(q,"$floor",C=function(t){return null==t&&(t=0),t["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},C.$$arity=-1),t.def(q,"$hash",T=function(){return"Rational:"+this.num+":"+this.den},T.$$arity=0),t.def(q,"$inspect",M=function(){return"("+this+")"},M.$$arity=0),t.alias(q,"quo","/"),t.def(q,"$rationalize",I=function(t){if(arguments.length>1&&this.$raise(c(U,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var e,i,$,o,a,l,u,h=t.$abs(),_=n(this,h),d=s(this,h),f=0,p=1,m=1,y=0;$=_.$ceil(),u=d,!("number"==typeof(l=$)&&"number"==typeof u?l<=u:l["$<="](u));)e=(o=$-1)*p+f,i=o*y+m,a=r(1,n(d,o)),d=r(1,n(_,o)),_=a,f=p,m=y,p=e,y=i;return this.$Rational($*p+f,$*y+m)},I.$$arity=-1),t.def(q,"$round",N=function(t){var n=a;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(n=r(s(i(this.num.$abs(),2),this.den),i(this.den,2)).$truncate(),h(e(this.num,0))?n["$-@"]():n):this.$with_precision("round",t)},N.$$arity=-1),t.def(q,"$to_f",P=function(){return r(this.num,this.den)},P.$$arity=0),t.def(q,"$to_i",L=function(){return this.$truncate()},L.$$arity=0),t.def(q,"$to_r",D=function(){return this},D.$$arity=0),t.def(q,"$to_s",F=function(){return this.num+"/"+this.den},F.$$arity=0),t.def(q,"$truncate",z=function(t){return null==t&&(t=0),t["$=="](0)?h(e(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},z.$$arity=-1),t.def(q,"$with_precision",B=function(t,n){var s,$=a;return h(c(U,"Integer")["$==="](n))||this.$raise(c(U,"TypeError"),"not an Integer"),$=i(this,s=10["$**"](n)),h(e(n,1))?r($.$send(t),s).$to_i():this.$Rational($.$send(t),s)},B.$$arity=2)}(o[0],c(o,"Numeric"),o),function(e,r){function n(){}var i,s=n=_(e,"Kernel",n),$=(s.prototype,[s].concat(r));t.def(s,"$Rational",i=function(t,e){return null==e&&(e=1),c($,"Rational").$convert(t,e)},i.$$arity=-2)}(o[0],o),function(e,r,n){function i(){}var s,$=i=u(e,null,"String",i);$.prototype,[$].concat(n);return t.def($,"$to_r",s=function(){var t,e,r=this.trimLeft(),n=/^[+-]?[\d_]+(\.[\d_]+)?/;r.match(n);function i(){return n.test(r)}function s(){var t=r.match(n)[0];return r=r.slice(t.length),t.replace(/_/g,"")}return i()?(t=parseFloat(s()),"/"===r[0]?(r=r.slice(1),i()?(e=parseFloat(s()),this.$Rational(t,e)):this.$Rational(t,1)):this.$Rational(t,1)):this.$Rational(0,1)},s.$$arity=0),a&&"to_r"}(o[0],0,o)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,$=[],o=t.nil,a=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice),c=t.klass,u=t.truthy,h=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),s.$require("corelib/comparable"),function(s,$,_){function d(){}var f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D,F,z,B,q,j,U,H,Y,G,W,V,K,X,J,Z,Q,tt,et,rt,nt=d=c(s,$,"Time",d),it=(nt.prototype,[nt].concat(_));nt.$include(a(it,"Comparable"));var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],at=["January","February","March","April","May","June","July","August","September","October","November","December"];function lt(t,e,r,n,i,s){if(t=t.$$is_string?parseInt(t,10):a(it,"Opal")["$coerce_to!"](t,a(it,"Integer"),"to_int"),e===o)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch((e=e.$to_str()).toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=a(it,"Opal")["$coerce_to!"](e,a(it,"Integer"),"to_int");return(e<1||e>12)&&nt.$raise(a(it,"ArgumentError"),"month out of range: "+e),e-=1,((r=r===o?1:r.$$is_string?parseInt(r,10):a(it,"Opal")["$coerce_to!"](r,a(it,"Integer"),"to_int"))<1||r>31)&&nt.$raise(a(it,"ArgumentError"),"day out of range: "+r),((n=n===o?0:n.$$is_string?parseInt(n,10):a(it,"Opal")["$coerce_to!"](n,a(it,"Integer"),"to_int"))<0||n>24)&&nt.$raise(a(it,"ArgumentError"),"hour out of range: "+n),((i=i===o?0:i.$$is_string?parseInt(i,10):a(it,"Opal")["$coerce_to!"](i,a(it,"Integer"),"to_int"))<0||i>59)&&nt.$raise(a(it,"ArgumentError"),"min out of range: "+i),s===o?s=0:s.$$is_number||(s=s.$$is_string?parseInt(s,10):a(it,"Opal")["$coerce_to!"](s,a(it,"Integer"),"to_int")),(s<0||s>60)&&nt.$raise(a(it,"ArgumentError"),"sec out of range: "+s),[t,e,r,n,i,s]}return t.defs(nt,"$at",f=function(t,e){var r;return a(it,"Time")["$==="](t)?(void 0!==e&&this.$raise(a(it,"TypeError"),"can't convert Time into an exact number"),(r=new Date(t.getTime())).is_utc=t.is_utc,r):(t.$$is_number||(t=a(it,"Opal")["$coerce_to!"](t,a(it,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=a(it,"Opal")["$coerce_to!"](e,a(it,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},f.$$arity=-2),t.defs(nt,"$new",p=function(t,e,r,n,i,s,$){var l,c;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==s&&(s=o),null==$&&($=o),void 0===t?new Date:($!==o&&this.$raise(a(it,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),t=(l=lt(t,e,r,n,i,s))[0],e=l[1],r=l[2],n=l[3],i=l[4],s=l[5],c=new Date(t,e,r,n,i,0,1e3*s),t<100&&c.setFullYear(t),c)},p.$$arity=-1),t.defs(nt,"$local",m=function(t,e,r,n,i,s,$,a,c,u){var h,_;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==s&&(s=o),null==$&&($=o),null==a&&(a=o),null==c&&(c=o),null==u&&(u=o),10===arguments.length&&(t=(h=l.call(arguments))[5],e=h[4],r=h[3],n=h[2],i=h[1],s=h[0]),t=(h=lt(t,e,r,n,i,s))[0],e=h[1],r=h[2],n=h[3],i=h[4],s=h[5],_=new Date(t,e,r,n,i,0,1e3*s),t<100&&_.setFullYear(t),_},m.$$arity=-2),t.defs(nt,"$gm",y=function(t,e,r,n,i,s,$,a,c,u){var h,_;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==s&&(s=o),null==$&&($=o),null==a&&(a=o),null==c&&(c=o),null==u&&(u=o),10===arguments.length&&(t=(h=l.call(arguments))[5],e=h[4],r=h[3],n=h[2],i=h[1],s=h[0]),t=(h=lt(t,e,r,n,i,s))[0],e=h[1],r=h[2],n=h[3],i=h[4],s=h[5],_=new Date(Date.UTC(t,e,r,n,i,0,1e3*s)),t<100&&_.setUTCFullYear(t),_.is_utc=!0,_},y.$$arity=-2),function(e,r){e.prototype,[e].concat(r);t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(nt),it),t.defs(nt,"$now",g=function(){return this.$new()},g.$$arity=0),t.def(nt,"$+",b=function(t){u(a(it,"Time")["$==="](t))&&this.$raise(a(it,"TypeError"),"time + time?"),t.$$is_number||(t=a(it,"Opal")["$coerce_to!"](t,a(it,"Integer"),"to_int"));var e=new Date(this.getTime()+1e3*t);return e.is_utc=this.is_utc,e},b.$$arity=1),t.def(nt,"$-",v=function(t){if(u(a(it,"Time")["$==="](t)))return(this.getTime()-t.getTime())/1e3;t.$$is_number||(t=a(it,"Opal")["$coerce_to!"](t,a(it,"Integer"),"to_int"));var e=new Date(this.getTime()-1e3*t);return e.is_utc=this.is_utc,e},v.$$arity=1),t.def(nt,"$<=>",x=function(t){var e,r,n=o;return u(a(it,"Time")["$==="](t))?this.$to_f()["$<=>"](t.$to_f()):(n=t["$<=>"](this),u(n["$nil?"]())?o:u((r=0,"number"==typeof(e=n)&&"number"==typeof r?e>r:e["$>"](r)))?-1:u(function(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}(n,0))?1:0)},x.$$arity=1),t.def(nt,"$==",w=function(t){var e;return u(e=a(it,"Time")["$==="](t))?this.$to_f()===t.$to_f():e},w.$$arity=1),t.def(nt,"$asctime",k=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},k.$$arity=0),t.alias(nt,"ctime","asctime"),t.def(nt,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0),t.def(nt,"$yday",A=function(){var t;return t=a(it,"Time").$new(this.$year()).$to_i(),86400,e(r(n(a(it,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),t),86400).$round(),1)},A.$$arity=0),t.def(nt,"$isdst",O=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},O.$$arity=0),t.alias(nt,"dst?","isdst"),t.def(nt,"$dup",S=function(){var t=o;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t},S.$$arity=0),t.def(nt,"$eql?",R=function(t){var e;return u(e=t["$is_a?"](a(it,"Time")))?this["$<=>"](t)["$zero?"]():e},R.$$arity=1),t.def(nt,"$friday?",C=function(){return 5==this.$wday()},C.$$arity=0),t.def(nt,"$hash",T=function(){return"Time:"+this.getTime()},T.$$arity=0),t.def(nt,"$hour",M=function(){return this.is_utc?this.getUTCHours():this.getHours()},M.$$arity=0),t.def(nt,"$inspect",I=function(){return u(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},I.$$arity=0),t.alias(nt,"mday","day"),t.def(nt,"$min",N=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},N.$$arity=0),t.def(nt,"$mon",P=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},P.$$arity=0),t.def(nt,"$monday?",L=function(){return 1==this.$wday()},L.$$arity=0),t.alias(nt,"month","mon"),t.def(nt,"$saturday?",D=function(){return 6==this.$wday()},D.$$arity=0),t.def(nt,"$sec",F=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},F.$$arity=0),t.def(nt,"$succ",z=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},z.$$arity=0),t.def(nt,"$usec",B=function(){return 1e3*this.getMilliseconds()},B.$$arity=0),t.def(nt,"$zone",q=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},q.$$arity=0),t.def(nt,"$getgm",j=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},j.$$arity=0),t.alias(nt,"getutc","getgm"),t.def(nt,"$gmtime",U=function(){return this.is_utc=!0,this},U.$$arity=0),t.alias(nt,"utc","gmtime"),t.def(nt,"$gmt?",H=function(){return!0===this.is_utc},H.$$arity=0),t.def(nt,"$gmt_offset",Y=function(){return 60*-this.getTimezoneOffset()},Y.$$arity=0),t.def(nt,"$strftime",G=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,s){var $="",o=-1!==r.indexOf("0"),a=-1===r.indexOf("-"),l=-1!==r.indexOf("_"),c=-1!==r.indexOf("^"),u=-1!==r.indexOf("#"),_=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&l&&(r.indexOf("0")<r.indexOf("_")?o=!1:l=!1),s){case"Y":$+=e.$year();break;case"C":o=!l,$+=Math.round(e.$year()/100);break;case"y":o=!l,$+=e.$year()%100;break;case"m":o=!l,$+=e.$mon();break;case"B":$+=at[e.$mon()-1];break;case"b":case"h":l=!o,$+=ot[e.$mon()-1];break;case"d":o=!l,$+=e.$day();break;case"e":l=!o,$+=e.$day();break;case"j":$+=e.$yday();break;case"H":o=!l,$+=e.$hour();break;case"k":l=!o,$+=e.$hour();break;case"I":o=!l,$+=e.$hour()%12||12;break;case"l":l=!o,$+=e.$hour()%12||12;break;case"P":$+=e.$hour()>=12?"pm":"am";break;case"p":$+=e.$hour()>=12?"PM":"AM";break;case"M":o=!l,$+=e.$min();break;case"S":o=!l,$+=e.$sec();break;case"L":o=!l,n=isNaN(n)?3:n,$+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,$=($+=e.getMilliseconds().toString().$rjust(3,"0")).$ljust(n,"0");break;case"z":var d=e.getTimezoneOffset(),f=Math.floor(Math.abs(d)/60),p=Math.abs(d)%60;$+=d<0?"+":"-",$+=f<10?"0":"",$+=f,_>0&&($+=":"),$+=p<10?"0":"",$+=p,_>1&&($+=":00");break;case"Z":$+=e.$zone();break;case"A":$+=st[e.$wday()];break;case"a":$+=$t[e.$wday()];break;case"u":$+=e.$wday()+1;break;case"w":$+=e.$wday();break;case"V":$+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=e.$cweek_cyear()["$[]"](1);break;case"g":$+=e.$cweek_cyear()["$[]"](1)["$[]"](h(-2,-1,!1));break;case"s":$+=e.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=e.$strftime("%m/%d/%y");break;case"F":$+=e.$strftime("%Y-%m-%d");break;case"v":$+=e.$strftime("%e-%^b-%4Y");break;case"r":$+=e.$strftime("%I:%M:%S %p");break;case"R":$+=e.$strftime("%H:%M");break;case"T":case"X":$+=e.$strftime("%H:%M:%S");break;default:return t}return c&&($=$.toUpperCase()),u&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),a&&(o||l)&&($=$.$rjust(isNaN(n)?2:n,l?" ":"0")),$})},G.$$arity=1),t.def(nt,"$sunday?",W=function(){return 0==this.$wday()},W.$$arity=0),t.def(nt,"$thursday?",V=function(){return 4==this.$wday()},V.$$arity=0),t.def(nt,"$to_a",K=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},K.$$arity=0),t.def(nt,"$to_f",X=function(){return this.getTime()/1e3},X.$$arity=0),t.def(nt,"$to_i",J=function(){return parseInt(this.getTime()/1e3,10)},J.$$arity=0),t.alias(nt,"to_s","inspect"),t.def(nt,"$tuesday?",Z=function(){return 2==this.$wday()},Z.$$arity=0),t.alias(nt,"tv_sec","to_i"),t.alias(nt,"tv_usec","usec"),t.alias(nt,"utc?","gmt?"),t.alias(nt,"gmtoff","gmt_offset"),t.alias(nt,"utc_offset","gmt_offset"),t.def(nt,"$wday",Q=function(){return this.is_utc?this.getUTCDay():this.getDay()},Q.$$arity=0),t.def(nt,"$wednesday?",tt=function(){return 3==this.$wday()},tt.$$arity=0),t.def(nt,"$year",et=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},et.$$arity=0),t.def(nt,"$cweek_cyear",rt=function(){var t,s=o,$=o,l=o,c=o,h=o;return s=a(it,"Time").$new(this.$year(),1,1).$wday(),0,$=this.$year(),u(u(t=i(s,4))?s["$!="](0):t)?l=n(s,1):(l=n(n(s,7),1))["$=="](-8)&&(l=-1),c=r(e(this.$yday(),l),7).$ceil(),u(i(c,0))?a(it,"Time").$new(n(this.$year(),1),12,31).$cweek_cyear():(c["$=="](53)&&(h=a(it,"Time").$new(this.$year(),12,31).$wday(),u(u(t=i(h,3))?h["$!="](0):t)&&(c=1,$=e($,1))),[c,$])},rt.$$arity=0),o&&"cweek_cyear"}($[0],Date,$)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,o=[],a=t.nil,l=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice,t.klass),u=t.hash2,h=t.truthy,_=t.send;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),$.$require("corelib/enumerable"),function($,o,d){function f(){}var p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P=f=c($,null,"Struct",f),L=(P.prototype,[P].concat(d));return P.$include(l(L,"Enumerable")),t.defs(P,"$new",p=function(e,r,n){var i,s,$,o,c,d,f=p.$$p,m=f||a,y=a;if(f&&(p.$$p=null),f&&(p.$$p=null),i=t.slice.call(arguments,1,arguments.length),null==(s=t.extract_kwargs(i)))s=u([],{});else if(!s.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if($=i,null==(o=s.$$smap.keyword_init)&&(o=!1),h(e))try{e=l(L,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[l(L,"TypeError"),l(L,"NameError")]))throw r;try{$.$unshift(e),e=a}finally{t.pop_exception()}}return _($,"map",[],((c=function(t){c.$$s;return null==t&&(t=a),l(L,"Opal")["$coerce_to!"](t,l(L,"String"),"to_str")}).$$s=this,c.$$arity=1,c)),y=_(l(L,"Class"),"new",[this],((d=function(){var e,r=d.$$s||this;return _($,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=a),r.$define_struct_attribute(t)}).$$s=r,e.$$arity=1,e)),function(e,r){var n;e.prototype,[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=a;return r=t.slice.call(arguments,0,arguments.length),(n=this.$allocate()).$$data={},_(n,"initialize",t.to_a(r)),n},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),L)}).$$s=this,d.$$arity=0,d)),h(m)&&_(y,"module_eval",[],m.$to_proc()),y.$$keyword_init=o,h(e)&&l(L,"Struct").$const_set(e,y),y},p.$$arity=-2),t.defs(P,"$define_struct_attribute",m=function(t){var e,r;return this["$=="](l(L,"Struct"))&&this.$raise(l(L,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](t),_(this,"define_method",[t],((e=function(){return(e.$$s||this).$$data[t]}).$$s=this,e.$$arity=0,e)),_(this,"define_method",[t+"="],((r=function(e){var n=r.$$s||this;return null==e&&(e=a),n.$$data[t]=e}).$$s=this,r.$$arity=1,r))},m.$$arity=1),t.defs(P,"$members",y=function(){var t;return null==this.members&&(this.members=a),this["$=="](l(L,"Struct"))&&this.$raise(l(L,"ArgumentError"),"the Struct class has no members"),this.members=h(t=this.members)?t:[]},y.$$arity=0),t.defs(P,"$inherited",g=function(t){var e,r;return null==this.members&&(this.members=a),r=this.members,_(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=r}).$$s=this,e.$$arity=0,e))},g.$$arity=1),t.def(P,"$initialize",b=function(n){var i,s,$,o,c,d=a,f=a;return i=t.slice.call(arguments,0,arguments.length),s=i,h(this.$class().$$keyword_init)?(d=h($=s.$last())?$:u([],{}),h(h($=e(s.$length(),1))?$:1===s.length&&!d.$$is_hash)&&this.$raise(l(L,"ArgumentError"),"wrong number of arguments (given "+s.$length()+", expected 0)"),f=r(d.$keys(),this.$class().$members()),h(f["$any?"]())&&this.$raise(l(L,"ArgumentError"),"unknown keywords: "+f.$join(", ")),_(this.$class().$members(),"each",[],((o=function(e){var n,i=o.$$s||this;return null==e&&(e=a),n=[e,d["$[]"](e)],_(i,"[]=",t.to_a(n)),n[r(n.length,1)]}).$$s=this,o.$$arity=1,o))):(h(e(s.$length(),this.$class().$members().$length()))&&this.$raise(l(L,"ArgumentError"),"struct size differs"),_(this.$class().$members(),"each_with_index",[],((c=function(e,n){var i,$=c.$$s||this;return null==e&&(e=a),null==n&&(n=a),i=[e,s["$[]"](n)],_($,"[]=",t.to_a(i)),i[r(i.length,1)]}).$$s=this,c.$$arity=2,c)))},b.$$arity=-1),t.def(P,"$members",v=function(){return this.$class().$members()},v.$$arity=0),t.def(P,"$hash",x=function(){return l(L,"Hash").$new(this.$$data).$hash()},x.$$arity=0),t.def(P,"$[]",w=function(t){return h(l(L,"Integer")["$==="](t))?(h(n(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(l(L,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),h(i(t,this.$class().$members().$size()))&&this.$raise(l(L,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):h(l(L,"String")["$==="](t))?this.$$data.hasOwnProperty(t)||this.$raise(l(L,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(l(L,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(L,"Opal")["$coerce_to!"](t,l(L,"String"),"to_str"),this.$$data[t]},w.$$arity=1),t.def(P,"$[]=",k=function(t,e){return h(l(L,"Integer")["$==="](t))?(h(n(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(l(L,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),h(i(t,this.$class().$members().$size()))&&this.$raise(l(L,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):h(l(L,"String")["$==="](t))?h(this.$class().$members()["$include?"](t.$to_sym()))||this.$raise(l(L,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(l(L,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(L,"Opal")["$coerce_to!"](t,l(L,"String"),"to_str"),this.$$data[t]=e},k.$$arity=2),t.def(P,"$==",E=function(t){if(!h(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,i){var s,$,o;for(s in e[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if($=n.$$data[s],o=i.$$data[s],l(L,"Struct")["$==="]($)){if(!(e.hasOwnProperty($.$__id__())&&r.hasOwnProperty(o.$__id__())||t($,o)))return!1}else if(!$["$=="](o))return!1;return!0}(this,t)},E.$$arity=1),t.def(P,"$eql?",A=function(t){if(!h(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,i){var s,$,o;for(s in e[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if($=n.$$data[s],o=i.$$data[s],l(L,"Struct")["$==="]($)){if(!(e.hasOwnProperty($.$__id__())&&r.hasOwnProperty(o.$__id__())||t($,o)))return!1}else if(!$["$eql?"](o))return!1;return!0}(this,t)},A.$$arity=1),t.def(P,"$each",O=function(){var e,r,n=O.$$p,i=n||a;return n&&(O.$$p=null),i===a?_(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(_(this.$class().$members(),"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=a),t.yield1(i,n["$[]"](e))}).$$s=this,r.$$arity=1,r)),this)},O.$$arity=0),t.def(P,"$each_pair",S=function(){var e,r,n=S.$$p,i=n||a;return n&&(S.$$p=null),i===a?_(this,"enum_for",["each_pair"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(_(this.$class().$members(),"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=a),t.yield1(i,[e,n["$[]"](e)])}).$$s=this,r.$$arity=1,r)),this)},S.$$arity=0),t.def(P,"$length",R=function(){return this.$class().$members().$length()},R.$$arity=0),t.alias(P,"size","length"),t.def(P,"$to_a",C=function(){var t;return _(this.$class().$members(),"map",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=a),r["$[]"](e)}).$$s=this,t.$$arity=1,t))},C.$$arity=0),t.alias(P,"values","to_a"),t.def(P,"$inspect",T=function(){var t,e,r=a;return r="#<struct ",h(h(t=l(L,"Struct")["$==="](this))?this.$class().$name():t)&&(r=s(r,this.$class()+" ")),r=s(r,_(this.$each_pair(),"map",[],(e=function(t,r){e.$$s;return null==t&&(t=a),null==r&&(r=a),t+"="+r.$inspect()},e.$$s=this,e.$$arity=2,e)).$join(", ")),r=s(r,">")},T.$$arity=0),t.alias(P,"to_s","inspect"),t.def(P,"$to_h",M=function(){var e;return _(this.$class().$members(),"each_with_object",[u([],{})],((e=function(n,i){var s,$=e.$$s||this;return null==n&&(n=a),null==i&&(i=a),s=[n,$["$[]"](n)],_(i,"[]=",t.to_a(s)),s[r(s.length,1)]}).$$s=this,e.$$arity=2,e))},M.$$arity=0),t.def(P,"$values_at",I=function(e){var r,n,i;r=t.slice.call(arguments,0,arguments.length);for(var s=[],$=0,o=(n=_(n=r,"map",[],(i=function(t){i.$$s;return null==t&&(t=a),t.$$is_range?t.$to_a():t},i.$$s=this,i.$$arity=1,i)).$flatten()).length;$<o;$++)n[$].$$is_number||this.$raise(l(L,"TypeError"),"no implicit conversion of "+n[$].$class()+" into Integer"),s.push(this["$[]"](n[$]));return s},I.$$arity=-1),t.def(P,"$dig",N=function(e,r){var n,i=this,s=a;return n=t.slice.call(arguments,1,arguments.length),(s=h(e.$$is_string&&i.$$data.hasOwnProperty(e))&&i.$$data[e]||a)===a||0===n.length?s:(h(s["$respond_to?"]("dig"))||i.$raise(l(L,"TypeError"),s.$class()+" does not have #dig method"),_(s,"dig",t.to_a(n)))},N.$$arity=-2),a&&"dig"}(o[0],0,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,s=t.const_get_relative,$=(t.breaker,t.slice,t.klass),o=t.module,a=t.send,l=t.gvars,c=t.truthy,u=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,i){function u(){}var h,_,d,f,p=u=$(e,null,"IO",u),m=p.prototype,y=[p].concat(i);m.tty=m.closed=n,t.const_set(y[0],"SEEK_SET",0),t.const_set(y[0],"SEEK_CUR",1),t.const_set(y[0],"SEEK_END",2),t.def(p,"$tty?",h=function(){return this.tty},h.$$arity=0),t.def(p,"$closed?",_=function(){return this.closed},_.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",d=function(t){return this.write_proc(t),t.$size()},d.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",f=function(){return n},f.$$arity=0),function(e,r){function i(){}var s,$,u,h=i=o(e,"Writable",i);h.prototype,[h].concat(r);t.def(h,"$<<",s=function(t){return this.$write(t),this},s.$$arity=1),t.def(h,"$print",$=function(e){var r,i;return null==l[","]&&(l[","]=n),r=t.slice.call(arguments,0,arguments.length),this.$write(a(r,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=n),e.$String(t)},i.$$s=this,i.$$arity=1,i)).$join(l[","])),n},$.$$arity=-1),t.def(h,"$puts",u=function(e){var r,i,s;return null==l["/"]&&(l["/"]=n),r=t.slice.call(arguments,0,arguments.length),s=l["/"],c(r["$empty?"]())?this.$write(l["/"]):this.$write(a(r,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=n),e.$String(t).$chomp()},i.$$s=this,i.$$arity=1,i)).$concat([n]).$join(s)),n},u.$$arity=-1)}(y[0],y),function(e,r){function i(){}var $,a,c,u,h=i=o(e,"Readable",i),_=(h.prototype,[h].concat(r));t.def(h,"$readbyte",$=function(){return this.$getbyte()},$.$$arity=0),t.def(h,"$readchar",a=function(){return this.$getc()},a.$$arity=0),t.def(h,"$readline",c=function(t){return null==l["/"]&&(l["/"]=n),null==t&&(t=l["/"]),this.$raise(s(_,"NotImplementedError"))},c.$$arity=-1),t.def(h,"$readpartial",u=function(t,e){return null==e&&(e=n),this.$raise(s(_,"NotImplementedError"))},u.$$arity=-2)}(y[0],y)}(r[0],0,r),t.const_set(r[0],"STDERR",l.stderr=s(r,"IO").$new()),t.const_set(r[0],"STDIN",l.stdin=s(r,"IO").$new()),t.const_set(r[0],"STDOUT",l.stdout=s(r,"IO").$new());var h=t.global.console;return u=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){h.log(t)}],a(s(r,"STDOUT"),"write_proc=",t.to_a(u)),u[e(u.length,1)],u=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){h.warn(t)}],a(s(r,"STDERR"),"write_proc=",t.to_a(u)),u[e(u.length,1)],s(r,"STDOUT").$extend(i(s(r,"IO"),"Writable")),s(r,"STDERR").$extend(i(s(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return $(i,"Object").$include(t)},r.$$arity=1),s&&"include"},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$[]"]),function(e,$,o){function a(){}var l=a=i(e,null,"Dir",a),c=(l.prototype,[l].concat(o));return function(e,i){e.prototype;var $,o,a,l=[e].concat(i);return t.def(e,"$chdir",$=function(e){var n=$.$$p,i=n||r,s=r;return n&&($.$$p=null),function(){try{return s=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=s}}()},$.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",a=function(){var t;return s(t=n(l,"ENV")["$[]"]("HOME"))?t:"."},a.$$arity=0),r&&"home"}(t.get_singleton_class(l),c)}(e[0],0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),$=t.truthy,o=t.range,a=t.send;return t.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(r,l,c){function u(){}var h=u=s(r,l,"File",u),_=(h.prototype,[h].concat(c)),d=n;return t.const_set(_[0],"Separator",t.const_set(_[0],"SEPARATOR","/")),t.const_set(_[0],"ALT_SEPARATOR",n),t.const_set(_[0],"PATH_SEPARATOR",":"),t.const_set(_[0],"FNM_SYSCASE",0),d=/^[a-zA-Z]:(?:\\|\/)/,function(r,s){r.prototype;var l,c,u,h,_,f,p,m,y=[r].concat(s);function g(t){return $(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(y,"Opal")["$coerce_to!"](t,i(y,"String"),"to_str")}function b(){return i(y,"ALT_SEPARATOR")===n?t.escape_regexp(i(y,"SEPARATOR")):t.escape_regexp(e(i(y,"SEPARATOR"),i(y,"ALT_SEPARATOR")))}return t.def(r,"$expand_path",l=function(t,r){var s,o,a,l,c,u,h=n,_=n,f=n,p=n,m=n,g=n,v=n;null==r&&(r=n),o=i(y,"SEPARATOR"),a=b(),h=[],$("~"===t[0]||r&&"~"===r[0])&&(_=i(y,"Dir").$home(),$(_)||this.$raise(i(y,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),$(_["$start_with?"](o))||this.$raise(i(y,"ArgumentError"),"non-absolute home"),_=e(_,o),f=new RegExp("^\\~(?:"+o+"|$)"),t=t.$sub(f,_),$(r)&&(r=r.$sub(f,_))),r=$(s=r)?s:i(y,"Dir").$pwd(),l=t.substr(0,o.length)===o||d.test(t),c=r.substr(0,o.length)===o||d.test(r),$(l)?(p=t.$split(new RegExp("["+a+"]")),m=d.test(t)?"":t.$sub(new RegExp("^(["+a+"]+).*$"),"\\1"),g=!0):(p=e(r.$split(new RegExp("["+a+"]")),t.$split(new RegExp("["+a+"]"))),m=d.test(r)?"":r.$sub(new RegExp("^(["+a+"]+).*$"),"\\1"),g=c);for(var x=0,w=p.length;x<w;x++)(u=p[x])===n||""===u&&(0===h.length||g)||"."===u&&(0===h.length||g)||(".."===u?h.pop():h.push(u));return g||"."===p[0]||h.$unshift("."),v=h.$join(o),$(g)&&(v=e(m,v)),v},l.$$arity=-2),t.alias(r,"realpath","expand_path"),t.def(r,"$dirname",c=function(t){var e;e=b();var r=(t=g(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?r?"/":".":t},c.$$arity=1),t.def(r,"$basename",u=function(e,r){var s;return null==r&&(r=n),s=b(),0==(e=g(e)).length?e:(r=r!==n?i(y,"Opal")["$coerce_to!"](r,i(y,"String"),"to_str"):null,e=(e=e.replace(new RegExp("(.)["+s+"]*$"),"$1")).replace(new RegExp("^(?:.*["+s+"])?([^"+s+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(r+"$"),"")),e)},u.$$arity=-2),t.def(r,"$extname",h=function(r){var i,s,a,l=n,c=n;return r=g(r),l=this.$basename(r),$(l["$empty?"]())?"":(c=l["$[]"](o(1,-1,!1)).$rindex("."),$($(i=c["$nil?"]())?i:e(c,1)["$=="]((s=l.$length(),a=1,"number"==typeof s&&"number"==typeof a?s-a:s["$-"](a))))?"":l["$[]"](t.Range.$new(e(c,1),-1,!1)))},h.$$arity=1),t.def(r,"$exist?",_=function(e){return null!=t.modules[e]},_.$$arity=1),t.alias(r,"exists?","exist?"),t.def(r,"$directory?",f=function(e){var r,s=n;for(var $ in s=[],t.modules)s.push($);return e=e.$gsub(new RegExp("(^."+i(y,"SEPARATOR")+"+|"+i(y,"SEPARATOR")+"+$)")),a(s,"find",[],((r=function(t){r.$$s;return null==t&&(t=n),t["$=~"](new RegExp("^"+e))}).$$s=this,r.$$arity=1,r))},f.$$arity=1),t.def(r,"$join",p=function(r){var s,o,l,c,u=n;return s=t.slice.call(arguments,0,arguments.length),$((o=s)["$empty?"]())?"":(u="",o=a(o.$flatten().$each_with_index(),"map",[],((l=function(t,r){l.$$s;return null==t&&(t=n),null==r&&(r=n),$(r["$=="](0)?t["$empty?"]():r["$=="](0))?i(y,"SEPARATOR"):$(o.$length()["$=="](e(r,1))?t["$empty?"]():o.$length()["$=="](e(r,1)))?i(y,"SEPARATOR"):t}).$$s=this,l.$$arity=2,l)),o=a(o,"reject",[],"empty?".$to_proc()),a(o,"each_with_index",[],((c=function(t,r){c.$$s;var s,a=n;return null==t&&(t=n),null==r&&(r=n),a=o["$[]"](e(r,1)),$(a["$nil?"]())?u=""+u+t:($($(s=t["$end_with?"](i(y,"SEPARATOR")))?a["$start_with?"](i(y,"SEPARATOR")):s)&&(t=t.$sub(new RegExp(i(y,"SEPARATOR")+"+$"),"")),u=$($(s=t["$end_with?"](i(y,"SEPARATOR")))?s:a["$start_with?"](i(y,"SEPARATOR")))?""+u+t:""+u+t+i(y,"SEPARATOR"))}).$$s=this,c.$$arity=2,c)),u)},p.$$arity=-1),t.def(r,"$split",m=function(t){return t.$split(i(y,"SEPARATOR"))},m.$$arity=1),n&&"split"}(t.get_singleton_class(h),_)}(r[0],i(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,s=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,a){function l(){}var c,u,h,_,d=l=s(e,null,"Process",l),f=(d.prototype,[d].concat(a)),p=r;if(d.__clocks__=[],t.defs(d,"$__register_clock__",c=function(t,e){return null==this.__clocks__&&(this.__clocks__=r),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},c.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var m=process.hrtime();p=function(){var t=process.hrtime(m),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}$(p)&&d.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(d,"$pid",u=function(){return 0},u.$$arity=0),t.defs(d,"$times",h=function(){var t;return t=i(f,"Time").$now().$to_f(),n(i(f,"Benchmark"),"Tms").$new(t,t,t,t,t)},h.$$arity=0),t.defs(d,"$clock_gettime",_=function(t,e){var s=r;null==this.__clocks__&&(this.__clocks__=r),null==e&&(e="float_second"),$(s=this.__clocks__["$[]"](t))||this.$raise(n(i(f,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t));var o=s();switch(e){case"float_second":return o/1e3;case"float_millisecond":return o/1;case"float_microsecond":return 1e3*o;case"second":return o/1e3|0;case"millisecond":return o/1|0;case"microsecond":return 1e3*o|0;case"nanosecond":return 1e6*o|0;default:this.$raise(i(f,"ArgumentError"),"unexpected unit: "+e)}},_.$$arity=-2)}(e[0],0,e),function(e,n,i){function $(){}var o,a=$=s(e,null,"Signal",$);a.prototype,[a].concat(i);t.defs(a,"$trap",o=function(e){return t.slice.call(arguments,0,arguments.length),r},o.$$arity=-1)}(e[0],0,e),function(e,n,i){function $(){}var o,a=$=s(e,null,"GC",$);a.prototype,[a].concat(i);return t.defs(a,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],0,e)},Opal.modules["corelib/random"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.truthy,$=t.send;return t.add_stubs(["$attr_reader","$new_seed","$coerce_to!","$reseed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state","$const_defined?","$const_set"]),function(e,o,a){function l(){}var c,u,h,_,d,f,p,m,y,g,b=l=i(e,null,"Random",l),v=(b.prototype,[b].concat(a));return b.$attr_reader("seed","state"),t.def(b,"$initialize",c=function(t){return null==t&&(t=n(v,"Random").$new_seed()),t=n(v,"Opal")["$coerce_to!"](t,n(v,"Integer"),"to_int"),this.state=t,this.$reseed(t)},c.$$arity=-1),t.def(b,"$reseed",u=function(e){return this.seed=e,this.$rng=t.$$rand.reseed(e)},u.$$arity=1),t.defs(b,"$new_seed",h=function(){return t.$$rand.new_seed()},h.$$arity=0),t.defs(b,"$rand",_=function(t){return n(v,"DEFAULT").$rand(t)},_.$$arity=-1),t.defs(b,"$srand",d=function(t){var e;return null==t&&(t=n(v,"Random").$new_seed()),t=n(v,"Opal")["$coerce_to!"](t,n(v,"Integer"),"to_int"),e=n(v,"DEFAULT").$seed(),n(v,"DEFAULT").$reseed(t),e},d.$$arity=-1),t.defs(b,"$urandom",f=function(t){var e,r,i;return t=n(v,"Opal")["$coerce_to!"](t,n(v,"Integer"),"to_int"),s((i=0,"number"==typeof(r=t)&&"number"==typeof i?r<i:r["$<"](i)))&&this.$raise(n(v,"ArgumentError"),"negative string size (or size too big)"),$(n(v,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},f.$$arity=1),t.def(b,"$==",p=function(t){return!!s(n(v,"Random")["$==="](t))&&(this.$seed()["$=="](t.$seed())?this.$state()["$=="](t.$state()):this.$seed()["$=="](t.$seed()))},p.$$arity=1),t.def(b,"$bytes",m=function(t){var e;return t=n(v,"Opal")["$coerce_to!"](t,n(v,"Integer"),"to_int"),$(n(v,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},m.$$arity=1),t.def(b,"$rand",y=function(e){var i=this;function s(){return i.state++,t.$$rand.rand(i.$rng)}function $(){return Math.floor(s()*e)}return null==e?s():e.$$is_range?function(){var t=e.begin,n=e.end;if(t===r||n===r)return r;var s=n-t;return s<0?r:0===s?t:(n%1!=0||t%1!=0||e.excl||s++,i.$rand(s)+t)}():e.$$is_number?(e<=0&&i.$raise(n(v,"ArgumentError"),"invalid argument - "+e),e%1==0?$():s()*e):((e=n(v,"Opal")["$coerce_to!"](e,n(v,"Integer"),"to_int"))<=0&&i.$raise(n(v,"ArgumentError"),"invalid argument - "+e),$())},y.$$arity=-1),t.defs(b,"$generator=",g=function(e){return t.$$rand=e,s(this["$const_defined?"]("DEFAULT"))?n(v,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},g.$$arity=1),r&&"generator="}(e[0],0,e)};var MersenneTwister=function(){var t=624,e=397,r=function(t,e){return function(t,e){return 2147483648&t|2147483647&e}(t,e)>>>1^(1&e?2567483615:0)};function n(n){var i;return--n.left<=0&&function(n){var i,s=0,$=n.state;for(n.left=t,n.next=0,i=t-e+1;--i;s++)$[s]=$[s+e]^r($[s+0],$[s+1]);for(i=e;--i;s++)$[s]=$[s+(e-t)]^r($[s+0],$[s+1]);$[s]=$[s+(e-t)]^r($[s+0],$[0])}(n),i=n.state[n.next++],i^=i>>>11,i^=i<<7&2636928640,i^=i<<15&4022730752,(i^=i>>>18)>>>0}return{genrand_real:function(t){return function(t,e){return(67108864*(t>>>=5)+(e>>>=6))*(1/9007199254740992)}(n(t),n(t))},init:function(e){var r={left:0,next:t,state:new Array(t)};return function(e,r){var n;for(e.state[0]=r>>>0,n=1;n<t;n++)e.state[n]=1812433253*(e.state[n-1]^e.state[n-1]>>30>>>0)+n,e.state[n]&=4294967295;e.left=1,e.next=t}(r,e),r}}}();Opal.loaded(["corelib/random/MersenneTwister.js"]),Opal.modules["corelib/random/mersenne_twister"]=function(t){var e=t.top,r=[],n=(t.nil,t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),s=t.send;return t.add_stubs(["$require","$generator=","$-"]),e.$require("corelib/random/MersenneTwister"),function(e,r,$){function o(){}var a,l,c,u=o=i(e,null,"Random",o),h=(u.prototype,[u].concat($)),_=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return t.const_set(h[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*_)},reseed:function(t){return MersenneTwister.init(t)},rand:function(t){return MersenneTwister.genrand_real(t)}}),a=[n(h,"MERSENNE_TWISTER_GENERATOR")],s(u,"generator=",t.to_a(a)),a[(l=a.length,c=1,"number"==typeof l&&"number"==typeof c?l-c:l["$-"](c))]}(r[0],0,r)},Opal.modules["corelib/unsupported"]=function(t){var e,r,n=t.top,i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.module;t.add_stubs(["$raise","$warn","$%"]);var l={};function c(e){switch(t.config.unsupported_features_severity){case"error":$(i,"Kernel").$raise($(i,"NotImplementedError"),e);break;case"warning":!function(t){if(l[t])return;l[t]=!0,n.$warn(t)}(e)}}return function(e,r,n){function i(){}var s,a,l,c,u,h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C=i=o(e,null,"String",i),T=(C.prototype,[C].concat(n)),M="String#%s not supported. Mutable String methods are not supported in Opal.";t.def(C,"$<<",s=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("<<"))},s.$$arity=-1),t.def(C,"$capitalize!",a=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("capitalize!"))},a.$$arity=-1),t.def(C,"$chomp!",l=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("chomp!"))},l.$$arity=-1),t.def(C,"$chop!",c=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("chop!"))},c.$$arity=-1),t.def(C,"$downcase!",u=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("downcase!"))},u.$$arity=-1),t.def(C,"$gsub!",h=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("gsub!"))},h.$$arity=-1),t.def(C,"$lstrip!",_=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("lstrip!"))},_.$$arity=-1),t.def(C,"$next!",d=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("next!"))},d.$$arity=-1),t.def(C,"$reverse!",f=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("reverse!"))},f.$$arity=-1),t.def(C,"$slice!",p=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("slice!"))},p.$$arity=-1),t.def(C,"$squeeze!",m=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("squeeze!"))},m.$$arity=-1),t.def(C,"$strip!",y=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("strip!"))},y.$$arity=-1),t.def(C,"$sub!",g=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("sub!"))},g.$$arity=-1),t.def(C,"$succ!",b=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("succ!"))},b.$$arity=-1),t.def(C,"$swapcase!",v=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("swapcase!"))},v.$$arity=-1),t.def(C,"$tr!",x=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("tr!"))},x.$$arity=-1),t.def(C,"$tr_s!",w=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("tr_s!"))},w.$$arity=-1),t.def(C,"$upcase!",k=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("upcase!"))},k.$$arity=-1),t.def(C,"$prepend",E=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("prepend"))},E.$$arity=-1),t.def(C,"$[]=",A=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("[]="))},A.$$arity=-1),t.def(C,"$clear",O=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("clear"))},O.$$arity=-1),t.def(C,"$encode!",S=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("encode!"))},S.$$arity=-1),t.def(C,"$unicode_normalize!",R=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(T,"NotImplementedError"),M["$%"]("unicode_normalize!"))},R.$$arity=-1)}(i[0],0,i),function(e,r){function n(){}var i,s,$=n=a(e,"Kernel",n),o=($.prototype,[$].concat(r),"Object freezing is not supported by Opal");t.def($,"$freeze",i=function(){return c(o),this},i.$$arity=0),t.def($,"$frozen?",s=function(){return c(o),!1},s.$$arity=0)}(i[0],i),function(e,r){function n(){}var i,s,$,o=n=a(e,"Kernel",n),l=(o.prototype,[o].concat(r),"Object tainting is not supported by Opal");t.def(o,"$taint",i=function(){return c(l),this},i.$$arity=0),t.def(o,"$untaint",s=function(){return c(l),this},s.$$arity=0),t.def(o,"$tainted?",$=function(){return c(l),!1},$.$$arity=0)}(i[0],i),function(e,r,n){function i(){}var $,a,l,c,u=i=o(e,null,"Module",i);u.prototype,[u].concat(n);t.def(u,"$public",$=function(e){return 0===t.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1),s},$.$$arity=-1),t.alias(u,"private","public"),t.alias(u,"protected","public"),t.alias(u,"nesting","public"),t.def(u,"$private_class_method",a=function(e){return t.slice.call(arguments,0,arguments.length),this},a.$$arity=-1),t.alias(u,"public_class_method","private_class_method"),t.def(u,"$private_method_defined?",l=function(t){return!1},l.$$arity=1),t.def(u,"$private_constant",c=function(e){return t.slice.call(arguments,0,arguments.length),s},c.$$arity=-1),t.alias(u,"protected_method_defined?","private_method_defined?"),t.alias(u,"public_instance_methods","instance_methods"),t.alias(u,"public_instance_method","instance_method"),t.alias(u,"public_method_defined?","method_defined?")}(i[0],0,i),function(e,r){function n(){}var i,s=n=a(e,"Kernel",n);s.prototype,[s].concat(r);t.def(s,"$private_methods",i=function(e){return t.slice.call(arguments,0,arguments.length),[]},i.$$arity=-1),t.alias(s,"private_instance_methods","private_methods")}(i[0],i),function(e,r){function n(){}var i,s=n=a(e,"Kernel",n),o=(s.prototype,[s].concat(r));t.def(s,"$eval",i=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise($(o,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+$(o,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},i.$$arity=-1)}(i[0],i),t.defs(n,"$public",e=function(e){return t.slice.call(arguments,0,arguments.length),s},e.$$arity=-1),t.defs(n,"$private",r=function(e){return t.slice.call(arguments,0,arguments.length),s},r.$$arity=-1),s&&"private"},function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/random/mersenne_twister.js"),e.$require("corelib/unsupported")}(Opal)},function(t,e,r){Opal.modules["nodejs/kernel"]=function(t){t.top;var e,n,i=[],s=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module);return t.add_stubs(["$warn","$to_str","$new","$to_s"]),t.exit=process.exit,function(e,n){function i(){}var s,a,l=i=o(e,"Kernel",i),c=(l.prototype,[l].concat(n));t.const_set(c[0],"NODE_REQUIRE",r(14)),t.def(l,"$caller",s=function(e){var r;t.slice.call(arguments,0,arguments.length);try{throw Error("my error")}catch(t){r=t.stack}return r.$split("\n").slice(3)},s.$$arity=-1),t.def(l,"$node_require",a=function(t){return this.$warn("[DEPRECATION] node_require is deprecated. Please use `require('module')` instead."),$(c,"NODE_REQUIRE")(t.$to_str())},a.$$arity=1)}(i[0],i),t.const_set(i[0],"ARGV",process.argv.slice(2)),t.const_set(i[0],"ENV",$(i,"Object").$new()),t.defs($(i,"ENV"),"$[]=",e=function(t,e){return process.env[t.$to_s()]=e.$to_s()},e.$$arity=2),t.defs($(i,"ENV"),"$[]",n=function(t){return process.env[t]||s},n.$$arity=1),s&&"[]"},Opal.modules["nodejs/file"]=function(t){var e=t.top,n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.gvars;t.add_stubs(["$raise","$warn","$const_get","$new","$const_defined?","$const_set","$include","$size","$respond_to?","$path","$join","$call","$exist?","$realpath","$!=","$close","$to_str","$pwd","$delete","$match?","$sub","$attr_reader","$to_a","$each_line","$to_enum","$read","$chomp"]);var c,u={},h=["EACCES","EISDIR","EMFILE","ENOENT","EPERM"];function _(r){switch(t.config.unsupported_features_severity){case"error":$(n,"Kernel").$raise($(n,"NotImplementedError"),r);break;case"warning":!function(t){if(u[t])return;u[t]=!0,e.$warn(t)}(r)}}function d(t){try{return t()}catch(t){if(h.indexOf(t.code)>=0)throw $(n,"Errno").$const_get(t.code).$new(t.message);throw t}}for(var f=0,p=h.length;f<p;f++)c=h[f],$(n,"Errno")["$const_defined?"](c)||$(n,"Errno").$const_set(c,$(n,"Class").$new($(n,"SystemCallError")));return function(e,n,c){function u(){}var h,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L=u=o(e,n,"File",u),D=L.prototype,F=[L].concat(c);null==L.__fs__&&(L.__fs__=i),null==L.__path__&&(L.__path__=i),D.eof=D.path=D.fd=i,L.$include(s(s("::","IO"),"Writable")),L.$include(s(s("::","IO"),"Readable")),L.__fs__=r(0),L.__path__=r(1);var z=L.__fs__,B=L.__path__;a(B.sep!==$(F,"Separator"))&&t.const_set(F[0],"ALT_SEPARATOR",B.sep),t.defs(L,"$read",h=function(t){return d(function(){return z.readFileSync(t).toString()})},h.$$arity=1),t.defs(L,"$write",f=function(t,e){return d(function(){return z.writeFileSync(t,e)}),e.$size()},f.$$arity=2),t.defs(L,"$exist?",p=function(t){return a(t["$respond_to?"]("path"))&&(t=t.$path()),d(function(){return z.existsSync(t)})},p.$$arity=1),t.defs(L,"$realpath",m=function(e,r,n){var s=m.$$p,$=s||i;if(s&&(m.$$p=null),s&&(m.$$p=null),null==r&&(r=i),null==n&&(n=i),a(r)&&(e=this.$join(r,e)),$===i)return d(function(){return z.realpathSync(e,n)});z.realpath(e,n,function(e,r){e?t.IOError.$new(e.message):$.$call(r)})},m.$$arity=-2),t.defs(L,"$join",y=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),B.posix.join.apply(B,r)},y.$$arity=-1),t.defs(L,"$directory?",g=function(t){var e=i,r=i;return!!a(this["$exist?"](t))&&(e=d(function(){return!!z.lstatSync(t).isDirectory()}),a(e)||(r=this.$realpath(t),a(r["$!="](t))&&(e=d(function(){return!!z.lstatSync(r).isDirectory()}))),e)},g.$$arity=1),t.defs(L,"$file?",b=function(t){var e=i,r=i;return!!a(this["$exist?"](t))&&(e=d(function(){return!!z.lstatSync(t).isFile()}),a(e)||(r=this.$realpath(t),a(r["$!="](t))&&(e=d(function(){return!!z.lstatSync(r).isFile()}))),e)},b.$$arity=1),t.defs(L,"$readable?",v=function(t){return!!a(this["$exist?"](t))&&"\n        try {\n          __fs__.accessSync(path, __fs__.R_OK);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      "},v.$$arity=1),t.defs(L,"$size",x=function(t){return d(function(){return z.lstatSync(t).size})},x.$$arity=1),t.defs(L,"$open",w=function(e,r){var n=w.$$p,s=n||i,$=i;return n&&(w.$$p=null),null==r&&(r="r"),$=this.$new(e,r),s!==i?function(){try{return t.yield1(s,$)}finally{$.$close()}}():$},w.$$arity=-2),t.defs(L,"$stat",k=function(t){return a(t["$respond_to?"]("path"))&&(t=t.$path()),s($(F,"File"),"Stat").$new(t)},k.$$arity=1),t.defs(L,"$mtime",E=function(t){return d(function(){return z.statSync(t).mtime})},E.$$arity=1),t.defs(L,"$symlink?",A=function(t){return d(function(){return z.lstatSync(t).isSymbolicLink()})},A.$$arity=1),t.defs(L,"$expand_path",O=function(t,e){var r;return null==e&&(e=i),t=t.$to_str(),e=a(r=e)?r:$(F,"Dir").$pwd(),B.normalize(B.resolve(e.$to_str(),t)).split(B.sep).join(B.posix.sep)},O.$$arity=-2),t.def(L,"$initialize",S=function(t,e){var r=i;return null==e&&(e="r"),e=e.$delete("b"),a((r=/:(.*)/)["$match?"](e))&&(_("Encoding option (:encoding) is unsupported by Node.js openSync method and will be removed."),e=e.$sub(r,"")),this.path=t,this.flags=e,this.fd=d(function(){return z.openSync(t,e)})},S.$$arity=-2),L.$attr_reader("path"),t.def(L,"$read",R=function(){var t=this,e=i;return a(t.eof)?"":(e=d(function(){return z.readFileSync(t.path).toString()}),t.eof=!0,t.lineno=e.$size(),e)},R.$$arity=0),t.def(L,"$readlines",C=function(t){return null==l["/"]&&(l["/"]=i),null==t&&(t=l["/"]),this.$each_line(t).$to_a()},C.$$arity=-1),t.def(L,"$each_line",T=function(e){var r=T.$$p,n=r||i,s=this,o=i;if(null==l["/"]&&(l["/"]=i),r&&(T.$$p=null),r&&(T.$$p=null),null==e&&(e=l["/"]),a(s.eof))return n!==i?s:[].$to_enum();if(n!==i){o=$(F,"File").$read(s.path),s.eof=!1,s.lineno=0;for(var c=o.$chomp(),u=o.length!=c.length,h=c.split(e),_=0,d=h.length;_<d;_++)s.lineno+=1,_<d-1||u?t.yield1(n,h[_]+e):t.yield1(n,h[_]);return s.eof=!0,s}return s.$read().$each_line(e)},T.$$arity=-1),t.def(L,"$write",M=function(t){var e=this;return d(function(){return z.writeSync(e.fd,t)})},M.$$arity=1),t.def(L,"$flush",I=function(){var t=this;return d(function(){return z.fsyncSync(t.fd)})},I.$$arity=0),t.def(L,"$close",N=function(){var t=this;return d(function(){return z.closeSync(t.fd)})},N.$$arity=0),t.def(L,"$mtime",P=function(){var t=this;return d(function(){return z.statSync(t.path).mtime})},P.$$arity=0)}(n[0],$(n,"IO"),n),function(e,n,s){function $(){}var a,l,c,u=$=o(e,null,"Stat",$),h=u.prototype;[u].concat(s);null==u.__fs__&&(u.__fs__=i),h.path=i,u.__fs__=r(0);var _=u.__fs__;return t.def(u,"$initialize",a=function(t){return this.path=t},a.$$arity=1),t.def(u,"$file?",l=function(){var t=this;return d(function(){return _.statSync(t.path).isFile()})},l.$$arity=0),t.def(u,"$mtime",c=function(){var t=this;return d(function(){return _.statSync(t.path).mtime})},c.$$arity=0),i&&"mtime"}($(n,"File"),0,n)},Opal.modules["nodejs/dir"]=function(t){t.top;var e=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),$=t.truthy,o=t.send;return t.add_stubs(["$respond_to?","$flat_map","$to_path","$coerce_to!"]),function(e,a,l){function c(){}var u=c=s(e,null,"Dir",c),h=(u.prototype,[u].concat(l));null==u.__glob__&&(u.__glob__=n),null==u.__fs__&&(u.__fs__=n),null==u.__path__&&(u.__path__=n),u.__glob__=r(5),u.__fs__=r(0),u.__path__=r(1);var _=u.__glob__,d=u.__fs__,f=u.__path__;return function(e,r){e.prototype;var s,a,l,c,u,h=[e].concat(r);return t.def(e,"$[]",s=function(t){return _.sync(t)},s.$$arity=1),t.def(e,"$pwd",a=function(){return process.cwd().split(f.sep).join(f.posix.sep)},a.$$arity=0),t.def(e,"$mkdir",l=function(t){return d.mkdirSync(t)},l.$$arity=1),t.def(e,"$entries",c=function(t){for(var e=[],r=d.readdirSync(t),n=0,i=r.length;n<i;n++)e.push(r[n]);return e},c.$$arity=1),t.def(e,"$glob",u=function(t){var e;return $(t["$respond_to?"]("each"))||(t=[t]),o(t,"flat_map",[],((e=function(t){e.$$s;return null==t&&(t=n),$(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(h,"Opal")["$coerce_to!"](t,i(h,"String"),"to_str"),_.sync(t)}).$$s=this,e.$$arity=1,e))},u.$$arity=1),t.alias(e,"getwd","pwd")}(t.get_singleton_class(u),h)}(e[0],0,e)},Opal.modules["nodejs/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n,i,s=t.top,$=[],o=t.nil,a=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.klass),c=t.lambda,u=t.send,h=o;return t.add_stubs(["$attr_reader","$write","$read","$write_proc=","$-","$tty="]),function(e,n,i){function s(){}var $,c,u,h,_=s=l(e,null,"IO",s),d=(_.prototype,[_].concat(i));null==_.__fs__&&(_.__fs__=o),_.__fs__=r(0);var f=_.__fs__;_.$attr_reader("eof"),_.$attr_reader("lineno"),t.def(_,"$initialize",$=function(){return this.eof=!1,this.lineno=0},$.$$arity=0),t.defs(_,"$write",c=function(t,e){return a(d,"File").$write(t,e)},c.$$arity=2),t.defs(_,"$read",u=function(t){return a(d,"File").$read(t)},u.$$arity=1),t.defs(_,"$binread",h=function(e){return function(e){try{return e()}catch(e){if("EACCES"===e.code||"EISDIR"===e.code||"EMFILE"===e.code||"ENOENT"===e.code||"EPERM"===e.code)throw t.IOError.$new(e.message);throw e}}(function(){return f.readFileSync(e).toString("binary")})},h.$$arity=1)}($[0],0,$),h=[c((n=function(t){n.$$s;return null==t&&(t=o),process.stdout.write(t)},n.$$s=s,n.$$arity=1,n))],u(a($,"STDOUT"),"write_proc=",t.to_a(h)),h[e(h.length,1)],h=[c((i=function(t){i.$$s;return null==t&&(t=o),process.stderr.write(t)},i.$$s=s,i.$$arity=1,i))],u(a($,"STDERR"),"write_proc=",t.to_a(h)),h[e(h.length,1)],h=[!0],u(a($,"STDOUT"),"tty=",t.to_a(h)),h[e(h.length,1)],h=[!0],u(a($,"STDERR"),"tty=",t.to_a(h)),h[e(h.length,1)]},Opal.modules["nodejs/open-uri"]=function(t){t.top;var e=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,s){function $(){}var o,a=$=i(e,"OpenURI",$);a.prototype,[a].concat(s);null==a.__xmlhttprequest__&&(a.__xmlhttprequest__=n),a.__xmlhttprequest__=r(23);var l=a.__xmlhttprequest__.XMLHttpRequest;t.defs(a,"$request",o=function(t){var e=new l;return e.open("GET",t,!1),e.send(),e},o.$$arity=1)}(e[0],e)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],i=t.nil,s=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,a){function l(){}var c,u,h,_,d,f,p,m,y=l=$(n,"Comparable",l),g=(y.prototype,[y].concat(a));t.defs(y,"$normalize",c=function(t){return o(s(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},c.$$arity=1),t.def(y,"$==",u=function(e){var r=i;try{return!!o(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!o(r=this["$<=>"](e))&&0==s(g,"Comparable").$normalize(r))}catch(e){if(!t.rescue(e,[s(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},u.$$arity=1),t.def(y,"$>",h=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)>0},h.$$arity=1),t.def(y,"$>=",_=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)>=0},_.$$arity=1),t.def(y,"$<",d=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)<0},d.$$arity=1),t.def(y,"$<=",f=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)<=0},f.$$arity=1),t.def(y,"$between?",p=function(t,n){return!r(this,t)&&!e(this,n)},p.$$arity=2),t.def(y,"$clamp",m=function(t,n){var i;return i=t["$<=>"](n),o(i)||this.$raise(s(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e(s(g,"Comparable").$normalize(i),0))&&this.$raise(s(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r(s(g,"Comparable").$normalize(this["$<=>"](t)),0))?t:o(e(s(g,"Comparable").$normalize(this["$<=>"](n)),0))?n:this},m.$$arity=2)}(n[0],n)},Opal.modules.pathname=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.send,c=t.module;return t.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,n,c){function u(){}var h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D=u=o(r,null,"Pathname",u),F=D.prototype,z=[D].concat(c);F.path=i,D.$include($(z,"Comparable")),t.const_set(z[0],"SEPARATOR_PAT",new RegExp($(z,"Regexp").$quote(s($(z,"File"),"SEPARATOR")))),t.def(D,"$initialize",h=function(t){return a($(z,"Pathname")["$==="](t))?this.path=t.$path().$to_s():a(t["$respond_to?"]("to_path"))?this.path=t.$to_path():a(t["$is_a?"]($(z,"String")))?this.path=t:a(t["$nil?"]())?this.$raise($(z,"TypeError"),"no implicit conversion of nil into String"):this.$raise($(z,"TypeError"),"no implicit conversion of "+t.$class()+" into String"),this.path["$=="]("\0")?this.$raise($(z,"ArgumentError")):i},h.$$arity=1),D.$attr_reader("path"),t.def(D,"$==",_=function(t){return t.$path()["$=="](this.path)},_.$$arity=1),t.def(D,"$absolute?",d=function(){return this["$relative?"]()["$!"]()},d.$$arity=0),t.def(D,"$relative?",f=function(){var e,r,n=i,s=i;for(n=this.path;a(s=this.$chop_basename(n));)r=s,n=null==(e=t.to_ary(r))[0]?i:e[0];return n["$=="]("")},f.$$arity=0),t.def(D,"$chop_basename",p=function(t){var e;return e=$(z,"File").$basename(t),a($(z,"Regexp").$new("^"+s($(z,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](e))?i:[t["$[]"](0,t.$rindex(e)),e]},p.$$arity=1),t.def(D,"$root?",m=function(){return this.path["$=="]("/")},m.$$arity=0),t.def(D,"$parent",y=function(){var t=this,e=i;return(e=t.path.$sub(/\/([^\/]+\/?$)/,""))["$=="]("")&&(e=a(t["$absolute?"]())?"/":"."),$(z,"Pathname").$new(e)},y.$$arity=0),t.def(D,"$sub",g=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),$(z,"Pathname").$new(l(this.path,"sub",t.to_a(r)))},g.$$arity=-1),t.def(D,"$cleanpath",b=function(){return t.normalize(this.path)},b.$$arity=0),t.def(D,"$to_path",v=function(){return this.path},v.$$arity=0),t.def(D,"$hash",x=function(){return this.path},x.$$arity=0),t.def(D,"$expand_path",w=function(){return $(z,"Pathname").$new($(z,"File").$expand_path(this.path))},w.$$arity=0),t.def(D,"$+",k=function(t){return a($(z,"Pathname")["$==="](t))||(t=$(z,"Pathname").$new(t)),$(z,"Pathname").$new(this.$plus(this.path,t.$to_s()))},k.$$arity=1),t.def(D,"$plus",E=function(r,n){var s,o,l,c=i,u=i,h=i,_=i,d=i,f=i,p=i,m=i,y=i;for(c=n,u=[],h=[];a(_=this.$chop_basename(c));)l=_,c=null==(o=t.to_ary(l))[0]?i:o[0],d=null==o[1]?i:o[1],u.$unshift(c.$length()),h.$unshift(d);if(a(c["$!="]("")))return n;for(f=r;a(!0);){for(;a(a(l=h["$empty?"]()["$!"]())?h.$first()["$=="]("."):l);)u.$shift(),h.$shift();if(!a(p=this.$chop_basename(f)))break;if(l=p,f=null==(o=t.to_ary(l))[0]?i:o[0],!(m=null==o[1]?i:o[1])["$=="](".")){if(a(a(o=a(l=m["$=="](".."))?l:h["$empty?"]())?o:h.$first()["$!="](".."))){f=e(f,m);break}u.$shift(),h.$shift()}}if(p=this.$chop_basename(f),a(a(s=p["$!"]())?new RegExp($(z,"SEPARATOR_PAT"))["$=~"]($(z,"File").$basename(f)):s))for(;a(a(o=h["$empty?"]()["$!"]())?h.$first()["$=="](".."):o);)u.$shift(),h.$shift();return a(h["$empty?"]()["$!"]())?(y=n["$[]"](t.Range.$new(u.$first(),-1,!1)),a(p)?$(z,"File").$join(f,y):e(f,y)):a(p)?f:$(z,"File").$dirname(f)},E.$$arity=2),t.def(D,"$join",A=function(r){try{var n,s,o,c=i;return n=t.slice.call(arguments,0,arguments.length),a((s=n)["$empty?"]())?this:(c=s.$pop(),a($(z,"Pathname")["$==="](c))||(c=$(z,"Pathname").$new(c)),a(c["$absolute?"]())?c:(l(s,"reverse_each",[],((o=function(r){o.$$s;if(null==r&&(r=i),a($(z,"Pathname")["$==="](r))||(r=$(z,"Pathname").$new(r)),c=e(r,c),!a(c["$absolute?"]()))return i;t.ret(c)}).$$s=this,o.$$arity=1,o)),e(this,c)))}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(D,"$split",O=function(){return[this.$dirname(),this.$basename()]},O.$$arity=0),t.def(D,"$dirname",S=function(){return $(z,"Pathname").$new($(z,"File").$dirname(this.path))},S.$$arity=0),t.def(D,"$basename",R=function(){return $(z,"Pathname").$new($(z,"File").$basename(this.path))},R.$$arity=0),t.def(D,"$directory?",C=function(){return $(z,"File")["$directory?"](this.path)},C.$$arity=0),t.def(D,"$extname",T=function(){return $(z,"File").$extname(this.path)},T.$$arity=0),t.def(D,"$<=>",M=function(t){return this.$path()["$<=>"](t.$path())},M.$$arity=1),t.alias(D,"eql?","=="),t.alias(D,"===","=="),t.alias(D,"to_str","to_path"),t.alias(D,"to_s","to_path"),t.const_set(z[0],"SAME_PATHS",a(s($(z,"File"),"FNM_SYSCASE")["$nonzero?"]())?l(D,"proc",[],((I=function(t,e){return I.$$s,null==t&&(t=i),null==e&&(e=i),t.$casecmp(e)["$=="](0)}).$$s=D,I.$$arity=2,I)):l(D,"proc",[],((N=function(t,e){return N.$$s,null==t&&(t=i),null==e&&(e=i),t["$=="](e)}).$$s=D,N.$$arity=2,N))),t.def(D,"$relative_path_from",P=function(r){var n,s,o,c=i,u=i,h=i,_=i,d=i,f=i,p=i;for(o=this.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),c=o,u=[];a(h=this.$chop_basename(c));)s=h,c=null==(n=t.to_ary(s))[0]?i:n[0],_=null==n[1]?i:n[1],a(_["$!="]("."))&&u.$unshift(_);for(d=r,f=[];a(h=this.$chop_basename(d));)s=h,d=null==(n=t.to_ary(s))[0]?i:n[0],_=null==n[1]?i:n[1],a(_["$!="]("."))&&f.$unshift(_);for(a($(z,"SAME_PATHS")["$[]"](c,d))||this.$raise($(z,"ArgumentError"),"different prefix: "+c.$inspect()+" and "+r.$inspect());a(a(n=a(s=u["$empty?"]()["$!"]())?f["$empty?"]()["$!"]():s)?$(z,"SAME_PATHS")["$[]"](u.$first(),f.$first()):n);)u.$shift(),f.$shift();return a(f["$include?"](".."))&&this.$raise($(z,"ArgumentError"),"base_directory has ..: "+r.$inspect()),f.$fill(".."),p=e(f,u),a(p["$empty?"]())?$(z,"Pathname").$new("."):$(z,"Pathname").$new(l($(z,"File"),"join",t.to_a(p)))},P.$$arity=1),t.def(D,"$entries",L=function(){var t;return l($(z,"Dir").$entries(this.path),"map",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=i),r.$class().$new(e)}).$$s=this,t.$$arity=1,t))},L.$$arity=0)}(n[0],0,n),function(e,r){function n(){}var i,s=n=c(e,"Kernel",n),o=(s.prototype,[s].concat(r));t.def(s,"$Pathname",i=function(t){return $(o,"Pathname").$new(t)},i.$$arity=1)}(n[0],n)},Opal.modules["nodejs/pathname"]=function(t){var e=t.top,n=[],i=t.nil,s=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass);return t.add_stubs(["$require","$include","$to_str","$!","$absolute?"]),e.$require("pathname"),function(e,n,o){function a(){}var l,c,u=a=$(e,null,"Pathname",a),h=u.prototype,_=[u].concat(o);null==u.__path__&&(u.__path__=i),h.path=i,u.$include(s(_,"Comparable")),u.__path__=r(1);var d=u.__path__;return t.def(u,"$absolute?",l=function(){return d.isAbsolute(this.path.$to_str())},l.$$arity=0),t.def(u,"$relative?",c=function(){return this["$absolute?"]()["$!"]()},c.$$arity=0),i&&"relative?"}(n[0],0,n)},Opal.modules.nodejs=function(t){var e=t.top,r=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$require"]),function(t,e){function r(){}var i=r=n(t,"NodeJS",r);i.prototype,[i].concat(e)}(r[0],r),e.$require("nodejs/kernel"),e.$require("nodejs/file"),e.$require("nodejs/dir"),e.$require("nodejs/io"),e.$require("nodejs/open-uri"),e.$require("nodejs/pathname")}},function(t,e){function r(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id=14},function(t,e,r){var n=r(16),i=r(17);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,r){var s=[];var $=i("{","}",e);if(!$||/\$$/.test($.pre))return[e];var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test($.body);var l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test($.body);var u=a||l;var p=$.body.indexOf(",")>=0;if(!u&&!p)return $.post.match(/,.*\}/)?(e=$.pre+"{"+$.body+o+$.post,t(e)):[e];var m;if(u)m=$.body.split(/\.\./);else if(1===(m=function t(e){if(!e)return[""];var r=[];var n=i("{","}",e);if(!n)return e.split(",");var s=n.pre;var $=n.body;var o=n.post;var a=s.split(",");a[a.length-1]+="{"+$+"}";var l=t(o);o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l));r.push.apply(r,a);return r}($.body)).length&&1===(m=t(m[0],!1).map(h)).length){var y=$.post.length?t($.post,!1):[""];return y.map(function(t){return $.pre+m[0]+t})}var g=$.pre;var y=$.post.length?t($.post,!1):[""];var b;if(u){var v=c(m[0]),x=c(m[1]),w=Math.max(m[0].length,m[1].length),k=3==m.length?Math.abs(c(m[2])):1,E=d,A=x<v;A&&(k*=-1,E=f);var O=m.some(_);b=[];for(var S=v;E(S,x);S+=k){var R;if(l)"\\"===(R=String.fromCharCode(S))&&(R="");else if(R=String(S),O){var C=w-R.length;if(C>0){var T=new Array(C+1).join("0");R=S<0?"-"+T+R.slice(1):T+R}}b.push(R)}}else b=n(m,function(e){return t(e,!1)});for(var M=0;M<b.length;M++)for(var I=0;I<y.length;I++){var N=g+b[M]+y[I];(!r||u||N)&&s.push(N)}return s}(function(t){return t.split("\\\\").join(s).split("\\{").join($).split("\\}").join(o).split("\\,").join(a).split("\\.").join(l)}(t),!0).map(u)};var s="\0SLASH"+Math.random()+"\0",$="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function u(t){return t.split(s).join("\\").split($).join("{").split(o).join("}").split(a).join(",").split(l).join(".")}function h(t){return"{"+t+"}"}function _(t){return/^-?0\d/.test(t)}function d(t,e){return t<=e}function f(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var n=[],i=0;i<t.length;i++){var s=e(t[i],i);r(s)?n.push.apply(n,s):n.push(s)}return n};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function n(t,e,r){t instanceof RegExp&&(t=i(t,r)),e instanceof RegExp&&(e=i(e,r));var n=s(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function i(t,e){var r=e.match(t);return r?r[0]:null}function s(t,e,r){var n,i,s,$,o,a=r.indexOf(t),l=r.indexOf(e,a+1),c=a;if(a>=0&&l>0){for(n=[],s=r.length;c>=0&&!o;)c==a?(n.push(c),a=r.indexOf(t,c+1)):1==n.length?o=[n.pop(),l]:((i=n.pop())<s&&(s=i,$=l),l=r.indexOf(e,c+1)),c=a<l&&a>=0?a:l;n.length&&(o=[s,$])}return o}t.exports=n,n.range=s},function(t,e,r){try{var n=r(3);if("function"!=typeof n.inherits)throw"";t.exports=n.inherits}catch(e){t.exports=r(19)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){t.exports=require("events")},function(t,e,r){t.exports=h,h.GlobSync=_;var n=r(0),i=r(2),s=(i.Minimatch,r(5).Glob,r(3),r(1)),$=r(6),o=r(4),a=r(7),l=(a.alphasort,a.alphasorti,a.setopts),c=a.ownProp,u=a.childrenIgnored;function h(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new _(t,e).found}function _(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof _))return new _(t,e);if(l(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}_.prototype._finish=function(){if($(this instanceof _),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),i[n.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(s)]=!0}})}a.finish(this)},_.prototype._process=function(t,e,r){$(this instanceof _);for(var n,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e);case 0:n=null;break;default:n=t.slice(0,s).join("/")}var a,l=t.slice(s);null===n?a=".":o(n)||o(t.join("/"))?(n&&o(n)||(n="/"+n),a=n):a=n;var c=this._makeAbs(a);u(this,a)||(l[0]===i.GLOBSTAR?this._processGlobStar(n,a,c,l,e,r):this._processReaddir(n,a,c,l,e,r))},_.prototype._processReaddir=function(t,e,r,n,i,$){var o=this._readdir(r,$);if(o){for(var a=n[0],l=!!this.minimatch.negate,c=a._glob,u=this.dot||"."===c.charAt(0),h=[],_=0;_<o.length;_++){if("."!==(p=o[_]).charAt(0)||u)(l&&!t?!p.match(a):p.match(a))&&h.push(p)}var d=h.length;if(0!==d)if(1!==n.length||this.mark||this.stat){n.shift();for(_=0;_<d;_++){var f;p=h[_];f=t?[t,p]:[p],this._process(f.concat(n),i,$)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var _=0;_<d;_++){var p=h[_];t&&(p="/"!==t.slice(-1)?t+"/"+p:t+p),"/"!==p.charAt(0)||this.nomount||(p=s.join(this.root,p)),this.matches[i][p]=!0}}}},_.prototype._emitMatch=function(t,e){this._makeAbs(e);if(this.mark&&(e=this._mark(e)),!this.matches[t][e]){if(this.nodir){var r=this.cache[this._makeAbs(e)];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}},_.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=n.lstatSync(t)}catch(t){return null}var i=r.isSymbolicLink();return this.symlinks[t]=i,i||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},_.prototype._readdir=function(t,e){if(e&&!c(this.symlinks,t))return this._readdirInGlobStar(t);if(c(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,n.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},_.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},_.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(t)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},_.prototype._processGlobStar=function(t,e,r,n,i,s){var $=this._readdir(r,s);if($){var o=n.slice(1),a=t?[t]:[],l=a.concat(o);this._process(l,i,!1);var c=$.length;if(!this.symlinks[r]||!s)for(var u=0;u<c;u++){if("."!==$[u].charAt(0)||this.dot){var h=a.concat($[u],o);this._process(h,i,!0);var _=a.concat($[u],n);this._process(_,i,!0)}}}},_.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&o(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this.matches[e][t]=!0}},_.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&c(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var s=this.statCache[e];if(!s){var $;try{$=n.lstatSync(e)}catch(t){return!1}if($.isSymbolicLink())try{s=n.statSync(e)}catch(t){s=$}else s=$}this.statCache[e]=s;i=s.isDirectory()?"DIR":"FILE";return this.cache[e]=this.cache[e]||i,(!r||"DIR"===i)&&i},_.prototype._mark=function(t){return a.mark(this,t)},_.prototype._makeAbs=function(t){return a.makeAbs(this,t)}},function(t,e,r){var n=r(8),i=Object.create(null),s=r(9);t.exports=n(function(t,e){return i[t]?(i[t].push(e),null):(i[t]=[e],function(t){return s(function e(){var r=i[t],n=r.length,s=function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}(arguments);try{for(var $=0;$<n;$++)r[$].apply(null,s)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,s)})):delete i[t]}})}(t))})},function(t,e,r){
/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */
var n=r(24),i=r(25).spawn,s=r(0);e.XMLHttpRequest=function(){"use strict";var t,e,$=this,o=r(26),a=r(27),l={},c=!1,u={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},h={},_={},d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],f=["TRACE","TRACK","CONNECT"],p=!1,m=!1,y={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1;this.open=function(t,e,r,n,i){if(this.abort(),m=!1,!function(t){return t&&-1===f.indexOf(t)}(t))throw new Error("SecurityError: Request method not allowed");l={method:t,url:e.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},g(this.OPENED)},this.setDisableHeaderCheck=function(t){c=t},this.setRequestHeader=function(t,e){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(function(t){return c||t&&-1===d.indexOf(t.toLowerCase())}(t)){if(p)throw new Error("INVALID_STATE_ERR: send flag is true");t=_[t.toLowerCase()]||t,_[t.toLowerCase()]=t,h[t]=h[t]?h[t]+", "+e:e}else console.warn('Refused to set unsafe header "'+t+'"')},this.getResponseHeader=function(t){return"string"==typeof t&&this.readyState>this.OPENED&&e&&e.headers&&e.headers[t.toLowerCase()]&&!m?e.headers[t.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||m)return"";var t="";for(var r in e.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(t+=r+": "+e.headers[r]+"\r\n");return t.substr(0,t.length-2)},this.getRequestHeader=function(t){return"string"==typeof t&&_[t.toLowerCase()]?h[_[t.toLowerCase()]]:""},this.send=function(r){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(p)throw new Error("INVALID_STATE_ERR: send has already been called");var c,d=!1,f=!1,y=n.parse(l.url);switch(y.protocol){case"https:":d=!0;case"http:":c=y.hostname;break;case"file:":f=!0;break;case void 0:case null:case"":c="localhost";break;default:throw new Error("Protocol not supported.")}if(f){if("GET"!==l.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(l.async)s.readFile(y.pathname,"utf8",function(t,e){t?$.handleError(t):($.status=200,$.responseText=e,g($.DONE))});else try{this.responseText=s.readFileSync(y.pathname,"utf8"),this.status=200,g($.DONE)}catch(t){this.handleError(t)}}else{var b=y.port||(d?443:80),v=y.pathname+(y.search?y.search:"");for(var x in u)_[x.toLowerCase()]||(h[x]=u[x]);if(h.Host=c,d&&443===b||80===b||(h.Host+=":"+y.port),l.user){void 0===l.password&&(l.password="");var w=new Buffer(l.user+":"+l.password);h.Authorization="Basic "+w.toString("base64")}"GET"===l.method||"HEAD"===l.method?r=null:r?(h["Content-Length"]=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),h["Content-Type"]||(h["Content-Type"]="text/plain;charset=UTF-8")):"POST"===l.method&&(h["Content-Length"]=0);var k={host:c,port:b,path:v,method:l.method,headers:h,agent:!1,withCredentials:$.withCredentials};if(m=!1,l.async){var E=d?a.request:o.request;p=!0,$.dispatchEvent("readystatechange");var A=function(t){$.handleError(t)};t=E(k,function r(i){if(301!==(e=i).statusCode&&302!==e.statusCode&&303!==e.statusCode&&307!==e.statusCode)e.setEncoding("utf8"),g($.HEADERS_RECEIVED),$.status=e.statusCode,e.on("data",function(t){t&&($.responseText+=t),p&&g($.LOADING)}),e.on("end",function(){p&&(g($.DONE),p=!1)}),e.on("error",function(t){$.handleError(t)});else{l.url=e.headers.location;var s=n.parse(l.url);c=s.hostname;var o={hostname:s.hostname,port:s.port,path:s.path,method:303===e.statusCode?"GET":l.method,headers:h,withCredentials:$.withCredentials};(t=E(o,r).on("error",A)).end()}}).on("error",A),r&&t.write(r),t.end(),$.dispatchEvent("loadstart")}else{var O=".node-xmlhttprequest-content-"+process.pid,S=".node-xmlhttprequest-sync-"+process.pid;s.writeFileSync(S,"","utf8");for(var R="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(d?"s":"")+".request;var options = "+JSON.stringify(k)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+O+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+S+"');});response.on('error', function(error) {fs.writeFileSync('"+O+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+S+"');});}).on('error', function(error) {fs.writeFileSync('"+O+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+S+"');});"+(r?"req.write('"+JSON.stringify(r).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",C=i(process.argv[0],["-e",R]);s.existsSync(S););var T=JSON.parse(s.readFileSync(O,"utf8"));C.stdin.end(),s.unlinkSync(O),T.err?$.handleError(T.err):(e=T.data,$.status=T.data.statusCode,$.responseText=T.data.text,g($.DONE))}}},this.handleError=function(t){this.status=0,this.statusText=t,this.responseText=t.stack,m=!0,g(this.DONE),this.dispatchEvent("error")},this.abort=function(){t&&(t.abort(),t=null),h=u,this.status=0,this.responseText="",this.responseXML="",m=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!p||this.readyState===this.DONE||(p=!1,g(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(t,e){t in y||(y[t]=[]),y[t].push(e)},this.removeEventListener=function(t,e){t in y&&(y[t]=y[t].filter(function(t){return t!==e}))},this.dispatchEvent=function(t){if("function"==typeof $["on"+t]&&$["on"+t](),t in y)for(var e=0,r=y[t].length;e<r;e++)y[t][e].call($)};var g=function(t){t!=$.LOADING&&$.readyState===t||($.readyState=t,(l.async||$.readyState<$.OPENED||$.readyState===$.DONE)&&$.dispatchEvent("readystatechange"),$.readyState!==$.DONE||m||($.dispatchEvent("load"),$.dispatchEvent("loadend")))}}},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("child_process")},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("https")},function(t,e){Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],i=t.nil,s=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,a){function l(){}var c,u,h,_,d,f,p,m,y=l=$(n,"Comparable",l),g=(y.prototype,[y].concat(a));t.defs(y,"$normalize",c=function(t){return o(s(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},c.$$arity=1),t.def(y,"$==",u=function(e){var r=i;try{return!!o(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!o(r=this["$<=>"](e))&&0==s(g,"Comparable").$normalize(r))}catch(e){if(!t.rescue(e,[s(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},u.$$arity=1),t.def(y,"$>",h=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)>0},h.$$arity=1),t.def(y,"$>=",_=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)>=0},_.$$arity=1),t.def(y,"$<",d=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)<0},d.$$arity=1),t.def(y,"$<=",f=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(s(g,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),s(g,"Comparable").$normalize(e)<=0},f.$$arity=1),t.def(y,"$between?",p=function(t,n){return!r(this,t)&&!e(this,n)},p.$$arity=2),t.def(y,"$clamp",m=function(t,n){var i;return i=t["$<=>"](n),o(i)||this.$raise(s(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e(s(g,"Comparable").$normalize(i),0))&&this.$raise(s(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r(s(g,"Comparable").$normalize(this["$<=>"](t)),0))?t:o(e(s(g,"Comparable").$normalize(this["$<=>"](n)),0))?n:this},m.$$arity=2)}(n[0],n)},Opal.modules.pathname=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.send,c=t.module;return t.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,n,c){function u(){}var h,_,d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I,N,P,L,D=u=o(r,null,"Pathname",u),F=D.prototype,z=[D].concat(c);F.path=i,D.$include($(z,"Comparable")),t.const_set(z[0],"SEPARATOR_PAT",new RegExp($(z,"Regexp").$quote(s($(z,"File"),"SEPARATOR")))),t.def(D,"$initialize",h=function(t){return a($(z,"Pathname")["$==="](t))?this.path=t.$path().$to_s():a(t["$respond_to?"]("to_path"))?this.path=t.$to_path():a(t["$is_a?"]($(z,"String")))?this.path=t:a(t["$nil?"]())?this.$raise($(z,"TypeError"),"no implicit conversion of nil into String"):this.$raise($(z,"TypeError"),"no implicit conversion of "+t.$class()+" into String"),this.path["$=="]("\0")?this.$raise($(z,"ArgumentError")):i},h.$$arity=1),D.$attr_reader("path"),t.def(D,"$==",_=function(t){return t.$path()["$=="](this.path)},_.$$arity=1),t.def(D,"$absolute?",d=function(){return this["$relative?"]()["$!"]()},d.$$arity=0),t.def(D,"$relative?",f=function(){var e,r,n=i,s=i;for(n=this.path;a(s=this.$chop_basename(n));)r=s,n=null==(e=t.to_ary(r))[0]?i:e[0];return n["$=="]("")},f.$$arity=0),t.def(D,"$chop_basename",p=function(t){var e;return e=$(z,"File").$basename(t),a($(z,"Regexp").$new("^"+s($(z,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](e))?i:[t["$[]"](0,t.$rindex(e)),e]},p.$$arity=1),t.def(D,"$root?",m=function(){return this.path["$=="]("/")},m.$$arity=0),t.def(D,"$parent",y=function(){var t=this,e=i;return(e=t.path.$sub(/\/([^\/]+\/?$)/,""))["$=="]("")&&(e=a(t["$absolute?"]())?"/":"."),$(z,"Pathname").$new(e)},y.$$arity=0),t.def(D,"$sub",g=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),$(z,"Pathname").$new(l(this.path,"sub",t.to_a(r)))},g.$$arity=-1),t.def(D,"$cleanpath",b=function(){return t.normalize(this.path)},b.$$arity=0),t.def(D,"$to_path",v=function(){return this.path},v.$$arity=0),t.def(D,"$hash",x=function(){return this.path},x.$$arity=0),t.def(D,"$expand_path",w=function(){return $(z,"Pathname").$new($(z,"File").$expand_path(this.path))},w.$$arity=0),t.def(D,"$+",k=function(t){return a($(z,"Pathname")["$==="](t))||(t=$(z,"Pathname").$new(t)),$(z,"Pathname").$new(this.$plus(this.path,t.$to_s()))},k.$$arity=1),t.def(D,"$plus",E=function(r,n){var s,o,l,c=i,u=i,h=i,_=i,d=i,f=i,p=i,m=i,y=i;for(c=n,u=[],h=[];a(_=this.$chop_basename(c));)l=_,c=null==(o=t.to_ary(l))[0]?i:o[0],d=null==o[1]?i:o[1],u.$unshift(c.$length()),h.$unshift(d);if(a(c["$!="]("")))return n;for(f=r;a(!0);){for(;a(a(l=h["$empty?"]()["$!"]())?h.$first()["$=="]("."):l);)u.$shift(),h.$shift();if(!a(p=this.$chop_basename(f)))break;if(l=p,f=null==(o=t.to_ary(l))[0]?i:o[0],!(m=null==o[1]?i:o[1])["$=="](".")){if(a(a(o=a(l=m["$=="](".."))?l:h["$empty?"]())?o:h.$first()["$!="](".."))){f=e(f,m);break}u.$shift(),h.$shift()}}if(p=this.$chop_basename(f),a(a(s=p["$!"]())?new RegExp($(z,"SEPARATOR_PAT"))["$=~"]($(z,"File").$basename(f)):s))for(;a(a(o=h["$empty?"]()["$!"]())?h.$first()["$=="](".."):o);)u.$shift(),h.$shift();return a(h["$empty?"]()["$!"]())?(y=n["$[]"](t.Range.$new(u.$first(),-1,!1)),a(p)?$(z,"File").$join(f,y):e(f,y)):a(p)?f:$(z,"File").$dirname(f)},E.$$arity=2),t.def(D,"$join",A=function(r){try{var n,s,o,c=i;return n=t.slice.call(arguments,0,arguments.length),a((s=n)["$empty?"]())?this:(c=s.$pop(),a($(z,"Pathname")["$==="](c))||(c=$(z,"Pathname").$new(c)),a(c["$absolute?"]())?c:(l(s,"reverse_each",[],((o=function(r){o.$$s;if(null==r&&(r=i),a($(z,"Pathname")["$==="](r))||(r=$(z,"Pathname").$new(r)),c=e(r,c),!a(c["$absolute?"]()))return i;t.ret(c)}).$$s=this,o.$$arity=1,o)),e(this,c)))}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(D,"$split",O=function(){return[this.$dirname(),this.$basename()]},O.$$arity=0),t.def(D,"$dirname",S=function(){return $(z,"Pathname").$new($(z,"File").$dirname(this.path))},S.$$arity=0),t.def(D,"$basename",R=function(){return $(z,"Pathname").$new($(z,"File").$basename(this.path))},R.$$arity=0),t.def(D,"$directory?",C=function(){return $(z,"File")["$directory?"](this.path)},C.$$arity=0),t.def(D,"$extname",T=function(){return $(z,"File").$extname(this.path)},T.$$arity=0),t.def(D,"$<=>",M=function(t){return this.$path()["$<=>"](t.$path())},M.$$arity=1),t.alias(D,"eql?","=="),t.alias(D,"===","=="),t.alias(D,"to_str","to_path"),t.alias(D,"to_s","to_path"),t.const_set(z[0],"SAME_PATHS",a(s($(z,"File"),"FNM_SYSCASE")["$nonzero?"]())?l(D,"proc",[],((I=function(t,e){return I.$$s,null==t&&(t=i),null==e&&(e=i),t.$casecmp(e)["$=="](0)}).$$s=D,I.$$arity=2,I)):l(D,"proc",[],((N=function(t,e){return N.$$s,null==t&&(t=i),null==e&&(e=i),t["$=="](e)}).$$s=D,N.$$arity=2,N))),t.def(D,"$relative_path_from",P=function(r){var n,s,o,c=i,u=i,h=i,_=i,d=i,f=i,p=i;for(o=this.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),c=o,u=[];a(h=this.$chop_basename(c));)s=h,c=null==(n=t.to_ary(s))[0]?i:n[0],_=null==n[1]?i:n[1],a(_["$!="]("."))&&u.$unshift(_);for(d=r,f=[];a(h=this.$chop_basename(d));)s=h,d=null==(n=t.to_ary(s))[0]?i:n[0],_=null==n[1]?i:n[1],a(_["$!="]("."))&&f.$unshift(_);for(a($(z,"SAME_PATHS")["$[]"](c,d))||this.$raise($(z,"ArgumentError"),"different prefix: "+c.$inspect()+" and "+r.$inspect());a(a(n=a(s=u["$empty?"]()["$!"]())?f["$empty?"]()["$!"]():s)?$(z,"SAME_PATHS")["$[]"](u.$first(),f.$first()):n);)u.$shift(),f.$shift();return a(f["$include?"](".."))&&this.$raise($(z,"ArgumentError"),"base_directory has ..: "+r.$inspect()),f.$fill(".."),p=e(f,u),a(p["$empty?"]())?$(z,"Pathname").$new("."):$(z,"Pathname").$new(l($(z,"File"),"join",t.to_a(p)))},P.$$arity=1),t.def(D,"$entries",L=function(){var t;return l($(z,"Dir").$entries(this.path),"map",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=i),r.$class().$new(e)}).$$s=this,t.$$arity=1,t))},L.$$arity=0)}(n[0],0,n),function(e,r){function n(){}var i,s=n=c(e,"Kernel",n),o=(s.prototype,[s].concat(r));t.def(s,"$Pathname",i=function(t){return $(o,"Pathname").$new(t)},i.$$arity=1)}(n[0],n)}},function(t,e){Opal.modules.base64=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),s=t.hash2,$=t.truthy;return t.add_stubs(["$raise","$delete"]),function(e,o){function a(){}var l,c,u,h,_,d,f,p,m=a=i(e,"Base64",a),y=(m.prototype,[m].concat(o)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f=t.global.btoa||function(t){for(var e,r,i=String(t),s=0,$=g,o="";i.charAt(0|s)||($="=",s%1);o+=$.charAt(63&e>>8-s%1*8))(r=i.charCodeAt(s+=.75))>255&&m.$raise(n(y,"ArgumentError"),"invalid character (failed: The string to be encoded contains characters outside of the Latin1 range.)"),e=e<<8|r;return o},p=t.global.atob||function(t){var e=String(t).replace(/=+$/,"");e.length%4==1&&m.$raise(n(y,"ArgumentError"),"invalid base64 (failed: The string to be decoded is not correctly encoded.)");for(var r,i,s=0,$=0,o="";i=e.charAt($++);~i&&(r=s%4?64*r+i:i,s++%4)?o+=String.fromCharCode(255&r>>(-2*s&6)):0)i=g.indexOf(i);return o},t.defs(m,"$decode64",l=function(t){return p(t.replace(/\r?\n/g,""))},l.$$arity=1),t.defs(m,"$encode64",c=function(t){return f(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},c.$$arity=1),t.defs(m,"$strict_decode64",u=function(t){return p(t)},u.$$arity=1),t.defs(m,"$strict_encode64",h=function(t){return f(t)},h.$$arity=1),t.defs(m,"$urlsafe_decode64",_=function(t){return p(t.replace(/\-/g,"+").replace(/_/g,"/"))},_.$$arity=1),t.defs(m,"$urlsafe_encode64",d=function(e,n){var i,o=r;if(null==n)n=s([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(i=n.$$smap.padding)&&(i=!0),o=f(e).replace(/\+/g,"-").replace(/\//g,"_"),$(i)||(o=o.$delete("=")),o},d.$$arity=-2)}(e[0],e)}},function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var i=[],s=t.nil,$=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.gvars;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$to_str","$chomp","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(i,u,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I=_=a(i,u,"StringIO",_),N=I.prototype,P=[I].concat(h);return N.position=N.string=N.closed=s,I.$include($(o(P,"IO"),"Readable")),I.$include($(o(P,"IO"),"Writable")),t.defs(I,"$open",d=function(t,e){var r,n=d.$$p,i=n||s,$=s;return n&&(d.$$p=null),n&&(d.$$p=null),null==t&&(t=""),null==e&&(e=s),$=this.$new(t,e),r=i.$call($),$.$close(),r},d.$$arity=-1),I.$attr_accessor("string"),t.def(I,"$initialize",f=function(t,e){var r;return null==t&&(t=""),null==e&&(e="rw"),this.string=t,this.position=t.$length(),l(l(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?this.closed="write":l(l(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?this.closed="read":s},f.$$arity=-1),t.def(I,"$eof?",p=function(){return this.$check_readable(),this.position["$=="](this.string.$length())},p.$$arity=0),t.alias(I,"eof","eof?"),t.def(I,"$seek",m=function(t,i){var s,a,c;return null==i&&(i=$(o(P,"IO"),"SEEK_SET")),s=i,$(o(P,"IO"),"SEEK_SET")["$==="](s)?(l((c=0,"number"==typeof(a=t)&&"number"==typeof c?a>=c:a["$>="](c)))||this.$raise($(o(P,"Errno"),"EINVAL")),this.position=t):$(o(P,"IO"),"SEEK_CUR")["$==="](s)?l(e(r(this.position,t),this.string.$length()))?this.position=this.string.$length():this.position=r(this.position,t):$(o(P,"IO"),"SEEK_END")["$==="](s)&&(l(e(t,this.string.$length()))?this.position=0:this.position=n(this.position,t)),0},m.$$arity=-2),t.def(I,"$tell",y=function(){return this.position},y.$$arity=0),t.alias(I,"pos","tell"),t.alias(I,"pos=","seek"),t.def(I,"$rewind",g=function(){return this.$seek(0)},g.$$arity=0),t.def(I,"$each_byte",b=function(){var t=b.$$p,e=t||s,n=s;if(t&&(b.$$p=null),t&&(b.$$p=null),!l(e))return this.$enum_for("each_byte");for(this.$check_readable(),n=this.position;!l(this["$eof?"]());)e.$call(this.string["$[]"](n).$ord()),n=r(n,1);return this},b.$$arity=0),t.def(I,"$each_char",v=function(){var t=v.$$p,e=t||s,n=s;if(t&&(v.$$p=null),t&&(v.$$p=null),!l(e))return this.$enum_for("each_char");for(this.$check_readable(),n=this.position;!l(this["$eof?"]());)e.$call(this.string["$[]"](n)),n=r(n,1);return this},v.$$arity=0),t.def(I,"$each",x=function(e){var r=x.$$p,n=r||s,i=s;if(null==c["/"]&&(c["/"]=s),r&&(x.$$p=null),null==e&&(e=c["/"]),n===s)return this.$enum_for("each_line");this.$check_readable(),i=!1,e=l($("::","Hash")["$==="](e))?l(i=e["$[]"]("chomp"))?/\r?\n/:c["/"]:l(e)?e.$to_str():void 0;var o=this.string,a=o.length;if(this.position<a&&(o=o.substr(this.position)),e)for(var u=o.$chomp(),h=o.length!==u.length,_=u.split(e),d=0,f=_.length;d<f;d++){var p=i?_[d]:d<f-1||h?_[d]+e:_[d];t.yield1(n,p)}else if(void 0===e)t.yield1(n,o);else for(var m,y=/(.+(?:\n\n|$))\n*/g;m=y.exec(o);)t.yield1(n,m[1]);return this.position=a,this},x.$$arity=-1),t.alias(I,"each_line","each"),t.def(I,"$write",w=function(e){var i=s,$=s;return this.$check_writable(),e=this.$String(e),this.string.$length()["$=="](this.position)?(this.string=r(this.string,e),this.position=r(this.position,e.$length())):(i=this.string["$[]"](t.Range.$new(0,n(this.position,1),!1)),$=this.string["$[]"](t.Range.$new(r(this.position,e.$length()),-1,!1)),this.string=r(r(i,e),$),this.position=r(this.position,e.$length()))},w.$$arity=1),t.def(I,"$read",k=function(e,n){var i,$=this,o=s;return null==e&&(e=s),null==n&&(n=s),$.$check_readable(),l($["$eof?"]())?s:(i=l(e)?(o=$.string["$[]"]($.position,e),$.position=r($.position,e),o):(o=$.string["$[]"](t.Range.$new($.position,-1,!1)),$.position=$.string.$length(),o),l(n)?n.$write(i):i)},k.$$arity=-1),t.def(I,"$close",E=function(){return this.closed="both"},E.$$arity=0),t.def(I,"$close_read",A=function(){return this.closed["$=="]("write")?this.closed="both":this.closed="read"},A.$$arity=0),t.def(I,"$close_write",O=function(){return this.closed["$=="]("read")?this.closed="both":this.closed="write"},O.$$arity=0),t.def(I,"$closed?",S=function(){return this.closed["$=="]("both")},S.$$arity=0),t.def(I,"$closed_read?",R=function(){var t;return l(t=this.closed["$=="]("read"))?t:this.closed["$=="]("both")},R.$$arity=0),t.def(I,"$closed_write?",C=function(){var t;return l(t=this.closed["$=="]("write"))?t:this.closed["$=="]("both")},C.$$arity=0),t.def(I,"$check_writable",T=function(){return l(this["$closed_write?"]())?this.$raise(o(P,"IOError"),"not opened for writing"):s},T.$$arity=0),t.def(I,"$check_readable",M=function(){return l(this["$closed_read?"]())?this.$raise(o(P,"IOError"),"not opened for reading"):s},M.$$arity=0),s&&"check_readable"}(i[0],o(i,"IO"),i)},Opal.modules["open-uri"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],i=t.nil,s=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.truthy,l=t.send,c=t.hash2,u=t.klass;return t.add_stubs(["$require","$private","$respond_to?","$=~","$open_uri","$to_proc","$open_uri_original_open","$module_function","$open_loop","$rewind","$close_io","$close!","$closed?","$close","$request","$==","$build_response","$raise","$new","$<<","$io","$status=","$-","$meta_add_field","$attr_reader","$+","$length","$===","$init","$extend","$instance_eval","$status","$base_uri","$base_uri=","$each","$metas","$meta_add_field2","$attr_accessor","$charset","$find_encoding","$set_encoding","$force_encoding","$string","$find","$downcase","$[]=","$join","$meta_setup_encoding","$[]","$utc","$at","$content_type_parse","$scheme","$open","$read"]),r.$require("stringio"),function(e,r){function n(){}var s,c=n=o(e,"Kernel",n),u=(c.prototype,[c].concat(r));c.$private(),t.alias(c,"open_uri_original_open","open"),function(e,r){e.prototype,[e].concat(r);t.alias(e,"open_uri_original_open","open")}(t.get_singleton_class(c),u),t.def(c,"$open",s=function(e,r){var n,o,c=s.$$p,h=c||i;return c&&(s.$$p=null),c&&(s.$$p=null),n=t.slice.call(arguments,1,arguments.length),a(a(o=e["$respond_to?"]("to_str"))?/^[A-Za-z][A-Za-z0-9+\-\.]*:\/\//["$=~"](e):o)?l($(u,"OpenURI"),"open_uri",[e].concat(t.to_a(n)),h.$to_proc()):l(this,"open_uri_original_open",[e].concat(t.to_a(n)),h.$to_proc())},s.$$arity=-2),c.$module_function("open")}(n[0],n),function(r,n){function h(){}var _,d,f,p,m,y=h=o(r,"OpenURI",h),g=(y.prototype,[y].concat(n));t.defs(y,"$open_uri",_=function(e,r){var n=_.$$p,s=n||i,$=this,o=i;return n&&(_.$$p=null),t.slice.call(arguments,1,arguments.length),(o=$.$open_loop(e,c([],{}))).$rewind(),s!==i?function(){try{return t.yield1(s,o)}finally{$.$close_io(o)}}():o},_.$$arity=-2),t.defs(y,"$close_io",d=function(t){return a(t["$respond_to?"]("close!"))?t["$close!"]():a(t["$closed?"]())?i:t.$close()},d.$$arity=1),t.defs(y,"$open_loop",f=function(t,e){var r,n,o,l,c=i;return o=(n=this.$request(t)).responseText,c=n.status,l=n.statusText&&n.statusText.errno?n.statusText.errno:n.statusText,a(a(r=c["$=="](200))?r:c["$=="](0)?o:c["$=="](0))?this.$build_response(n,o,c,l):this.$raise(s($(g,"OpenURI"),"HTTPError").$new(c+" "+l,""))},f.$$arity=2),t.defs(y,"$build_response",p=function(r,n,s,o){var c,u,h=i,_=i;return(h=$(g,"Buffer").$new())["$<<"](n),_=h.$io(),c=[s+" "+o],l(_,"status=",t.to_a(c)),e(c.length,1),_.$meta_add_field("content-type",r.getResponseHeader("Content-Type")),u=r.getResponseHeader("Last-Modified"),a(u)&&_.$meta_add_field("last-modified",u),_},p.$$arity=4),t.defs(y,"$request",m=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e}catch(t){this.$raise(s($(g,"OpenURI"),"HTTPError").$new(t.message,""))}},m.$$arity=1),function(e,r,n){function i(){}var s,$=i=u(e,r,"HTTPError",i);$.prototype,[$].concat(n);t.def($,"$initialize",s=function(e,r){var n=s.$$p;return n&&(s.$$p=null),l(this,t.find_super_dispatcher(this,"initialize",s,!1),[e,r],null),this.io=r},s.$$arity=2),$.$attr_reader("io")}(g[0],$(g,"StandardError"),g),function(e,r,n){function s(){}var o,l,c,h=s=u(e,null,"Buffer",s),_=h.prototype,d=[h].concat(n);_.io=_.size=i,t.def(h,"$initialize",o=function(){return this.io=$(d,"StringIO").$new(),this.size=0},o.$$arity=0),h.$attr_reader("size"),t.def(h,"$<<",l=function(t){var e,r;return this.io["$<<"](t),this.size=(e=this.size,r=t.$length(),"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r))},l.$$arity=1),t.def(h,"$io",c=function(){return a($(d,"Meta")["$==="](this.io))||$(d,"Meta").$init(this.io),this.io},c.$$arity=0)}(g[0],0,g),function(r,n){function u(){}var h,_,d,f,p,m,y,g,b,v,x=u=o(r,"Meta",u),w=(x.prototype,[x].concat(n));t.defs($(w,"Meta"),"$init",h=function(r,n){var s,o,u=i;return null==n&&(n=i),r.$extend($(w,"Meta")),l(r,"instance_eval",[],((s=function(){var t=s.$$s||this;return t.base_uri=i,t.meta=c([],{}),t.metas=c([],{})}).$$s=this,s.$$arity=0,s)),a(n)?(u=[n.$status()],l(r,"status=",t.to_a(u)),u[e(u.length,1)],u=[n.$base_uri()],l(r,"base_uri=",t.to_a(u)),u[e(u.length,1)],l(n.$metas(),"each",[],((o=function(t,e){o.$$s;return null==t&&(t=i),null==e&&(e=i),r.$meta_add_field2(t,e)}).$$s=this,o.$$arity=2,o))):i},h.$$arity=-2),x.$attr_accessor("status"),x.$attr_accessor("base_uri"),x.$attr_reader("meta"),x.$attr_reader("metas"),t.def(x,"$meta_setup_encoding",_=function(){var t,e;return t=this.$charset(),e=this.$find_encoding(t),this.$set_encoding(e)},_.$$arity=0),t.def(x,"$set_encoding",d=function(t){return a(this["$respond_to?"]("force_encoding"))?this.$force_encoding(t):a(this["$respond_to?"]("string"))?this.$string().$force_encoding(t):this.$set_encoding(t)},d.$$arity=1),t.def(x,"$find_encoding",f=function(e){var r=i;if(r=i,a(e))try{r=$(w,"Encoding").$find(e)}catch(e){if(!t.rescue(e,[$(w,"ArgumentError")]))throw e;t.pop_exception()}return a(r)||(r=s($(w,"Encoding"),"ASCII_8BIT")),r},f.$$arity=1),t.def(x,"$meta_add_field2",p=function(r,n){var s=i;return null==this.metas&&(this.metas=i),null==this.meta&&(this.meta=i),s=[r=r.$downcase(),n],l(this.metas,"[]=",t.to_a(s)),s[e(s.length,1)],s=[r,n.$join(", ")],l(this.meta,"[]=",t.to_a(s)),s[e(s.length,1)],r["$=="]("content-type")?this.$meta_setup_encoding():i},p.$$arity=2),t.def(x,"$meta_add_field",m=function(t,e){return this.$meta_add_field2(t,[e])},m.$$arity=2),t.def(x,"$last_modified",y=function(){var t=i;return null==this.metas&&(this.metas=i),a(t=this.metas["$[]"]("last-modified"))?$(w,"Time").$at(Date.parse(t.$join(", "))/1e3).$utc():i},y.$$arity=0),t.def(x,"$content_type_parse",g=function(){return null==this.metas&&(this.metas=i),this.metas["$[]"]("content-type").$join(", ")},g.$$arity=0),t.def(x,"$charset",b=function(){var t,e,r,n;return null==this.base_uri&&(this.base_uri=i),n=this.$content_type_parse(),a(a(t=a(e=a(r=n)?/^text\//["$=~"](n):r)?this.base_uri:e)?/^http$/i["$=~"](this.base_uri.$scheme()):t)?"iso-8859-1":i},b.$$arity=0),t.def(x,"$content_type",v=function(){var t,e;return e=this.$content_type_parse(),a(t=e)?t:"application/octet-stream"},v.$$arity=0)}(g[0],g),function(e,r){function n(){}var s,a,u=n=o(e,"OpenRead",n),h=(u.prototype,[u].concat(r));t.def(u,"$open",s=function(e){var r,n=s.$$p,o=n||i,a=this;return n&&(s.$$p=null),n&&(s.$$p=null),r=t.slice.call(arguments,0,arguments.length),l($(h,"OpenURI"),"open_uri",[a].concat(t.to_a(r)),o.$to_proc())},s.$$arity=-1),t.def(u,"$read",a=function(t){var e;return null==t&&(t=c([],{})),l(this,"open",[t],((e=function(t){var r;e.$$s;return null==t&&(t=i),r=t.$read(),$(h,"Meta").$init(r,t),r}).$$s=this,e.$$arity=1,e))},a.$$arity=-1)}(g[0],g)}(n[0],n)}},function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var i=[],s=t.nil,$=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.gvars;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$to_str","$chomp","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(i,u,h){function _(){}var d,f,p,m,y,g,b,v,x,w,k,E,A,O,S,R,C,T,M,I=_=a(i,u,"StringIO",_),N=I.prototype,P=[I].concat(h);return N.position=N.string=N.closed=s,I.$include($(o(P,"IO"),"Readable")),I.$include($(o(P,"IO"),"Writable")),t.defs(I,"$open",d=function(t,e){var r,n=d.$$p,i=n||s,$=s;return n&&(d.$$p=null),n&&(d.$$p=null),null==t&&(t=""),null==e&&(e=s),$=this.$new(t,e),r=i.$call($),$.$close(),r},d.$$arity=-1),I.$attr_accessor("string"),t.def(I,"$initialize",f=function(t,e){var r;return null==t&&(t=""),null==e&&(e="rw"),this.string=t,this.position=t.$length(),l(l(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?this.closed="write":l(l(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?this.closed="read":s},f.$$arity=-1),t.def(I,"$eof?",p=function(){return this.$check_readable(),this.position["$=="](this.string.$length())},p.$$arity=0),t.alias(I,"eof","eof?"),t.def(I,"$seek",m=function(t,i){var s,a,c;return null==i&&(i=$(o(P,"IO"),"SEEK_SET")),s=i,$(o(P,"IO"),"SEEK_SET")["$==="](s)?(l((c=0,"number"==typeof(a=t)&&"number"==typeof c?a>=c:a["$>="](c)))||this.$raise($(o(P,"Errno"),"EINVAL")),this.position=t):$(o(P,"IO"),"SEEK_CUR")["$==="](s)?l(e(r(this.position,t),this.string.$length()))?this.position=this.string.$length():this.position=r(this.position,t):$(o(P,"IO"),"SEEK_END")["$==="](s)&&(l(e(t,this.string.$length()))?this.position=0:this.position=n(this.position,t)),0},m.$$arity=-2),t.def(I,"$tell",y=function(){return this.position},y.$$arity=0),t.alias(I,"pos","tell"),t.alias(I,"pos=","seek"),t.def(I,"$rewind",g=function(){return this.$seek(0)},g.$$arity=0),t.def(I,"$each_byte",b=function(){var t=b.$$p,e=t||s,n=s;if(t&&(b.$$p=null),t&&(b.$$p=null),!l(e))return this.$enum_for("each_byte");for(this.$check_readable(),n=this.position;!l(this["$eof?"]());)e.$call(this.string["$[]"](n).$ord()),n=r(n,1);return this},b.$$arity=0),t.def(I,"$each_char",v=function(){var t=v.$$p,e=t||s,n=s;if(t&&(v.$$p=null),t&&(v.$$p=null),!l(e))return this.$enum_for("each_char");for(this.$check_readable(),n=this.position;!l(this["$eof?"]());)e.$call(this.string["$[]"](n)),n=r(n,1);return this},v.$$arity=0),t.def(I,"$each",x=function(e){var r=x.$$p,n=r||s,i=s;if(null==c["/"]&&(c["/"]=s),r&&(x.$$p=null),null==e&&(e=c["/"]),n===s)return this.$enum_for("each_line");this.$check_readable(),i=!1,e=l($("::","Hash")["$==="](e))?l(i=e["$[]"]("chomp"))?/\r?\n/:c["/"]:l(e)?e.$to_str():void 0;var o=this.string,a=o.length;if(this.position<a&&(o=o.substr(this.position)),e)for(var u=o.$chomp(),h=o.length!==u.length,_=u.split(e),d=0,f=_.length;d<f;d++){var p=i?_[d]:d<f-1||h?_[d]+e:_[d];t.yield1(n,p)}else if(void 0===e)t.yield1(n,o);else for(var m,y=/(.+(?:\n\n|$))\n*/g;m=y.exec(o);)t.yield1(n,m[1]);return this.position=a,this},x.$$arity=-1),t.alias(I,"each_line","each"),t.def(I,"$write",w=function(e){var i=s,$=s;return this.$check_writable(),e=this.$String(e),this.string.$length()["$=="](this.position)?(this.string=r(this.string,e),this.position=r(this.position,e.$length())):(i=this.string["$[]"](t.Range.$new(0,n(this.position,1),!1)),$=this.string["$[]"](t.Range.$new(r(this.position,e.$length()),-1,!1)),this.string=r(r(i,e),$),this.position=r(this.position,e.$length()))},w.$$arity=1),t.def(I,"$read",k=function(e,n){var i,$=this,o=s;return null==e&&(e=s),null==n&&(n=s),$.$check_readable(),l($["$eof?"]())?s:(i=l(e)?(o=$.string["$[]"]($.position,e),$.position=r($.position,e),o):(o=$.string["$[]"](t.Range.$new($.position,-1,!1)),$.position=$.string.$length(),o),l(n)?n.$write(i):i)},k.$$arity=-1),t.def(I,"$close",E=function(){return this.closed="both"},E.$$arity=0),t.def(I,"$close_read",A=function(){return this.closed["$=="]("write")?this.closed="both":this.closed="read"},A.$$arity=0),t.def(I,"$close_write",O=function(){return this.closed["$=="]("read")?this.closed="both":this.closed="write"},O.$$arity=0),t.def(I,"$closed?",S=function(){return this.closed["$=="]("both")},S.$$arity=0),t.def(I,"$closed_read?",R=function(){var t;return l(t=this.closed["$=="]("read"))?t:this.closed["$=="]("both")},R.$$arity=0),t.def(I,"$closed_write?",C=function(){var t;return l(t=this.closed["$=="]("write"))?t:this.closed["$=="]("both")},C.$$arity=0),t.def(I,"$check_writable",T=function(){return l(this["$closed_write?"]())?this.$raise(o(P,"IOError"),"not opened for writing"):s},T.$$arity=0),t.def(I,"$check_readable",M=function(){return l(this["$closed_read?"]())?this.$raise(o(P,"IOError"),"not opened for reading"):s},M.$$arity=0),s&&"check_readable"}(i[0],o(i,"IO"),i)}},function(t,e,r){"use strict";function n(t,e,r,n){t.push({severity:e,message:{text:r,source_location:n}})}r.r(e);const i=(t,e,r)=>n(t,"ERROR",e,r),s=(t,e,r)=>n(t,"WARN",e,r),$=(t,e,r)=>n(t,"OPTIONAL",e,r),o="section",a="type",l="time",c="verification",u="verificationFail",h="verificationSuccess",_="taskResource",d="walkthroughResource",f=1,p=2;class m{constructor(t,e,r){this._html=t,this._successBlock=e,this._failBlock=r}get html(){return this._html}get hasSuccessBlock(){return!!this._successBlock}get hasFailBlock(){return!!this._failBlock}get successBlock(){return this._successBlock}get failBlock(){return this._failBlock}static canConvert(t){return t.getAttribute(a)===c}static fromAdoc(t,e,r){return new m(t.convert(),e,r)}}class y{constructor(t){this._html=t}get html(){return this._html}static canConvert(t){return t.getAttribute(a)===h}static fromAdoc(t){return new y(t.convert())}static findNextForVerification(t){for(const e of t){if(m.canConvert(e))return null;if(y.canConvert(e))return y.fromAdoc(e)}return null}}class g{constructor(t){this._html=t}get html(){return this._html}static canConvert(t){return t.getAttribute(a)===u}static fromAdoc(t){return new g(t.convert())}static findNextForVerification(t){for(const e of t){if(m.canConvert(e))return null;if(g.canConvert(e))return g.fromAdoc(e)}return null}}class b{constructor(t){this._html=t}verify(t){this.html||s(t,"Empty paragraph","<paragraph>")}get html(){return this._html}static canConvert(t){return!m.canConvert(t)&&!g.canConvert(t)&&!y.canConvert(t)}static fromAdoc(t){return new b(t.convert())}}class v{constructor(t,e,r){this._html=t,this._serviceName=e,this._title=r}get title(){return this._title}get html(){return this._html}get serviceName(){return this._serviceName}static canConvert(t){return t.context===o&&t.level===p&&t.getAttribute(a)===_}static fromAdoc(t){const e=t.getAttribute("serviceName"),r=t.blocks[0]?t.blocks[0].convert():"";return new v(r,e,t.title)}}class x{constructor(t,e,r){this._html=t,this._serviceName=e,this._title=r}get title(){return this._title}get html(){return this._html}get serviceName(){return this._serviceName}static canConvert(t){return t.context===o&&t.level===p&&t.getAttribute(a)===d}static fromAdoc(t){const e=t.getAttribute("serviceName"),r=t.blocks[0]?t.blocks[0].convert():"";return new x(r,e,t.title)}}class w{constructor(t,e){this._title=t,this._blocks=e}verify(t){this.title||i(t,"Title missing","<procedure>")}get title(){return this._title}get blocks(){return this._blocks}static canConvert(t){return t.context===o&&t.level===p}static fromAdoc(t){const e=t.title,r=t.blocks.reduce((t,e,r,n)=>{if(m.canConvert(e)){const i=n.slice(r+1,n.length),s=y.findNextForVerification(i),$=g.findNextForVerification(i);t.push(new m(e.convert(),s,$))}return b.canConvert(e)&&t.push(new b(e.convert())),t},[]);return new w(e,r)}}class k{constructor(t,e,r,n,i){this._title=t,this._time=e,this._html=r,this._procedures=n,this._resources=i}verify(t){this.title||i(t,"Title missing","<task>"),this.time&&0!==this.time||i(t,"No time defined",this.title),this.procedures&&0!==this.procedures.length||i(t,"No procedures defined",this.title),this.resources&&0!==this.resources.length||$(t,"No task resources defined",this.title),this.procedures&&this.procedures.length>0&&this.procedures.forEach(e=>e.verify(t))}get title(){return this._title}get time(){return this._time}get html(){return this._html}get procedures(){return this._procedures.filter(t=>!(t instanceof v))}get resources(){return this._resources}static canConvert(t){return t.context===o&&t.level===f}static collectTaskResources(t,e){t.blocks.forEach(t=>{v.canConvert(t)?e.push(v.fromAdoc(t)):t.blocks.length>0&&this.collectTaskResources(t,e)})}static fromAdoc(t){const e=t.title,r=parseInt(t.getAttribute(l),10)||0,n=[];this.collectTaskResources(t,n);const i=t.blocks.reduce((t,e)=>(w.canConvert(e)?t.push(w.fromAdoc(e)):b.canConvert(e)&&t.push(b.fromAdoc(e)),t),[]);return new k(e,r,t.convert(),i,n)}}class E{constructor(t,e,r,n,i){this._title=t,this._preamble=e,this._time=r,this._tasks=n,this._resources=i}verify(t){this.title||i(t,"Title missing","<walkthrough>"),this.preamble||i(t,"Preamble missing",this.title),this.time&&0!==this.time||i(t,"No time defined",this.title),this.tasks&&0!==this.tasks.length||i(t,"No tasks defined",this.title),this.resources&&0!==this.resources.length||$(t,"No walkthrough resources defined",this.title),this.tasks&&this.tasks.length>0&&this.tasks.forEach(e=>e.verify(t))}get title(){return this._title}get preamble(){return this._preamble}get time(){return this._time}get tasks(){return this._tasks}get resources(){return this._resources}static collectWalkthroughResources(t){const e=[];return t.blocks=t.blocks.reduce((t,r)=>(x.canConvert(r)?e.push(x.fromAdoc(r)):t.push(r),t),[]),e}static fromAdoc(t){const e=t.getDocumentTitle();if(t.blocks.length<1)throw new Error(`Invalid Walkthrough ${e}`);const r=this.collectWalkthroughResources(t.blocks[0]),n=t.blocks[0].convert(),i=t.blocks.filter(t=>k.canConvert(t)).map(t=>k.fromAdoc(t)),s=i.reduce((t,e)=>t+e._time||0,0);return new E(e,n,s,i,r)}}var A=E;function O(t){return A.fromAdoc(t)}var S=r(10),R=r.n(S);r.d(e,"check",function(){return N}),r.d(e,"parse",function(){return I});const C=R()(),T={WARN:"WARN",ERROR:"ERROR"},M=t=>"error"===t.warnings;function I(t){return O(C.load(t))}function N(t,e){const r=C.MemoryLogger.$new();C.LoggerManager.setLogger(r);const n=[];return O(C.load(t)).verify(n),function(t,e,r){let n=t.getMessages();n=n.concat(e);let i=!0;return n.forEach(t=>{const{severity:e,message:{text:n,source_location:s}}=t;e===T.ERROR?i=i&&!1:e===T.WARN&&M(r)&&(i=i&&!1),console.error(`${e} ${n} at ${s}`)}),i}(r,n,e)}}]));